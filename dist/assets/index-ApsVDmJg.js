var m9=Object.defineProperty;var h9=(t,e,r)=>e in t?m9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var p9=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var he=(t,e,r)=>h9(t,typeof e!="symbol"?e+"":e,r);var d8e=p9((wn,Nn)=>{function g9(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p5={exports:{}},Uv={},g5={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=Symbol.for("react.element"),y9=Symbol.for("react.portal"),b9=Symbol.for("react.fragment"),x9=Symbol.for("react.strict_mode"),v9=Symbol.for("react.profiler"),j9=Symbol.for("react.provider"),w9=Symbol.for("react.context"),N9=Symbol.for("react.forward_ref"),C9=Symbol.for("react.suspense"),S9=Symbol.for("react.memo"),A9=Symbol.for("react.lazy"),t2=Symbol.iterator;function I9(t){return t===null||typeof t!="object"?null:(t=t2&&t[t2]||t["@@iterator"],typeof t=="function"?t:null)}var y5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b5=Object.assign,x5={};function fu(t,e,r){this.props=t,this.context=e,this.refs=x5,this.updater=r||y5}fu.prototype.isReactComponent={};fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v5(){}v5.prototype=fu.prototype;function Dk(t,e,r){this.props=t,this.context=e,this.refs=x5,this.updater=r||y5}var Ek=Dk.prototype=new v5;Ek.constructor=Dk;b5(Ek,fu.prototype);Ek.isPureReactComponent=!0;var r2=Array.isArray,j5=Object.prototype.hasOwnProperty,Pk={current:null},w5={key:!0,ref:!0,__self:!0,__source:!0};function N5(t,e,r){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)j5.call(e,n)&&!w5.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:$m,type:t,key:s,ref:i,props:a,_owner:Pk.current}}function k9(t,e){return{$$typeof:$m,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ok(t){return typeof t=="object"&&t!==null&&t.$$typeof===$m}function T9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var n2=/\/+/g;function zw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?T9(""+t.key):e.toString(36)}function Dp(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case $m:case y9:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+zw(i,0):n,r2(a)?(r="",t!=null&&(r=t.replace(n2,"$&/")+"/"),Dp(a,e,r,"",function(u){return u})):a!=null&&(Ok(a)&&(a=k9(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(n2,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",r2(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+zw(s,l);i+=Dp(s,e,r,c,a)}else if(c=I9(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+zw(s,l++),i+=Dp(s,e,r,c,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function vh(t,e,r){if(t==null)return t;var n=[],a=0;return Dp(t,n,"","",function(s){return e.call(r,s,a++)}),n}function D9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gr={current:null},Ep={transition:null},E9={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:Ep,ReactCurrentOwner:Pk};function C5(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:vh,forEach:function(t,e,r){vh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return vh(t,function(){e++}),e},toArray:function(t){return vh(t,function(e){return e})||[]},only:function(t){if(!Ok(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=fu;Ge.Fragment=b9;Ge.Profiler=v9;Ge.PureComponent=Dk;Ge.StrictMode=x9;Ge.Suspense=C9;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E9;Ge.act=C5;Ge.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=b5({},t.props),a=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Pk.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)j5.call(e,c)&&!w5.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:$m,type:t.type,key:a,ref:s,props:n,_owner:i}};Ge.createContext=function(t){return t={$$typeof:w9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:j9,_context:t},t.Consumer=t};Ge.createElement=N5;Ge.createFactory=function(t){var e=N5.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:N9,render:t}};Ge.isValidElement=Ok;Ge.lazy=function(t){return{$$typeof:A9,_payload:{_status:-1,_result:t},_init:D9}};Ge.memo=function(t,e){return{$$typeof:S9,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=Ep.transition;Ep.transition={};try{t()}finally{Ep.transition=e}};Ge.unstable_act=C5;Ge.useCallback=function(t,e){return Gr.current.useCallback(t,e)};Ge.useContext=function(t){return Gr.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return Gr.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return Gr.current.useEffect(t,e)};Ge.useId=function(){return Gr.current.useId()};Ge.useImperativeHandle=function(t,e,r){return Gr.current.useImperativeHandle(t,e,r)};Ge.useInsertionEffect=function(t,e){return Gr.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return Gr.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return Gr.current.useMemo(t,e)};Ge.useReducer=function(t,e,r){return Gr.current.useReducer(t,e,r)};Ge.useRef=function(t){return Gr.current.useRef(t)};Ge.useState=function(t){return Gr.current.useState(t)};Ge.useSyncExternalStore=function(t,e,r){return Gr.current.useSyncExternalStore(t,e,r)};Ge.useTransition=function(){return Gr.current.useTransition()};Ge.version="18.3.1";g5.exports=Ge;var w=g5.exports;const z=it(w),gf=g9({__proto__:null,default:z},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P9=w,O9=Symbol.for("react.element"),_9=Symbol.for("react.fragment"),$9=Object.prototype.hasOwnProperty,R9=P9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M9={key:!0,ref:!0,__self:!0,__source:!0};function S5(t,e,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)$9.call(e,n)&&!M9.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:O9,type:t,key:s,ref:i,props:a,_owner:R9.current}}Uv.Fragment=_9;Uv.jsx=S5;Uv.jsxs=S5;p5.exports=Uv;var o=p5.exports,kC={},A5={exports:{}},On={},I5={exports:{}},k5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,R){var W=$.length;$.push(R);e:for(;0<W;){var Z=W-1>>>1,G=$[Z];if(0<a(G,R))$[Z]=R,$[W]=G,W=Z;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var R=$[0],W=$.pop();if(W!==R){$[0]=W;e:for(var Z=0,G=$.length,U=G>>>1;Z<U;){var ae=2*(Z+1)-1,xe=$[ae],se=ae+1,K=$[se];if(0>a(xe,W))se<G&&0>a(K,xe)?($[Z]=K,$[se]=W,Z=se):($[Z]=xe,$[ae]=W,Z=ae);else if(se<G&&0>a(K,W))$[Z]=K,$[se]=W,Z=se;else break e}}return R}function a($,R){var W=$.sortIndex-R.sortIndex;return W!==0?W:$.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,h=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j($){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=$)n(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=r(u)}}function C($){if(y=!1,j($),!h)if(r(c)!==null)h=!0,L(x);else{var R=r(u);R!==null&&V(C,R.startTime-$)}}function x($,R){h=!1,y&&(y=!1,b(A),A=-1),p=!0;var W=m;try{for(j(R),f=r(c);f!==null&&(!(f.expirationTime>R)||$&&!D());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,m=f.priorityLevel;var G=Z(f.expirationTime<=R);R=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),j(R)}else n(c);f=r(c)}if(f!==null)var U=!0;else{var ae=r(u);ae!==null&&V(C,ae.startTime-R),U=!1}return U}finally{f=null,m=W,p=!1}}var N=!1,S=null,A=-1,I=5,k=-1;function D(){return!(t.unstable_now()-k<I)}function _(){if(S!==null){var $=t.unstable_now();k=$;var R=!0;try{R=S(!0,$)}finally{R?M():(N=!1,S=null)}}else N=!1}var M;if(typeof v=="function")M=function(){v(_)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,O=P.port2;P.port1.onmessage=_,M=function(){O.postMessage(null)}}else M=function(){g(_,0)};function L($){S=$,N||(N=!0,M())}function V($,R){A=g(function(){$(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,L(x))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var W=m;m=R;try{return $()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,R){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=m;m=$;try{return R()}finally{m=W}},t.unstable_scheduleCallback=function($,R,W){var Z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=W+G,$={id:d++,callback:R,priorityLevel:$,startTime:W,expirationTime:G,sortIndex:-1},W>Z?($.sortIndex=W,e(u,$),r(c)===null&&$===r(u)&&(y?(b(A),A=-1):y=!0,V(C,W-Z))):($.sortIndex=G,e(c,$),h||p||(h=!0,L(x))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var R=m;return function(){var W=m;m=R;try{return $.apply(this,arguments)}finally{m=W}}}})(k5);I5.exports=k5;var L9=I5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F9=w,In=L9;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T5=new Set,yf={};function ml(t,e){Ec(t,e),Ec(t+"Capture",e)}function Ec(t,e){for(yf[t]=e,t=0;t<e.length;t++)T5.add(e[t])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TC=Object.prototype.hasOwnProperty,B9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a2={},s2={};function q9(t){return TC.call(s2,t)?!0:TC.call(a2,t)?!1:B9.test(t)?s2[t]=!0:(a2[t]=!0,!1)}function V9(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U9(t,e,r,n){if(e===null||typeof e>"u"||V9(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,r,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kr[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kr[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kr[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kr[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kr[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kr[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kr[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kr[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kr[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var _k=/[\-:]([a-z])/g;function $k(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_k,$k);kr[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_k,$k);kr[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_k,$k);kr[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});kr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rk(t,e,r,n){var a=kr.hasOwnProperty(e)?kr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(U9(e,r,a,n)&&(r=null),n||a===null?q9(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Rs=F9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jh=Symbol.for("react.element"),Bl=Symbol.for("react.portal"),ql=Symbol.for("react.fragment"),Mk=Symbol.for("react.strict_mode"),DC=Symbol.for("react.profiler"),D5=Symbol.for("react.provider"),E5=Symbol.for("react.context"),Lk=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),PC=Symbol.for("react.suspense_list"),Fk=Symbol.for("react.memo"),Js=Symbol.for("react.lazy"),P5=Symbol.for("react.offscreen"),o2=Symbol.iterator;function Ru(t){return t===null||typeof t!="object"?null:(t=o2&&t[o2]||t["@@iterator"],typeof t=="function"?t:null)}var Bt=Object.assign,Ww;function md(t){if(Ww===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ww=e&&e[1]||""}return`
`+Ww+t}var Hw=!1;function Gw(t,e){if(!t||Hw)return"";Hw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Hw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?md(t):""}function z9(t){switch(t.tag){case 5:return md(t.type);case 16:return md("Lazy");case 13:return md("Suspense");case 19:return md("SuspenseList");case 0:case 2:case 15:return t=Gw(t.type,!1),t;case 11:return t=Gw(t.type.render,!1),t;case 1:return t=Gw(t.type,!0),t;default:return""}}function OC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ql:return"Fragment";case Bl:return"Portal";case DC:return"Profiler";case Mk:return"StrictMode";case EC:return"Suspense";case PC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E5:return(t.displayName||"Context")+".Consumer";case D5:return(t._context.displayName||"Context")+".Provider";case Lk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fk:return e=t.displayName||null,e!==null?e:OC(t.type)||"Memo";case Js:e=t._payload,t=t._init;try{return OC(t(e))}catch{}}return null}function W9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OC(e);case 8:return e===Mk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Po(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H9(t){var e=O5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wh(t){t._valueTracker||(t._valueTracker=H9(t))}function _5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=O5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Gb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _C(t,e){var r=e.checked;return Bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function i2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Po(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $5(t,e){e=e.checked,e!=null&&Rk(t,"checked",e,!1)}function $C(t,e){$5(t,e);var r=Po(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?RC(t,e.type,r):e.hasOwnProperty("defaultValue")&&RC(t,e.type,Po(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function l2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function RC(t,e,r){(e!=="number"||Gb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hd=Array.isArray;function ac(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Po(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function MC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(fe(92));if(hd(r)){if(1<r.length)throw Error(fe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Po(r)}}function R5(t,e){var r=Po(e.value),n=Po(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function u2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function M5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?M5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nh,L5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nh=Nh||document.createElement("div"),Nh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Td={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G9=["Webkit","ms","Moz","O"];Object.keys(Td).forEach(function(t){G9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Td[e]=Td[t]})});function F5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Td.hasOwnProperty(t)&&Td[t]?(""+e).trim():e+"px"}function B5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=F5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Y9=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function FC(t,e){if(e){if(Y9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function BC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qC=null;function Bk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var VC=null,sc=null,oc=null;function d2(t){if(t=Lm(t)){if(typeof VC!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Yv(e),VC(t.stateNode,t.type,e))}}function q5(t){sc?oc?oc.push(t):oc=[t]:sc=t}function V5(){if(sc){var t=sc,e=oc;if(oc=sc=null,d2(t),e)for(t=0;t<e.length;t++)d2(e[t])}}function U5(t,e){return t(e)}function z5(){}var Yw=!1;function W5(t,e,r){if(Yw)return t(e,r);Yw=!0;try{return U5(t,e,r)}finally{Yw=!1,(sc!==null||oc!==null)&&(z5(),V5())}}function xf(t,e){var r=t.stateNode;if(r===null)return null;var n=Yv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(fe(231,e,typeof r));return r}var UC=!1;if(Cs)try{var Mu={};Object.defineProperty(Mu,"passive",{get:function(){UC=!0}}),window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{UC=!1}function K9(t,e,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Dd=!1,Yb=null,Kb=!1,zC=null,J9={onError:function(t){Dd=!0,Yb=t}};function X9(t,e,r,n,a,s,i,l,c){Dd=!1,Yb=null,K9.apply(J9,arguments)}function Q9(t,e,r,n,a,s,i,l,c){if(X9.apply(this,arguments),Dd){if(Dd){var u=Yb;Dd=!1,Yb=null}else throw Error(fe(198));Kb||(Kb=!0,zC=u)}}function hl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function H5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f2(t){if(hl(t)!==t)throw Error(fe(188))}function Z9(t){var e=t.alternate;if(!e){if(e=hl(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return f2(a),t;if(s===n)return f2(a),e;s=s.sibling}throw Error(fe(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?t:e}function G5(t){return t=Z9(t),t!==null?Y5(t):null}function Y5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y5(t);if(e!==null)return e;t=t.sibling}return null}var K5=In.unstable_scheduleCallback,m2=In.unstable_cancelCallback,eW=In.unstable_shouldYield,tW=In.unstable_requestPaint,Xt=In.unstable_now,rW=In.unstable_getCurrentPriorityLevel,qk=In.unstable_ImmediatePriority,J5=In.unstable_UserBlockingPriority,Jb=In.unstable_NormalPriority,nW=In.unstable_LowPriority,X5=In.unstable_IdlePriority,zv=null,_a=null;function aW(t){if(_a&&typeof _a.onCommitFiberRoot=="function")try{_a.onCommitFiberRoot(zv,t,void 0,(t.current.flags&128)===128)}catch{}}var fa=Math.clz32?Math.clz32:iW,sW=Math.log,oW=Math.LN2;function iW(t){return t>>>=0,t===0?32:31-(sW(t)/oW|0)|0}var Ch=64,Sh=4194304;function pd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=pd(l):(s&=i,s!==0&&(n=pd(s)))}else i=r&~a,i!==0?n=pd(i):s!==0&&(n=pd(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-fa(e),a=1<<r,n|=t[r],e&=~a;return n}function lW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cW(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-fa(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=lW(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function WC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Q5(){var t=Ch;return Ch<<=1,!(Ch&4194240)&&(Ch=64),t}function Kw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Rm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fa(e),t[e]=r}function uW(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-fa(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function Vk(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-fa(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var mt=0;function Z5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e4,Uk,t4,r4,n4,HC=!1,Ah=[],mo=null,ho=null,po=null,vf=new Map,jf=new Map,to=[],dW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h2(t,e){switch(t){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(e.pointerId)}}function Lu(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=Lm(e),e!==null&&Uk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function fW(t,e,r,n,a){switch(e){case"focusin":return mo=Lu(mo,t,e,r,n,a),!0;case"dragenter":return ho=Lu(ho,t,e,r,n,a),!0;case"mouseover":return po=Lu(po,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return vf.set(s,Lu(vf.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,jf.set(s,Lu(jf.get(s)||null,t,e,r,n,a)),!0}return!1}function a4(t){var e=wi(t.target);if(e!==null){var r=hl(e);if(r!==null){if(e=r.tag,e===13){if(e=H5(r),e!==null){t.blockedOn=e,n4(t.priority,function(){t4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=GC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);qC=n,r.target.dispatchEvent(n),qC=null}else return e=Lm(r),e!==null&&Uk(e),t.blockedOn=r,!1;e.shift()}return!0}function p2(t,e,r){Pp(t)&&r.delete(e)}function mW(){HC=!1,mo!==null&&Pp(mo)&&(mo=null),ho!==null&&Pp(ho)&&(ho=null),po!==null&&Pp(po)&&(po=null),vf.forEach(p2),jf.forEach(p2)}function Fu(t,e){t.blockedOn===e&&(t.blockedOn=null,HC||(HC=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,mW)))}function wf(t){function e(a){return Fu(a,t)}if(0<Ah.length){Fu(Ah[0],t);for(var r=1;r<Ah.length;r++){var n=Ah[r];n.blockedOn===t&&(n.blockedOn=null)}}for(mo!==null&&Fu(mo,t),ho!==null&&Fu(ho,t),po!==null&&Fu(po,t),vf.forEach(e),jf.forEach(e),r=0;r<to.length;r++)n=to[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<to.length&&(r=to[0],r.blockedOn===null);)a4(r),r.blockedOn===null&&to.shift()}var ic=Rs.ReactCurrentBatchConfig,Qb=!0;function hW(t,e,r,n){var a=mt,s=ic.transition;ic.transition=null;try{mt=1,zk(t,e,r,n)}finally{mt=a,ic.transition=s}}function pW(t,e,r,n){var a=mt,s=ic.transition;ic.transition=null;try{mt=4,zk(t,e,r,n)}finally{mt=a,ic.transition=s}}function zk(t,e,r,n){if(Qb){var a=GC(t,e,r,n);if(a===null)sN(t,e,n,Zb,r),h2(t,n);else if(fW(a,t,e,r,n))n.stopPropagation();else if(h2(t,n),e&4&&-1<dW.indexOf(t)){for(;a!==null;){var s=Lm(a);if(s!==null&&e4(s),s=GC(t,e,r,n),s===null&&sN(t,e,n,Zb,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else sN(t,e,n,null,r)}}var Zb=null;function GC(t,e,r,n){if(Zb=null,t=Bk(n),t=wi(t),t!==null)if(e=hl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=H5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zb=t,null}function s4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rW()){case qk:return 1;case J5:return 4;case Jb:case nW:return 16;case X5:return 536870912;default:return 16}default:return 16}}var ao=null,Wk=null,Op=null;function o4(){if(Op)return Op;var t,e=Wk,r=e.length,n,a="value"in ao?ao.value:ao.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[s-n];n++);return Op=a.slice(t,1<n?1-n:void 0)}function _p(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ih(){return!0}function g2(){return!1}function _n(t){function e(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ih:g2,this.isPropagationStopped=g2,this}return Bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),e}var mu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hk=_n(mu),Mm=Bt({},mu,{view:0,detail:0}),gW=_n(Mm),Jw,Xw,Bu,Wv=Bt({},Mm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bu&&(Bu&&t.type==="mousemove"?(Jw=t.screenX-Bu.screenX,Xw=t.screenY-Bu.screenY):Xw=Jw=0,Bu=t),Jw)},movementY:function(t){return"movementY"in t?t.movementY:Xw}}),y2=_n(Wv),yW=Bt({},Wv,{dataTransfer:0}),bW=_n(yW),xW=Bt({},Mm,{relatedTarget:0}),Qw=_n(xW),vW=Bt({},mu,{animationName:0,elapsedTime:0,pseudoElement:0}),jW=_n(vW),wW=Bt({},mu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NW=_n(wW),CW=Bt({},mu,{data:0}),b2=_n(CW),SW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IW[t])?!!e[t]:!1}function Gk(){return kW}var TW=Bt({},Mm,{key:function(t){if(t.key){var e=SW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_p(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gk,charCode:function(t){return t.type==="keypress"?_p(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_p(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DW=_n(TW),EW=Bt({},Wv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x2=_n(EW),PW=Bt({},Mm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gk}),OW=_n(PW),_W=Bt({},mu,{propertyName:0,elapsedTime:0,pseudoElement:0}),$W=_n(_W),RW=Bt({},Wv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MW=_n(RW),LW=[9,13,27,32],Yk=Cs&&"CompositionEvent"in window,Ed=null;Cs&&"documentMode"in document&&(Ed=document.documentMode);var FW=Cs&&"TextEvent"in window&&!Ed,i4=Cs&&(!Yk||Ed&&8<Ed&&11>=Ed),v2=" ",j2=!1;function l4(t,e){switch(t){case"keyup":return LW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vl=!1;function BW(t,e){switch(t){case"compositionend":return c4(e);case"keypress":return e.which!==32?null:(j2=!0,v2);case"textInput":return t=e.data,t===v2&&j2?null:t;default:return null}}function qW(t,e){if(Vl)return t==="compositionend"||!Yk&&l4(t,e)?(t=o4(),Op=Wk=ao=null,Vl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return i4&&e.locale!=="ko"?null:e.data;default:return null}}var VW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VW[t.type]:e==="textarea"}function u4(t,e,r,n){q5(n),e=ex(e,"onChange"),0<e.length&&(r=new Hk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pd=null,Nf=null;function UW(t){j4(t,0)}function Hv(t){var e=Wl(t);if(_5(e))return t}function zW(t,e){if(t==="change")return e}var d4=!1;if(Cs){var Zw;if(Cs){var eN="oninput"in document;if(!eN){var N2=document.createElement("div");N2.setAttribute("oninput","return;"),eN=typeof N2.oninput=="function"}Zw=eN}else Zw=!1;d4=Zw&&(!document.documentMode||9<document.documentMode)}function C2(){Pd&&(Pd.detachEvent("onpropertychange",f4),Nf=Pd=null)}function f4(t){if(t.propertyName==="value"&&Hv(Nf)){var e=[];u4(e,Nf,t,Bk(t)),W5(UW,e)}}function WW(t,e,r){t==="focusin"?(C2(),Pd=e,Nf=r,Pd.attachEvent("onpropertychange",f4)):t==="focusout"&&C2()}function HW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hv(Nf)}function GW(t,e){if(t==="click")return Hv(e)}function YW(t,e){if(t==="input"||t==="change")return Hv(e)}function KW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ba=typeof Object.is=="function"?Object.is:KW;function Cf(t,e){if(ba(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!TC.call(e,a)||!ba(t[a],e[a]))return!1}return!0}function S2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A2(t,e){var r=S2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=S2(r)}}function m4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function h4(){for(var t=window,e=Gb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Gb(t.document)}return e}function Kk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JW(t){var e=h4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&m4(r.ownerDocument.documentElement,r)){if(n!==null&&Kk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=A2(r,s);var i=A2(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XW=Cs&&"documentMode"in document&&11>=document.documentMode,Ul=null,YC=null,Od=null,KC=!1;function I2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;KC||Ul==null||Ul!==Gb(n)||(n=Ul,"selectionStart"in n&&Kk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Od&&Cf(Od,n)||(Od=n,n=ex(YC,"onSelect"),0<n.length&&(e=new Hk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ul)))}function kh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zl={animationend:kh("Animation","AnimationEnd"),animationiteration:kh("Animation","AnimationIteration"),animationstart:kh("Animation","AnimationStart"),transitionend:kh("Transition","TransitionEnd")},tN={},p4={};Cs&&(p4=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function Gv(t){if(tN[t])return tN[t];if(!zl[t])return t;var e=zl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in p4)return tN[t]=e[r];return t}var g4=Gv("animationend"),y4=Gv("animationiteration"),b4=Gv("animationstart"),x4=Gv("transitionend"),v4=new Map,k2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(t,e){v4.set(t,e),ml(e,[t])}for(var rN=0;rN<k2.length;rN++){var nN=k2[rN],QW=nN.toLowerCase(),ZW=nN[0].toUpperCase()+nN.slice(1);qo(QW,"on"+ZW)}qo(g4,"onAnimationEnd");qo(y4,"onAnimationIteration");qo(b4,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(x4,"onTransitionEnd");Ec("onMouseEnter",["mouseout","mouseover"]);Ec("onMouseLeave",["mouseout","mouseover"]);Ec("onPointerEnter",["pointerout","pointerover"]);Ec("onPointerLeave",["pointerout","pointerover"]);ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eH=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function T2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Q9(n,e,void 0,t),t.currentTarget=null}function j4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;T2(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;T2(a,l,u),s=c}}}if(Kb)throw t=zC,Kb=!1,zC=null,t}function It(t,e){var r=e[eS];r===void 0&&(r=e[eS]=new Set);var n=t+"__bubble";r.has(n)||(w4(e,t,2,!1),r.add(n))}function aN(t,e,r){var n=0;e&&(n|=4),w4(r,t,n,e)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Sf(t){if(!t[Th]){t[Th]=!0,T5.forEach(function(r){r!=="selectionchange"&&(eH.has(r)||aN(r,!1,t),aN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Th]||(e[Th]=!0,aN("selectionchange",!1,e))}}function w4(t,e,r,n){switch(s4(e)){case 1:var a=hW;break;case 4:a=pW;break;default:a=zk}r=a.bind(null,e,r,t),a=void 0,!UC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function sN(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=wi(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}W5(function(){var u=s,d=Bk(r),f=[];e:{var m=v4.get(t);if(m!==void 0){var p=Hk,h=t;switch(t){case"keypress":if(_p(r)===0)break e;case"keydown":case"keyup":p=DW;break;case"focusin":h="focus",p=Qw;break;case"focusout":h="blur",p=Qw;break;case"beforeblur":case"afterblur":p=Qw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=y2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=OW;break;case g4:case y4:case b4:p=jW;break;case x4:p=$W;break;case"scroll":p=gW;break;case"wheel":p=MW;break;case"copy":case"cut":case"paste":p=NW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=x2}var y=(e&4)!==0,g=!y&&t==="scroll",b=y?m!==null?m+"Capture":null:m;y=[];for(var v=u,j;v!==null;){j=v;var C=j.stateNode;if(j.tag===5&&C!==null&&(j=C,b!==null&&(C=xf(v,b),C!=null&&y.push(Af(v,C,j)))),g)break;v=v.return}0<y.length&&(m=new p(m,h,null,r,d),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&r!==qC&&(h=r.relatedTarget||r.fromElement)&&(wi(h)||h[Ss]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=u,h=h?wi(h):null,h!==null&&(g=hl(h),h!==g||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(y=y2,C="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=x2,C="onPointerLeave",b="onPointerEnter",v="pointer"),g=p==null?m:Wl(p),j=h==null?m:Wl(h),m=new y(C,v+"leave",p,r,d),m.target=g,m.relatedTarget=j,C=null,wi(d)===u&&(y=new y(b,v+"enter",h,r,d),y.target=j,y.relatedTarget=g,C=y),g=C,p&&h)t:{for(y=p,b=h,v=0,j=y;j;j=kl(j))v++;for(j=0,C=b;C;C=kl(C))j++;for(;0<v-j;)y=kl(y),v--;for(;0<j-v;)b=kl(b),j--;for(;v--;){if(y===b||b!==null&&y===b.alternate)break t;y=kl(y),b=kl(b)}y=null}else y=null;p!==null&&D2(f,m,p,y,!1),h!==null&&g!==null&&D2(f,g,h,y,!0)}}e:{if(m=u?Wl(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var x=zW;else if(w2(m))if(d4)x=YW;else{x=HW;var N=WW}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=GW);if(x&&(x=x(t,u))){u4(f,x,r,d);break e}N&&N(t,m,u),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&RC(m,"number",m.value)}switch(N=u?Wl(u):window,t){case"focusin":(w2(N)||N.contentEditable==="true")&&(Ul=N,YC=u,Od=null);break;case"focusout":Od=YC=Ul=null;break;case"mousedown":KC=!0;break;case"contextmenu":case"mouseup":case"dragend":KC=!1,I2(f,r,d);break;case"selectionchange":if(XW)break;case"keydown":case"keyup":I2(f,r,d)}var S;if(Yk)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Vl?l4(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(i4&&r.locale!=="ko"&&(Vl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Vl&&(S=o4()):(ao=d,Wk="value"in ao?ao.value:ao.textContent,Vl=!0)),N=ex(u,A),0<N.length&&(A=new b2(A,t,null,r,d),f.push({event:A,listeners:N}),S?A.data=S:(S=c4(r),S!==null&&(A.data=S)))),(S=FW?BW(t,r):qW(t,r))&&(u=ex(u,"onBeforeInput"),0<u.length&&(d=new b2("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}j4(f,e)})}function Af(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ex(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=xf(t,r),s!=null&&n.unshift(Af(t,s,a)),s=xf(t,e),s!=null&&n.push(Af(t,s,a))),t=t.return}return n}function kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D2(t,e,r,n,a){for(var s=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=xf(r,s),c!=null&&i.unshift(Af(r,c,l))):a||(c=xf(r,s),c!=null&&i.push(Af(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var tH=/\r\n?/g,rH=/\u0000|\uFFFD/g;function E2(t){return(typeof t=="string"?t:""+t).replace(tH,`
`).replace(rH,"")}function Dh(t,e,r){if(e=E2(e),E2(t)!==e&&r)throw Error(fe(425))}function tx(){}var JC=null,XC=null;function QC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ZC=typeof setTimeout=="function"?setTimeout:void 0,nH=typeof clearTimeout=="function"?clearTimeout:void 0,P2=typeof Promise=="function"?Promise:void 0,aH=typeof queueMicrotask=="function"?queueMicrotask:typeof P2<"u"?function(t){return P2.resolve(null).then(t).catch(sH)}:ZC;function sH(t){setTimeout(function(){throw t})}function oN(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),wf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);wf(e)}function go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var hu=Math.random().toString(36).slice(2),Ea="__reactFiber$"+hu,If="__reactProps$"+hu,Ss="__reactContainer$"+hu,eS="__reactEvents$"+hu,oH="__reactListeners$"+hu,iH="__reactHandles$"+hu;function wi(t){var e=t[Ea];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ss]||r[Ea]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=O2(t);t!==null;){if(r=t[Ea])return r;t=O2(t)}return e}t=r,r=t.parentNode}return null}function Lm(t){return t=t[Ea]||t[Ss],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Yv(t){return t[If]||null}var tS=[],Hl=-1;function Vo(t){return{current:t}}function Et(t){0>Hl||(t.current=tS[Hl],tS[Hl]=null,Hl--)}function St(t,e){Hl++,tS[Hl]=t.current,t.current=e}var Oo={},Lr=Vo(Oo),sn=Vo(!1),Qi=Oo;function Pc(t,e){var r=t.type.contextTypes;if(!r)return Oo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function on(t){return t=t.childContextTypes,t!=null}function rx(){Et(sn),Et(Lr)}function _2(t,e,r){if(Lr.current!==Oo)throw Error(fe(168));St(Lr,e),St(sn,r)}function N4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(fe(108,W9(t)||"Unknown",a));return Bt({},r,n)}function nx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,Qi=Lr.current,St(Lr,t),St(sn,sn.current),!0}function $2(t,e,r){var n=t.stateNode;if(!n)throw Error(fe(169));r?(t=N4(t,e,Qi),n.__reactInternalMemoizedMergedChildContext=t,Et(sn),Et(Lr),St(Lr,t)):Et(sn),St(sn,r)}var ss=null,Kv=!1,iN=!1;function C4(t){ss===null?ss=[t]:ss.push(t)}function lH(t){Kv=!0,C4(t)}function Uo(){if(!iN&&ss!==null){iN=!0;var t=0,e=mt;try{var r=ss;for(mt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ss=null,Kv=!1}catch(a){throw ss!==null&&(ss=ss.slice(t+1)),K5(qk,Uo),a}finally{mt=e,iN=!1}}return null}var Gl=[],Yl=0,ax=null,sx=0,Vn=[],Un=0,Zi=null,cs=1,us="";function fi(t,e){Gl[Yl++]=sx,Gl[Yl++]=ax,ax=t,sx=e}function S4(t,e,r){Vn[Un++]=cs,Vn[Un++]=us,Vn[Un++]=Zi,Zi=t;var n=cs;t=us;var a=32-fa(n)-1;n&=~(1<<a),r+=1;var s=32-fa(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,cs=1<<32-fa(e)+a|r<<a|n,us=s+t}else cs=1<<s|r<<a|n,us=t}function Jk(t){t.return!==null&&(fi(t,1),S4(t,1,0))}function Xk(t){for(;t===ax;)ax=Gl[--Yl],Gl[Yl]=null,sx=Gl[--Yl],Gl[Yl]=null;for(;t===Zi;)Zi=Vn[--Un],Vn[Un]=null,us=Vn[--Un],Vn[Un]=null,cs=Vn[--Un],Vn[Un]=null}var Cn=null,jn=null,Ot=!1,ia=null;function A4(t,e){var r=Wn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function R2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,jn=go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Zi!==null?{id:cs,overflow:us}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Wn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Cn=t,jn=null,!0):!1;default:return!1}}function rS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nS(t){if(Ot){var e=jn;if(e){var r=e;if(!R2(t,e)){if(rS(t))throw Error(fe(418));e=go(r.nextSibling);var n=Cn;e&&R2(t,e)?A4(n,r):(t.flags=t.flags&-4097|2,Ot=!1,Cn=t)}}else{if(rS(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Ot=!1,Cn=t}}}function M2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function Eh(t){if(t!==Cn)return!1;if(!Ot)return M2(t),Ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!QC(t.type,t.memoizedProps)),e&&(e=jn)){if(rS(t))throw I4(),Error(fe(418));for(;e;)A4(t,e),e=go(e.nextSibling)}if(M2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){jn=go(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=Cn?go(t.stateNode.nextSibling):null;return!0}function I4(){for(var t=jn;t;)t=go(t.nextSibling)}function Oc(){jn=Cn=null,Ot=!1}function Qk(t){ia===null?ia=[t]:ia.push(t)}var cH=Rs.ReactCurrentBatchConfig;function qu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,t))}return t}function Ph(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L2(t){var e=t._init;return e(t._payload)}function k4(t){function e(b,v){if(t){var j=b.deletions;j===null?(b.deletions=[v],b.flags|=16):j.push(v)}}function r(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function a(b,v){return b=vo(b,v),b.index=0,b.sibling=null,b}function s(b,v,j){return b.index=j,t?(j=b.alternate,j!==null?(j=j.index,j<v?(b.flags|=2,v):j):(b.flags|=2,v)):(b.flags|=1048576,v)}function i(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,v,j,C){return v===null||v.tag!==6?(v=hN(j,b.mode,C),v.return=b,v):(v=a(v,j),v.return=b,v)}function c(b,v,j,C){var x=j.type;return x===ql?d(b,v,j.props.children,C,j.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Js&&L2(x)===v.type)?(C=a(v,j.props),C.ref=qu(b,v,j),C.return=b,C):(C=qp(j.type,j.key,j.props,null,b.mode,C),C.ref=qu(b,v,j),C.return=b,C)}function u(b,v,j,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=pN(j,b.mode,C),v.return=b,v):(v=a(v,j.children||[]),v.return=b,v)}function d(b,v,j,C,x){return v===null||v.tag!==7?(v=_i(j,b.mode,C,x),v.return=b,v):(v=a(v,j),v.return=b,v)}function f(b,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hN(""+v,b.mode,j),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jh:return j=qp(v.type,v.key,v.props,null,b.mode,j),j.ref=qu(b,null,v),j.return=b,j;case Bl:return v=pN(v,b.mode,j),v.return=b,v;case Js:var C=v._init;return f(b,C(v._payload),j)}if(hd(v)||Ru(v))return v=_i(v,b.mode,j,null),v.return=b,v;Ph(b,v)}return null}function m(b,v,j,C){var x=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return x!==null?null:l(b,v,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case jh:return j.key===x?c(b,v,j,C):null;case Bl:return j.key===x?u(b,v,j,C):null;case Js:return x=j._init,m(b,v,x(j._payload),C)}if(hd(j)||Ru(j))return x!==null?null:d(b,v,j,C,null);Ph(b,j)}return null}function p(b,v,j,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(j)||null,l(v,b,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case jh:return b=b.get(C.key===null?j:C.key)||null,c(v,b,C,x);case Bl:return b=b.get(C.key===null?j:C.key)||null,u(v,b,C,x);case Js:var N=C._init;return p(b,v,j,N(C._payload),x)}if(hd(C)||Ru(C))return b=b.get(j)||null,d(v,b,C,x,null);Ph(v,C)}return null}function h(b,v,j,C){for(var x=null,N=null,S=v,A=v=0,I=null;S!==null&&A<j.length;A++){S.index>A?(I=S,S=null):I=S.sibling;var k=m(b,S,j[A],C);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(b,S),v=s(k,v,A),N===null?x=k:N.sibling=k,N=k,S=I}if(A===j.length)return r(b,S),Ot&&fi(b,A),x;if(S===null){for(;A<j.length;A++)S=f(b,j[A],C),S!==null&&(v=s(S,v,A),N===null?x=S:N.sibling=S,N=S);return Ot&&fi(b,A),x}for(S=n(b,S);A<j.length;A++)I=p(S,b,A,j[A],C),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?A:I.key),v=s(I,v,A),N===null?x=I:N.sibling=I,N=I);return t&&S.forEach(function(D){return e(b,D)}),Ot&&fi(b,A),x}function y(b,v,j,C){var x=Ru(j);if(typeof x!="function")throw Error(fe(150));if(j=x.call(j),j==null)throw Error(fe(151));for(var N=x=null,S=v,A=v=0,I=null,k=j.next();S!==null&&!k.done;A++,k=j.next()){S.index>A?(I=S,S=null):I=S.sibling;var D=m(b,S,k.value,C);if(D===null){S===null&&(S=I);break}t&&S&&D.alternate===null&&e(b,S),v=s(D,v,A),N===null?x=D:N.sibling=D,N=D,S=I}if(k.done)return r(b,S),Ot&&fi(b,A),x;if(S===null){for(;!k.done;A++,k=j.next())k=f(b,k.value,C),k!==null&&(v=s(k,v,A),N===null?x=k:N.sibling=k,N=k);return Ot&&fi(b,A),x}for(S=n(b,S);!k.done;A++,k=j.next())k=p(S,b,A,k.value,C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?A:k.key),v=s(k,v,A),N===null?x=k:N.sibling=k,N=k);return t&&S.forEach(function(_){return e(b,_)}),Ot&&fi(b,A),x}function g(b,v,j,C){if(typeof j=="object"&&j!==null&&j.type===ql&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case jh:e:{for(var x=j.key,N=v;N!==null;){if(N.key===x){if(x=j.type,x===ql){if(N.tag===7){r(b,N.sibling),v=a(N,j.props.children),v.return=b,b=v;break e}}else if(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Js&&L2(x)===N.type){r(b,N.sibling),v=a(N,j.props),v.ref=qu(b,N,j),v.return=b,b=v;break e}r(b,N);break}else e(b,N);N=N.sibling}j.type===ql?(v=_i(j.props.children,b.mode,C,j.key),v.return=b,b=v):(C=qp(j.type,j.key,j.props,null,b.mode,C),C.ref=qu(b,v,j),C.return=b,b=C)}return i(b);case Bl:e:{for(N=j.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){r(b,v.sibling),v=a(v,j.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else e(b,v);v=v.sibling}v=pN(j,b.mode,C),v.return=b,b=v}return i(b);case Js:return N=j._init,g(b,v,N(j._payload),C)}if(hd(j))return h(b,v,j,C);if(Ru(j))return y(b,v,j,C);Ph(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(r(b,v.sibling),v=a(v,j),v.return=b,b=v):(r(b,v),v=hN(j,b.mode,C),v.return=b,b=v),i(b)):r(b,v)}return g}var _c=k4(!0),T4=k4(!1),ox=Vo(null),ix=null,Kl=null,Zk=null;function eT(){Zk=Kl=ix=null}function tT(t){var e=ox.current;Et(ox),t._currentValue=e}function aS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function lc(t,e){ix=t,Zk=Kl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(Zk!==t)if(t={context:t,memoizedValue:e,next:null},Kl===null){if(ix===null)throw Error(fe(308));Kl=t,ix.dependencies={lanes:0,firstContext:t}}else Kl=Kl.next=t;return e}var Ni=null;function rT(t){Ni===null?Ni=[t]:Ni.push(t)}function D4(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,rT(e)):(r.next=a.next,a.next=r),e.interleaved=r,As(t,n)}function As(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Xs=!1;function nT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Qe&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,As(t,r)}return a=n.interleaved,a===null?(e.next=e,rT(n)):(e.next=a.next,a.next=e),n.interleaved=e,As(t,r)}function $p(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Vk(t,r)}}function F2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function lx(t,e,r,n){var a=t.updateQueue;Xs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,p=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=t,y=l;switch(m=e,p=r,y.tag){case 1:if(h=y.payload,typeof h=="function"){f=h.call(p,f,m);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,m=typeof h=="function"?h.call(p,f,m):h,m==null)break e;f=Bt({},f,m);break e;case 2:Xs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);tl|=i,t.lanes=i,t.memoizedState=f}}function B2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(fe(191,a));a.call(n)}}}var Fm={},$a=Vo(Fm),kf=Vo(Fm),Tf=Vo(Fm);function Ci(t){if(t===Fm)throw Error(fe(174));return t}function aT(t,e){switch(St(Tf,e),St(kf,t),St($a,Fm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:LC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=LC(e,t)}Et($a),St($a,e)}function $c(){Et($a),Et(kf),Et(Tf)}function P4(t){Ci(Tf.current);var e=Ci($a.current),r=LC(e,t.type);e!==r&&(St(kf,t),St($a,r))}function sT(t){kf.current===t&&(Et($a),Et(kf))}var Lt=Vo(0);function cx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lN=[];function oT(){for(var t=0;t<lN.length;t++)lN[t]._workInProgressVersionPrimary=null;lN.length=0}var Rp=Rs.ReactCurrentDispatcher,cN=Rs.ReactCurrentBatchConfig,el=0,Ft=null,cr=null,gr=null,ux=!1,_d=!1,Df=0,uH=0;function Dr(){throw Error(fe(321))}function iT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ba(t[r],e[r]))return!1;return!0}function lT(t,e,r,n,a,s){if(el=s,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rp.current=t===null||t.memoizedState===null?hH:pH,t=r(n,a),_d){s=0;do{if(_d=!1,Df=0,25<=s)throw Error(fe(301));s+=1,gr=cr=null,e.updateQueue=null,Rp.current=gH,t=r(n,a)}while(_d)}if(Rp.current=dx,e=cr!==null&&cr.next!==null,el=0,gr=cr=Ft=null,ux=!1,e)throw Error(fe(300));return t}function cT(){var t=Df!==0;return Df=0,t}function Aa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Ft.memoizedState=gr=t:gr=gr.next=t,gr}function Xn(){if(cr===null){var t=Ft.alternate;t=t!==null?t.memoizedState:null}else t=cr.next;var e=gr===null?Ft.memoizedState:gr.next;if(e!==null)gr=e,cr=t;else{if(t===null)throw Error(fe(310));cr=t,t={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},gr===null?Ft.memoizedState=gr=t:gr=gr.next=t}return gr}function Ef(t,e){return typeof e=="function"?e(t):e}function uN(t){var e=Xn(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=cr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((el&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Ft.lanes|=d,tl|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,ba(n,e.memoizedState)||(tn=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,Ft.lanes|=s,tl|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function dN(t){var e=Xn(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=t(s,i.action),i=i.next;while(i!==a);ba(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function O4(){}function _4(t,e){var r=Ft,n=Xn(),a=e(),s=!ba(n.memoizedState,a);if(s&&(n.memoizedState=a,tn=!0),n=n.queue,uT(M4.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||gr!==null&&gr.memoizedState.tag&1){if(r.flags|=2048,Pf(9,R4.bind(null,r,n,a,e),void 0,null),br===null)throw Error(fe(349));el&30||$4(r,e,a)}return a}function $4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function R4(t,e,r,n){e.value=r,e.getSnapshot=n,L4(e)&&F4(t)}function M4(t,e,r){return r(function(){L4(e)&&F4(t)})}function L4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ba(t,r)}catch{return!0}}function F4(t){var e=As(t,1);e!==null&&ma(e,t,1,-1)}function q2(t){var e=Aa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ef,lastRenderedState:t},e.queue=t,t=t.dispatch=mH.bind(null,Ft,t),[e.memoizedState,t]}function Pf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function B4(){return Xn().memoizedState}function Mp(t,e,r,n){var a=Aa();Ft.flags|=t,a.memoizedState=Pf(1|e,r,void 0,n===void 0?null:n)}function Jv(t,e,r,n){var a=Xn();n=n===void 0?null:n;var s=void 0;if(cr!==null){var i=cr.memoizedState;if(s=i.destroy,n!==null&&iT(n,i.deps)){a.memoizedState=Pf(e,r,s,n);return}}Ft.flags|=t,a.memoizedState=Pf(1|e,r,s,n)}function V2(t,e){return Mp(8390656,8,t,e)}function uT(t,e){return Jv(2048,8,t,e)}function q4(t,e){return Jv(4,2,t,e)}function V4(t,e){return Jv(4,4,t,e)}function U4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z4(t,e,r){return r=r!=null?r.concat([t]):null,Jv(4,4,U4.bind(null,e,t),r)}function dT(){}function W4(t,e){var r=Xn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&iT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function H4(t,e){var r=Xn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&iT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function G4(t,e,r){return el&21?(ba(r,e)||(r=Q5(),Ft.lanes|=r,tl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=r)}function dH(t,e){var r=mt;mt=r!==0&&4>r?r:4,t(!0);var n=cN.transition;cN.transition={};try{t(!1),e()}finally{mt=r,cN.transition=n}}function Y4(){return Xn().memoizedState}function fH(t,e,r){var n=xo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},K4(t))J4(e,r);else if(r=D4(t,e,r,n),r!==null){var a=Hr();ma(r,t,n,a),X4(r,e,n)}}function mH(t,e,r){var n=xo(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(K4(t))J4(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,ba(l,i)){var c=e.interleaved;c===null?(a.next=a,rT(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=D4(t,e,a,n),r!==null&&(a=Hr(),ma(r,t,n,a),X4(r,e,n))}}function K4(t){var e=t.alternate;return t===Ft||e!==null&&e===Ft}function J4(t,e){_d=ux=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function X4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Vk(t,r)}}var dx={readContext:Jn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},hH={readContext:Jn,useCallback:function(t,e){return Aa().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:V2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Mp(4194308,4,U4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Mp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mp(4,2,t,e)},useMemo:function(t,e){var r=Aa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Aa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fH.bind(null,Ft,t),[n.memoizedState,t]},useRef:function(t){var e=Aa();return t={current:t},e.memoizedState=t},useState:q2,useDebugValue:dT,useDeferredValue:function(t){return Aa().memoizedState=t},useTransition:function(){var t=q2(!1),e=t[0];return t=dH.bind(null,t[1]),Aa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ft,a=Aa();if(Ot){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=e(),br===null)throw Error(fe(349));el&30||$4(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,V2(M4.bind(null,n,s,t),[t]),n.flags|=2048,Pf(9,R4.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Aa(),e=br.identifierPrefix;if(Ot){var r=us,n=cs;r=(n&~(1<<32-fa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Df++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=uH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pH={readContext:Jn,useCallback:W4,useContext:Jn,useEffect:uT,useImperativeHandle:z4,useInsertionEffect:q4,useLayoutEffect:V4,useMemo:H4,useReducer:uN,useRef:B4,useState:function(){return uN(Ef)},useDebugValue:dT,useDeferredValue:function(t){var e=Xn();return G4(e,cr.memoizedState,t)},useTransition:function(){var t=uN(Ef)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:O4,useSyncExternalStore:_4,useId:Y4,unstable_isNewReconciler:!1},gH={readContext:Jn,useCallback:W4,useContext:Jn,useEffect:uT,useImperativeHandle:z4,useInsertionEffect:q4,useLayoutEffect:V4,useMemo:H4,useReducer:dN,useRef:B4,useState:function(){return dN(Ef)},useDebugValue:dT,useDeferredValue:function(t){var e=Xn();return cr===null?e.memoizedState=t:G4(e,cr.memoizedState,t)},useTransition:function(){var t=dN(Ef)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:O4,useSyncExternalStore:_4,useId:Y4,unstable_isNewReconciler:!1};function sa(t,e){if(t&&t.defaultProps){e=Bt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function sS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Bt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Xv={isMounted:function(t){return(t=t._reactInternals)?hl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Hr(),a=xo(t),s=gs(n,a);s.payload=e,r!=null&&(s.callback=r),e=yo(t,s,a),e!==null&&(ma(e,t,a,n),$p(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Hr(),a=xo(t),s=gs(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=yo(t,s,a),e!==null&&(ma(e,t,a,n),$p(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Hr(),n=xo(t),a=gs(r,n);a.tag=2,e!=null&&(a.callback=e),e=yo(t,a,n),e!==null&&(ma(e,t,n,r),$p(e,t,n))}};function U2(t,e,r,n,a,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!Cf(r,n)||!Cf(a,s):!0}function Q4(t,e,r){var n=!1,a=Oo,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(a=on(e)?Qi:Lr.current,n=e.contextTypes,s=(n=n!=null)?Pc(t,a):Oo),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function z2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Xv.enqueueReplaceState(e,e.state,null)}function oS(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},nT(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=Jn(s):(s=on(e)?Qi:Lr.current,a.context=Pc(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sS(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Xv.enqueueReplaceState(a,a.state,null),lx(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Rc(t,e){try{var r="",n=e;do r+=z9(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function fN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function iS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var yH=typeof WeakMap=="function"?WeakMap:Map;function Z4(t,e,r){r=gs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){mx||(mx=!0,yS=n),iS(t,e)},r}function eB(t,e,r){r=gs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){iS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){iS(t,e),typeof n!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function W2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new yH;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=EH.bind(null,t,e,r),e.then(t,t))}function H2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G2(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gs(-1,1),e.tag=2,yo(r,e,1))),r.lanes|=1),t)}var bH=Rs.ReactCurrentOwner,tn=!1;function Vr(t,e,r,n){e.child=t===null?T4(e,null,r,n):_c(e,t.child,r,n)}function Y2(t,e,r,n,a){r=r.render;var s=e.ref;return lc(e,a),n=lT(t,e,r,n,s,a),r=cT(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Is(t,e,a)):(Ot&&r&&Jk(e),e.flags|=1,Vr(t,e,n,a),e.child)}function K2(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!xT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,tB(t,e,s,n,a)):(t=qp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Cf,r(i,n)&&t.ref===e.ref)return Is(t,e,a)}return e.flags|=1,t=vo(s,n),t.ref=e.ref,t.return=e,e.child=t}function tB(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(Cf(s,n)&&t.ref===e.ref)if(tn=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Is(t,e,a)}return lS(t,e,r,n,a)}function rB(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Xl,bn),bn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,St(Xl,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,St(Xl,bn),bn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,St(Xl,bn),bn|=n;return Vr(t,e,a,r),e.child}function nB(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function lS(t,e,r,n,a){var s=on(r)?Qi:Lr.current;return s=Pc(e,s),lc(e,a),r=lT(t,e,r,n,s,a),n=cT(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Is(t,e,a)):(Ot&&n&&Jk(e),e.flags|=1,Vr(t,e,r,a),e.child)}function J2(t,e,r,n,a){if(on(r)){var s=!0;nx(e)}else s=!1;if(lc(e,a),e.stateNode===null)Lp(t,e),Q4(e,r,n),oS(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=on(r)?Qi:Lr.current,u=Pc(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&z2(e,i,n,u),Xs=!1;var m=e.memoizedState;i.state=m,lx(e,n,i,a),c=e.memoizedState,l!==n||m!==c||sn.current||Xs?(typeof d=="function"&&(sS(e,r,d,n),c=e.memoizedState),(l=Xs||U2(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,E4(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:sa(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Jn(c):(c=on(r)?Qi:Lr.current,c=Pc(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&z2(e,i,n,c),Xs=!1,m=e.memoizedState,i.state=m,lx(e,n,i,a);var h=e.memoizedState;l!==f||m!==h||sn.current||Xs?(typeof p=="function"&&(sS(e,r,p,n),h=e.memoizedState),(u=Xs||U2(e,r,u,n,m,h,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,h,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=h),i.props=n,i.state=h,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return cS(t,e,r,n,s,a)}function cS(t,e,r,n,a,s){nB(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&$2(e,r,!1),Is(t,e,s);n=e.stateNode,bH.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=_c(e,t.child,null,s),e.child=_c(e,null,l,s)):Vr(t,e,l,s),e.memoizedState=n.state,a&&$2(e,r,!0),e.child}function aB(t){var e=t.stateNode;e.pendingContext?_2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_2(t,e.context,!1),aT(t,e.containerInfo)}function X2(t,e,r,n,a){return Oc(),Qk(a),e.flags|=256,Vr(t,e,r,n),e.child}var uS={dehydrated:null,treeContext:null,retryLane:0};function dS(t){return{baseLanes:t,cachePool:null,transitions:null}}function sB(t,e,r){var n=e.pendingProps,a=Lt.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),St(Lt,a&1),t===null)return nS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=e0(i,n,0,null),t=_i(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dS(r),e.memoizedState=uS,t):fT(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return xH(t,e,i,n,l,a,r);if(s){s=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=vo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=vo(l,s):(s=_i(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?dS(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=uS,n}return s=t.child,t=s.sibling,n=vo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function fT(t,e){return e=e0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oh(t,e,r,n){return n!==null&&Qk(n),_c(e,t.child,null,r),t=fT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xH(t,e,r,n,a,s,i){if(r)return e.flags&256?(e.flags&=-257,n=fN(Error(fe(422))),Oh(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=e0({mode:"visible",children:n.children},a,0,null),s=_i(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&_c(e,t.child,null,i),e.child.memoizedState=dS(i),e.memoizedState=uS,s);if(!(e.mode&1))return Oh(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(fe(419)),n=fN(s,n,void 0),Oh(t,e,i,n)}if(l=(i&t.childLanes)!==0,tn||l){if(n=br,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,As(t,a),ma(n,t,a,-1))}return bT(),n=fN(Error(fe(421))),Oh(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=PH.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,jn=go(a.nextSibling),Cn=e,Ot=!0,ia=null,t!==null&&(Vn[Un++]=cs,Vn[Un++]=us,Vn[Un++]=Zi,cs=t.id,us=t.overflow,Zi=e),e=fT(e,n.children),e.flags|=4096,e)}function Q2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),aS(t.return,e,r)}function mN(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function oB(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(Vr(t,e,n.children,r),n=Lt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q2(t,r,e);else if(t.tag===19)Q2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(St(Lt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&cx(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),mN(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&cx(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}mN(e,!0,r,null,s);break;case"together":mN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Is(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),tl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,r=vo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=vo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vH(t,e,r){switch(e.tag){case 3:aB(e),Oc();break;case 5:P4(e);break;case 1:on(e.type)&&nx(e);break;case 4:aT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;St(ox,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(St(Lt,Lt.current&1),e.flags|=128,null):r&e.child.childLanes?sB(t,e,r):(St(Lt,Lt.current&1),t=Is(t,e,r),t!==null?t.sibling:null);St(Lt,Lt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return oB(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),St(Lt,Lt.current),n)break;return null;case 22:case 23:return e.lanes=0,rB(t,e,r)}return Is(t,e,r)}var iB,fS,lB,cB;iB=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fS=function(){};lB=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ci($a.current);var s=null;switch(r){case"input":a=_C(t,a),n=_C(t,n),s=[];break;case"select":a=Bt({},a,{value:void 0}),n=Bt({},n,{value:void 0}),s=[];break;case"textarea":a=MC(t,a),n=MC(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=tx)}FC(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&It("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};cB=function(t,e,r,n){r!==n&&(e.flags|=4)};function Vu(t,e){if(!Ot)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Er(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function jH(t,e,r){var n=e.pendingProps;switch(Xk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(e),null;case 1:return on(e.type)&&rx(),Er(e),null;case 3:return n=e.stateNode,$c(),Et(sn),Et(Lr),oT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Eh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ia!==null&&(vS(ia),ia=null))),fS(t,e),Er(e),null;case 5:sT(e);var a=Ci(Tf.current);if(r=e.type,t!==null&&e.stateNode!=null)lB(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(fe(166));return Er(e),null}if(t=Ci($a.current),Eh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ea]=e,n[If]=s,t=(e.mode&1)!==0,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<gd.length;a++)It(gd[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":i2(n,s),It("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},It("invalid",n);break;case"textarea":c2(n,s),It("invalid",n)}FC(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Dh(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Dh(n.textContent,l,t),a=["children",""+l]):yf.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&It("scroll",n)}switch(r){case"input":wh(n),l2(n,s,!0);break;case"textarea":wh(n),u2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=tx)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Ea]=e,t[If]=n,iB(t,e,!1,!1),e.stateNode=t;e:{switch(i=BC(r,n),r){case"dialog":It("cancel",t),It("close",t),a=n;break;case"iframe":case"object":case"embed":It("load",t),a=n;break;case"video":case"audio":for(a=0;a<gd.length;a++)It(gd[a],t);a=n;break;case"source":It("error",t),a=n;break;case"img":case"image":case"link":It("error",t),It("load",t),a=n;break;case"details":It("toggle",t),a=n;break;case"input":i2(t,n),a=_C(t,n),It("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Bt({},n,{value:void 0}),It("invalid",t);break;case"textarea":c2(t,n),a=MC(t,n),It("invalid",t);break;default:a=n}FC(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?B5(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&L5(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bf(t,c):typeof c=="number"&&bf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&It("scroll",t):c!=null&&Rk(t,s,c,i))}switch(r){case"input":wh(t),l2(t,n,!1);break;case"textarea":wh(t),u2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Po(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ac(t,!!n.multiple,s,!1):n.defaultValue!=null&&ac(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=tx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Er(e),null;case 6:if(t&&e.stateNode!=null)cB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(fe(166));if(r=Ci(Tf.current),Ci($a.current),Eh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ea]=e,(s=n.nodeValue!==r)&&(t=Cn,t!==null))switch(t.tag){case 3:Dh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ea]=e,e.stateNode=n}return Er(e),null;case 13:if(Et(Lt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&jn!==null&&e.mode&1&&!(e.flags&128))I4(),Oc(),e.flags|=98560,s=!1;else if(s=Eh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Ea]=e}else Oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Er(e),s=!1}else ia!==null&&(vS(ia),ia=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Lt.current&1?ur===0&&(ur=3):bT())),e.updateQueue!==null&&(e.flags|=4),Er(e),null);case 4:return $c(),fS(t,e),t===null&&Sf(e.stateNode.containerInfo),Er(e),null;case 10:return tT(e.type._context),Er(e),null;case 17:return on(e.type)&&rx(),Er(e),null;case 19:if(Et(Lt),s=e.memoizedState,s===null)return Er(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)Vu(s,!1);else{if(ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=cx(t),i!==null){for(e.flags|=128,Vu(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return St(Lt,Lt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xt()>Mc&&(e.flags|=128,n=!0,Vu(s,!1),e.lanes=4194304)}else{if(!n)if(t=cx(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Vu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ot)return Er(e),null}else 2*Xt()-s.renderingStartTime>Mc&&r!==1073741824&&(e.flags|=128,n=!0,Vu(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,r=Lt.current,St(Lt,n?r&1|2:r&1),e):(Er(e),null);case 22:case 23:return yT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?bn&1073741824&&(Er(e),e.subtreeFlags&6&&(e.flags|=8192)):Er(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function wH(t,e){switch(Xk(e),e.tag){case 1:return on(e.type)&&rx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $c(),Et(sn),Et(Lr),oT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sT(e),null;case 13:if(Et(Lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Oc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Et(Lt),null;case 4:return $c(),null;case 10:return tT(e.type._context),null;case 22:case 23:return yT(),null;case 24:return null;default:return null}}var _h=!1,$r=!1,NH=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Jl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ut(t,e,n)}else r.current=null}function mS(t,e,r){try{r()}catch(n){Ut(t,e,n)}}var Z2=!1;function CH(t,e){if(JC=Qb,t=h4(),Kk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(XC={focusedElem:t,selectionRange:r},Qb=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,g=h.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:sa(e.type,y),g);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(C){Ut(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return h=Z2,Z2=!1,h}function $d(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&mS(e,r,s)}a=a.next}while(a!==n)}}function Qv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function hS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function uB(t){var e=t.alternate;e!==null&&(t.alternate=null,uB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ea],delete e[If],delete e[eS],delete e[oH],delete e[iH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dB(t){return t.tag===5||t.tag===3||t.tag===4}function eP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=tx));else if(n!==4&&(t=t.child,t!==null))for(pS(t,e,r),t=t.sibling;t!==null;)pS(t,e,r),t=t.sibling}function gS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(gS(t,e,r),t=t.sibling;t!==null;)gS(t,e,r),t=t.sibling}var Cr=null,oa=!1;function Hs(t,e,r){for(r=r.child;r!==null;)fB(t,e,r),r=r.sibling}function fB(t,e,r){if(_a&&typeof _a.onCommitFiberUnmount=="function")try{_a.onCommitFiberUnmount(zv,r)}catch{}switch(r.tag){case 5:$r||Jl(r,e);case 6:var n=Cr,a=oa;Cr=null,Hs(t,e,r),Cr=n,oa=a,Cr!==null&&(oa?(t=Cr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Cr.removeChild(r.stateNode));break;case 18:Cr!==null&&(oa?(t=Cr,r=r.stateNode,t.nodeType===8?oN(t.parentNode,r):t.nodeType===1&&oN(t,r),wf(t)):oN(Cr,r.stateNode));break;case 4:n=Cr,a=oa,Cr=r.stateNode.containerInfo,oa=!0,Hs(t,e,r),Cr=n,oa=a;break;case 0:case 11:case 14:case 15:if(!$r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&mS(r,e,i),a=a.next}while(a!==n)}Hs(t,e,r);break;case 1:if(!$r&&(Jl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ut(r,e,l)}Hs(t,e,r);break;case 21:Hs(t,e,r);break;case 22:r.mode&1?($r=(n=$r)||r.memoizedState!==null,Hs(t,e,r),$r=n):Hs(t,e,r);break;default:Hs(t,e,r)}}function tP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new NH),e.forEach(function(n){var a=OH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function na(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Cr=l.stateNode,oa=!1;break e;case 3:Cr=l.stateNode.containerInfo,oa=!0;break e;case 4:Cr=l.stateNode.containerInfo,oa=!0;break e}l=l.return}if(Cr===null)throw Error(fe(160));fB(s,i,a),Cr=null,oa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ut(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mB(e,t),e=e.sibling}function mB(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(na(e,t),Na(t),n&4){try{$d(3,t,t.return),Qv(3,t)}catch(y){Ut(t,t.return,y)}try{$d(5,t,t.return)}catch(y){Ut(t,t.return,y)}}break;case 1:na(e,t),Na(t),n&512&&r!==null&&Jl(r,r.return);break;case 5:if(na(e,t),Na(t),n&512&&r!==null&&Jl(r,r.return),t.flags&32){var a=t.stateNode;try{bf(a,"")}catch(y){Ut(t,t.return,y)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&$5(a,s),BC(l,i);var u=BC(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?B5(a,f):d==="dangerouslySetInnerHTML"?L5(a,f):d==="children"?bf(a,f):Rk(a,d,f,u)}switch(l){case"input":$C(a,s);break;case"textarea":R5(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ac(a,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?ac(a,!!s.multiple,s.defaultValue,!0):ac(a,!!s.multiple,s.multiple?[]:"",!1))}a[If]=s}catch(y){Ut(t,t.return,y)}}break;case 6:if(na(e,t),Na(t),n&4){if(t.stateNode===null)throw Error(fe(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(y){Ut(t,t.return,y)}}break;case 3:if(na(e,t),Na(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wf(e.containerInfo)}catch(y){Ut(t,t.return,y)}break;case 4:na(e,t),Na(t);break;case 13:na(e,t),Na(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(pT=Xt())),n&4&&tP(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?($r=(u=$r)||d,na(e,t),$r=u):na(e,t),Na(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ce=t,d=t.child;d!==null;){for(f=Ce=d;Ce!==null;){switch(m=Ce,p=m.child,m.tag){case 0:case 11:case 14:case 15:$d(4,m,m.return);break;case 1:Jl(m,m.return);var h=m.stateNode;if(typeof h.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(y){Ut(n,r,y)}}break;case 5:Jl(m,m.return);break;case 22:if(m.memoizedState!==null){nP(f);continue}}p!==null?(p.return=m,Ce=p):nP(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=F5("display",i))}catch(y){Ut(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Ut(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:na(e,t),Na(t),n&4&&tP(t);break;case 21:break;default:na(e,t),Na(t)}}function Na(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(dB(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(bf(a,""),n.flags&=-33);var s=eP(t);gS(t,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=eP(t);pS(t,l,i);break;default:throw Error(fe(161))}}catch(c){Ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SH(t,e,r){Ce=t,hB(t)}function hB(t,e,r){for(var n=(t.mode&1)!==0;Ce!==null;){var a=Ce,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||_h;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||$r;l=_h;var u=$r;if(_h=i,($r=c)&&!u)for(Ce=a;Ce!==null;)i=Ce,c=i.child,i.tag===22&&i.memoizedState!==null?aP(a):c!==null?(c.return=i,Ce=c):aP(a);for(;s!==null;)Ce=s,hB(s),s=s.sibling;Ce=a,_h=l,$r=u}rP(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Ce=s):rP(t)}}function rP(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$r||Qv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!$r)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:sa(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&B2(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}B2(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&wf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}$r||e.flags&512&&hS(e)}catch(m){Ut(e,e.return,m)}}if(e===t){Ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function nP(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function aP(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Qv(4,e)}catch(c){Ut(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Ut(e,a,c)}}var s=e.return;try{hS(e)}catch(c){Ut(e,s,c)}break;case 5:var i=e.return;try{hS(e)}catch(c){Ut(e,i,c)}}}catch(c){Ut(e,e.return,c)}if(e===t){Ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ce=l;break}Ce=e.return}}var AH=Math.ceil,fx=Rs.ReactCurrentDispatcher,mT=Rs.ReactCurrentOwner,Yn=Rs.ReactCurrentBatchConfig,Qe=0,br=null,ar=null,Ir=0,bn=0,Xl=Vo(0),ur=0,Of=null,tl=0,Zv=0,hT=0,Rd=null,Zr=null,pT=0,Mc=1/0,rs=null,mx=!1,yS=null,bo=null,$h=!1,so=null,hx=0,Md=0,bS=null,Fp=-1,Bp=0;function Hr(){return Qe&6?Xt():Fp!==-1?Fp:Fp=Xt()}function xo(t){return t.mode&1?Qe&2&&Ir!==0?Ir&-Ir:cH.transition!==null?(Bp===0&&(Bp=Q5()),Bp):(t=mt,t!==0||(t=window.event,t=t===void 0?16:s4(t.type)),t):1}function ma(t,e,r,n){if(50<Md)throw Md=0,bS=null,Error(fe(185));Rm(t,r,n),(!(Qe&2)||t!==br)&&(t===br&&(!(Qe&2)&&(Zv|=r),ur===4&&ro(t,Ir)),ln(t,n),r===1&&Qe===0&&!(e.mode&1)&&(Mc=Xt()+500,Kv&&Uo()))}function ln(t,e){var r=t.callbackNode;cW(t,e);var n=Xb(t,t===br?Ir:0);if(n===0)r!==null&&m2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&m2(r),e===1)t.tag===0?lH(sP.bind(null,t)):C4(sP.bind(null,t)),aH(function(){!(Qe&6)&&Uo()}),r=null;else{switch(Z5(n)){case 1:r=qk;break;case 4:r=J5;break;case 16:r=Jb;break;case 536870912:r=X5;break;default:r=Jb}r=wB(r,pB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function pB(t,e){if(Fp=-1,Bp=0,Qe&6)throw Error(fe(327));var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var n=Xb(t,t===br?Ir:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=px(t,n);else{e=n;var a=Qe;Qe|=2;var s=yB();(br!==t||Ir!==e)&&(rs=null,Mc=Xt()+500,Oi(t,e));do try{TH();break}catch(l){gB(t,l)}while(!0);eT(),fx.current=s,Qe=a,ar!==null?e=0:(br=null,Ir=0,e=ur)}if(e!==0){if(e===2&&(a=WC(t),a!==0&&(n=a,e=xS(t,a))),e===1)throw r=Of,Oi(t,0),ro(t,n),ln(t,Xt()),r;if(e===6)ro(t,n);else{if(a=t.current.alternate,!(n&30)&&!IH(a)&&(e=px(t,n),e===2&&(s=WC(t),s!==0&&(n=s,e=xS(t,s))),e===1))throw r=Of,Oi(t,0),ro(t,n),ln(t,Xt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(fe(345));case 2:mi(t,Zr,rs);break;case 3:if(ro(t,n),(n&130023424)===n&&(e=pT+500-Xt(),10<e)){if(Xb(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Hr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=ZC(mi.bind(null,t,Zr,rs),e);break}mi(t,Zr,rs);break;case 4:if(ro(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-fa(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=Xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AH(n/1960))-n,10<n){t.timeoutHandle=ZC(mi.bind(null,t,Zr,rs),n);break}mi(t,Zr,rs);break;case 5:mi(t,Zr,rs);break;default:throw Error(fe(329))}}}return ln(t,Xt()),t.callbackNode===r?pB.bind(null,t):null}function xS(t,e){var r=Rd;return t.current.memoizedState.isDehydrated&&(Oi(t,e).flags|=256),t=px(t,e),t!==2&&(e=Zr,Zr=r,e!==null&&vS(e)),t}function vS(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function IH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ba(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(t,e){for(e&=~hT,e&=~Zv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-fa(e),n=1<<r;t[r]=-1,e&=~n}}function sP(t){if(Qe&6)throw Error(fe(327));cc();var e=Xb(t,0);if(!(e&1))return ln(t,Xt()),null;var r=px(t,e);if(t.tag!==0&&r===2){var n=WC(t);n!==0&&(e=n,r=xS(t,n))}if(r===1)throw r=Of,Oi(t,0),ro(t,e),ln(t,Xt()),r;if(r===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mi(t,Zr,rs),ln(t,Xt()),null}function gT(t,e){var r=Qe;Qe|=1;try{return t(e)}finally{Qe=r,Qe===0&&(Mc=Xt()+500,Kv&&Uo())}}function rl(t){so!==null&&so.tag===0&&!(Qe&6)&&cc();var e=Qe;Qe|=1;var r=Yn.transition,n=mt;try{if(Yn.transition=null,mt=1,t)return t()}finally{mt=n,Yn.transition=r,Qe=e,!(Qe&6)&&Uo()}}function yT(){bn=Xl.current,Et(Xl)}function Oi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,nH(r)),ar!==null)for(r=ar.return;r!==null;){var n=r;switch(Xk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rx();break;case 3:$c(),Et(sn),Et(Lr),oT();break;case 5:sT(n);break;case 4:$c();break;case 13:Et(Lt);break;case 19:Et(Lt);break;case 10:tT(n.type._context);break;case 22:case 23:yT()}r=r.return}if(br=t,ar=t=vo(t.current,null),Ir=bn=e,ur=0,Of=null,hT=Zv=tl=0,Zr=Rd=null,Ni!==null){for(e=0;e<Ni.length;e++)if(r=Ni[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Ni=null}return t}function gB(t,e){do{var r=ar;try{if(eT(),Rp.current=dx,ux){for(var n=Ft.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ux=!1}if(el=0,gr=cr=Ft=null,_d=!1,Df=0,mT.current=null,r===null||r.return===null){ur=1,Of=e,ar=null;break}e:{var s=t,i=r.return,l=r,c=e;if(e=Ir,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=H2(i);if(p!==null){p.flags&=-257,G2(p,i,l,s,e),p.mode&1&&W2(s,u,e),e=p,c=u;var h=e.updateQueue;if(h===null){var y=new Set;y.add(c),e.updateQueue=y}else h.add(c);break e}else{if(!(e&1)){W2(s,u,e),bT();break e}c=Error(fe(426))}}else if(Ot&&l.mode&1){var g=H2(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),G2(g,i,l,s,e),Qk(Rc(c,l));break e}}s=c=Rc(c,l),ur!==4&&(ur=2),Rd===null?Rd=[s]:Rd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=Z4(s,c,e);F2(s,b);break e;case 1:l=c;var v=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(bo===null||!bo.has(j)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=eB(s,l,e);F2(s,C);break e}}s=s.return}while(s!==null)}xB(r)}catch(x){e=x,ar===r&&r!==null&&(ar=r=r.return);continue}break}while(!0)}function yB(){var t=fx.current;return fx.current=dx,t===null?dx:t}function bT(){(ur===0||ur===3||ur===2)&&(ur=4),br===null||!(tl&268435455)&&!(Zv&268435455)||ro(br,Ir)}function px(t,e){var r=Qe;Qe|=2;var n=yB();(br!==t||Ir!==e)&&(rs=null,Oi(t,e));do try{kH();break}catch(a){gB(t,a)}while(!0);if(eT(),Qe=r,fx.current=n,ar!==null)throw Error(fe(261));return br=null,Ir=0,ur}function kH(){for(;ar!==null;)bB(ar)}function TH(){for(;ar!==null&&!eW();)bB(ar)}function bB(t){var e=jB(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?xB(t):ar=e,mT.current=null}function xB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=wH(r,e),r!==null){r.flags&=32767,ar=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ur=6,ar=null;return}}else if(r=jH(r,e,bn),r!==null){ar=r;return}if(e=e.sibling,e!==null){ar=e;return}ar=e=t}while(e!==null);ur===0&&(ur=5)}function mi(t,e,r){var n=mt,a=Yn.transition;try{Yn.transition=null,mt=1,DH(t,e,r,n)}finally{Yn.transition=a,mt=n}return null}function DH(t,e,r,n){do cc();while(so!==null);if(Qe&6)throw Error(fe(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(uW(t,s),t===br&&(ar=br=null,Ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$h||($h=!0,wB(Jb,function(){return cc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Yn.transition,Yn.transition=null;var i=mt;mt=1;var l=Qe;Qe|=4,mT.current=null,CH(t,r),mB(r,t),JW(XC),Qb=!!JC,XC=JC=null,t.current=r,SH(r),tW(),Qe=l,mt=i,Yn.transition=s}else t.current=r;if($h&&($h=!1,so=t,hx=a),s=t.pendingLanes,s===0&&(bo=null),aW(r.stateNode),ln(t,Xt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(mx)throw mx=!1,t=yS,yS=null,t;return hx&1&&t.tag!==0&&cc(),s=t.pendingLanes,s&1?t===bS?Md++:(Md=0,bS=t):Md=0,Uo(),null}function cc(){if(so!==null){var t=Z5(hx),e=Yn.transition,r=mt;try{if(Yn.transition=null,mt=16>t?16:t,so===null)var n=!1;else{if(t=so,so=null,hx=0,Qe&6)throw Error(fe(331));var a=Qe;for(Qe|=4,Ce=t.current;Ce!==null;){var s=Ce,i=s.child;if(Ce.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ce=u;Ce!==null;){var d=Ce;switch(d.tag){case 0:case 11:case 15:$d(8,d,s)}var f=d.child;if(f!==null)f.return=d,Ce=f;else for(;Ce!==null;){d=Ce;var m=d.sibling,p=d.return;if(uB(d),d===u){Ce=null;break}if(m!==null){m.return=p,Ce=m;break}Ce=p}}}var h=s.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(y!==null)}}Ce=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Ce=i;else e:for(;Ce!==null;){if(s=Ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$d(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Ce=b;break e}Ce=s.return}}var v=t.current;for(Ce=v;Ce!==null;){i=Ce;var j=i.child;if(i.subtreeFlags&2064&&j!==null)j.return=i,Ce=j;else e:for(i=v;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qv(9,l)}}catch(x){Ut(l,l.return,x)}if(l===i){Ce=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Ce=C;break e}Ce=l.return}}if(Qe=a,Uo(),_a&&typeof _a.onPostCommitFiberRoot=="function")try{_a.onPostCommitFiberRoot(zv,t)}catch{}n=!0}return n}finally{mt=r,Yn.transition=e}}return!1}function oP(t,e,r){e=Rc(r,e),e=Z4(t,e,1),t=yo(t,e,1),e=Hr(),t!==null&&(Rm(t,1,e),ln(t,e))}function Ut(t,e,r){if(t.tag===3)oP(t,t,r);else for(;e!==null;){if(e.tag===3){oP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bo===null||!bo.has(n))){t=Rc(r,t),t=eB(e,t,1),e=yo(e,t,1),t=Hr(),e!==null&&(Rm(e,1,t),ln(e,t));break}}e=e.return}}function EH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Hr(),t.pingedLanes|=t.suspendedLanes&r,br===t&&(Ir&r)===r&&(ur===4||ur===3&&(Ir&130023424)===Ir&&500>Xt()-pT?Oi(t,0):hT|=r),ln(t,e)}function vB(t,e){e===0&&(t.mode&1?(e=Sh,Sh<<=1,!(Sh&130023424)&&(Sh=4194304)):e=1);var r=Hr();t=As(t,e),t!==null&&(Rm(t,e,r),ln(t,r))}function PH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),vB(t,r)}function OH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(e),vB(t,r)}var jB;jB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)tn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tn=!1,vH(t,e,r);tn=!!(t.flags&131072)}else tn=!1,Ot&&e.flags&1048576&&S4(e,sx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Lp(t,e),t=e.pendingProps;var a=Pc(e,Lr.current);lc(e,r),a=lT(null,e,n,t,a,r);var s=cT();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(n)?(s=!0,nx(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,nT(e),a.updater=Xv,e.stateNode=a,a._reactInternals=e,oS(e,n,t,r),e=cS(null,e,n,!0,s,r)):(e.tag=0,Ot&&s&&Jk(e),Vr(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Lp(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=$H(n),t=sa(n,t),a){case 0:e=lS(null,e,n,t,r);break e;case 1:e=J2(null,e,n,t,r);break e;case 11:e=Y2(null,e,n,t,r);break e;case 14:e=K2(null,e,n,sa(n.type,t),r);break e}throw Error(fe(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:sa(n,a),lS(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:sa(n,a),J2(t,e,n,a,r);case 3:e:{if(aB(e),t===null)throw Error(fe(387));n=e.pendingProps,s=e.memoizedState,a=s.element,E4(t,e),lx(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=Rc(Error(fe(423)),e),e=X2(t,e,n,r,a);break e}else if(n!==a){a=Rc(Error(fe(424)),e),e=X2(t,e,n,r,a);break e}else for(jn=go(e.stateNode.containerInfo.firstChild),Cn=e,Ot=!0,ia=null,r=T4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Oc(),n===a){e=Is(t,e,r);break e}Vr(t,e,n,r)}e=e.child}return e;case 5:return P4(e),t===null&&nS(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,QC(n,a)?i=null:s!==null&&QC(n,s)&&(e.flags|=32),nB(t,e),Vr(t,e,i,r),e.child;case 6:return t===null&&nS(e),null;case 13:return sB(t,e,r);case 4:return aT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=_c(e,null,n,r):Vr(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:sa(n,a),Y2(t,e,n,a,r);case 7:return Vr(t,e,e.pendingProps,r),e.child;case 8:return Vr(t,e,e.pendingProps.children,r),e.child;case 12:return Vr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,St(ox,n._currentValue),n._currentValue=i,s!==null)if(ba(s.value,i)){if(s.children===a.children&&!sn.current){e=Is(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=gs(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),aS(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(fe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),aS(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Vr(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,lc(e,r),a=Jn(a),n=n(a),e.flags|=1,Vr(t,e,n,r),e.child;case 14:return n=e.type,a=sa(n,e.pendingProps),a=sa(n.type,a),K2(t,e,n,a,r);case 15:return tB(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:sa(n,a),Lp(t,e),e.tag=1,on(n)?(t=!0,nx(e)):t=!1,lc(e,r),Q4(e,n,a),oS(e,n,a,r),cS(null,e,n,!0,t,r);case 19:return oB(t,e,r);case 22:return rB(t,e,r)}throw Error(fe(156,e.tag))};function wB(t,e){return K5(t,e)}function _H(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,r,n){return new _H(t,e,r,n)}function xT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $H(t){if(typeof t=="function")return xT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lk)return 11;if(t===Fk)return 14}return 2}function vo(t,e){var r=t.alternate;return r===null?(r=Wn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function qp(t,e,r,n,a,s){var i=2;if(n=t,typeof t=="function")xT(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case ql:return _i(r.children,a,s,e);case Mk:i=8,a|=8;break;case DC:return t=Wn(12,r,e,a|2),t.elementType=DC,t.lanes=s,t;case EC:return t=Wn(13,r,e,a),t.elementType=EC,t.lanes=s,t;case PC:return t=Wn(19,r,e,a),t.elementType=PC,t.lanes=s,t;case P5:return e0(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D5:i=10;break e;case E5:i=9;break e;case Lk:i=11;break e;case Fk:i=14;break e;case Js:i=16,n=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Wn(i,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function _i(t,e,r,n){return t=Wn(7,t,n,e),t.lanes=r,t}function e0(t,e,r,n){return t=Wn(22,t,n,e),t.elementType=P5,t.lanes=r,t.stateNode={isHidden:!1},t}function hN(t,e,r){return t=Wn(6,t,null,e),t.lanes=r,t}function pN(t,e,r){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kw(0),this.expirationTimes=Kw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function vT(t,e,r,n,a,s,i,l,c){return t=new RH(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nT(s),t}function MH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function NB(t){if(!t)return Oo;t=t._reactInternals;e:{if(hl(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var r=t.type;if(on(r))return N4(t,r,e)}return e}function CB(t,e,r,n,a,s,i,l,c){return t=vT(r,n,!0,t,a,s,i,l,c),t.context=NB(null),r=t.current,n=Hr(),a=xo(r),s=gs(n,a),s.callback=e??null,yo(r,s,a),t.current.lanes=a,Rm(t,a,n),ln(t,n),t}function t0(t,e,r,n){var a=e.current,s=Hr(),i=xo(a);return r=NB(r),e.context===null?e.context=r:e.pendingContext=r,e=gs(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=yo(a,e,i),t!==null&&(ma(t,a,i,s),$p(t,a,i)),i}function gx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function jT(t,e){iP(t,e),(t=t.alternate)&&iP(t,e)}function LH(){return null}var SB=typeof reportError=="function"?reportError:function(t){console.error(t)};function wT(t){this._internalRoot=t}r0.prototype.render=wT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));t0(t,e,null,null)};r0.prototype.unmount=wT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rl(function(){t0(null,t,null,null)}),e[Ss]=null}};function r0(t){this._internalRoot=t}r0.prototype.unstable_scheduleHydration=function(t){if(t){var e=r4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<to.length&&e!==0&&e<to[r].priority;r++);to.splice(r,0,t),r===0&&a4(t)}};function NT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function n0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lP(){}function FH(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=gx(i);s.call(u)}}var i=CB(e,n,t,0,null,!1,!1,"",lP);return t._reactRootContainer=i,t[Ss]=i.current,Sf(t.nodeType===8?t.parentNode:t),rl(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=gx(c);l.call(u)}}var c=vT(t,0,!1,null,null,!1,!1,"",lP);return t._reactRootContainer=c,t[Ss]=c.current,Sf(t.nodeType===8?t.parentNode:t),rl(function(){t0(e,c,r,n)}),c}function a0(t,e,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=gx(i);l.call(c)}}t0(e,i,t,a)}else i=FH(r,e,t,a,n);return gx(i)}e4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=pd(e.pendingLanes);r!==0&&(Vk(e,r|1),ln(e,Xt()),!(Qe&6)&&(Mc=Xt()+500,Uo()))}break;case 13:rl(function(){var n=As(t,1);if(n!==null){var a=Hr();ma(n,t,1,a)}}),jT(t,1)}};Uk=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var r=Hr();ma(e,t,134217728,r)}jT(t,134217728)}};t4=function(t){if(t.tag===13){var e=xo(t),r=As(t,e);if(r!==null){var n=Hr();ma(r,t,e,n)}jT(t,e)}};r4=function(){return mt};n4=function(t,e){var r=mt;try{return mt=t,e()}finally{mt=r}};VC=function(t,e,r){switch(e){case"input":if($C(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Yv(n);if(!a)throw Error(fe(90));_5(n),$C(n,a)}}}break;case"textarea":R5(t,r);break;case"select":e=r.value,e!=null&&ac(t,!!r.multiple,e,!1)}};U5=gT;z5=rl;var BH={usingClientEntryPoint:!1,Events:[Lm,Wl,Yv,q5,V5,gT]},Uu={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qH={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G5(t),t===null?null:t.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance||LH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{zv=Rh.inject(qH),_a=Rh}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BH;On.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NT(e))throw Error(fe(200));return MH(t,e,null,r)};On.createRoot=function(t,e){if(!NT(t))throw Error(fe(299));var r=!1,n="",a=SB;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=vT(t,1,!1,null,null,r,!1,n,a),t[Ss]=e.current,Sf(t.nodeType===8?t.parentNode:t),new wT(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=G5(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return rl(t)};On.hydrate=function(t,e,r){if(!n0(e))throw Error(fe(200));return a0(null,t,e,!0,r)};On.hydrateRoot=function(t,e,r){if(!NT(t))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=SB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=CB(e,null,t,1,r??null,a,!1,s,i),t[Ss]=e.current,Sf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new r0(e)};On.render=function(t,e,r){if(!n0(e))throw Error(fe(200));return a0(null,t,e,!1,r)};On.unmountComponentAtNode=function(t){if(!n0(t))throw Error(fe(40));return t._reactRootContainer?(rl(function(){a0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ss]=null})}),!0):!1};On.unstable_batchedUpdates=gT;On.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!n0(r))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return a0(t,e,r,!1,n)};On.version="18.3.1-next-f1338f8080-20240426";function AB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AB)}catch(t){console.error(t)}}AB(),A5.exports=On;var s0=A5.exports,cP=s0;kC.createRoot=cP.createRoot,kC.hydrateRoot=cP.hydrateRoot;var IB={exports:{}},kB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=w;function VH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var UH=typeof Object.is=="function"?Object.is:VH,zH=Bm.useSyncExternalStore,WH=Bm.useRef,HH=Bm.useEffect,GH=Bm.useMemo,YH=Bm.useDebugValue;kB.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var s=WH(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=GH(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&i.hasValue){var h=i.value;if(a(h,p))return f=h}return f=p}if(h=f,UH(d,p))return h;var y=n(p);return a!==void 0&&a(h,y)?(d=p,h):(d=p,f=y)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=zH(t,s[0],s[1]);return HH(function(){i.hasValue=!0,i.value=l},[l]),YH(l),l};IB.exports=kB;var KH=IB.exports;function JH(t){t()}function XH(){let t=null,e=null;return{clear(){t=null,e=null},notify(){JH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var uP={notify(){},get:()=>[]};function QH(t,e){let r,n=uP,a=0,s=!1;function i(y){d();const g=n.subscribe(y);let b=!1;return()=>{b||(b=!0,g(),f())}}function l(){n.notify()}function c(){h.onStateChange&&h.onStateChange()}function u(){return s}function d(){a++,r||(r=t.subscribe(c),n=XH())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=uP)}function m(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const h={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>n};return h}var ZH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eG=ZH(),tG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rG=tG(),nG=()=>eG||rG?w.useLayoutEffect:w.useEffect,aG=nG(),gN=Symbol.for("react-redux-context"),yN=typeof globalThis<"u"?globalThis:{};function sG(){if(!w.createContext)return{};const t=yN[gN]??(yN[gN]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var _o=sG();function oG(t){const{children:e,context:r,serverState:n,store:a}=t,s=w.useMemo(()=>{const c=QH(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=w.useMemo(()=>a.getState(),[a]);aG(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||_o;return w.createElement(l.Provider,{value:s},e)}var iG=oG;function CT(t=_o){return function(){return w.useContext(t)}}var TB=CT();function DB(t=_o){const e=t===_o?TB:CT(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var lG=DB();function cG(t=_o){const e=t===_o?lG:DB(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var ce=cG(),uG=(t,e)=>t===e;function dG(t=_o){const e=t===_o?TB:CT(t),r=(n,a={})=>{const{equalityFn:s=uG}=typeof a=="function"?{equalityFn:a}:a,i=e(),{store:l,subscription:c,getServerState:u}=i;w.useRef(!0);const d=w.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=KH.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,s);return w.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var q=dG();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_f.apply(this,arguments)}var oo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oo||(oo={}));const dP="popstate";function fG(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return jS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:yx(a)}return hG(e,r,null,t)}function tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mG(){return Math.random().toString(36).substr(2,8)}function fP(t,e){return{usr:t.state,key:t.key,idx:e}}function jS(t,e,r,n){return r===void 0&&(r=null),_f({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pu(e):e,{state:r,key:e&&e.key||n||mG()})}function yx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function pu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function hG(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=oo.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(_f({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=oo.Pop;let g=d(),b=g==null?null:g-u;u=g,c&&c({action:l,location:y.location,delta:b})}function m(g,b){l=oo.Push;let v=jS(y.location,g,b);u=d()+1;let j=fP(v,u),C=y.createHref(v);try{i.pushState(j,"",C)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;a.location.assign(C)}s&&c&&c({action:l,location:y.location,delta:1})}function p(g,b){l=oo.Replace;let v=jS(y.location,g,b);u=d();let j=fP(v,u),C=y.createHref(v);i.replaceState(j,"",C),s&&c&&c({action:l,location:y.location,delta:0})}function h(g){let b=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof g=="string"?g:yx(g);return v=v.replace(/ $/,"%20"),tr(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let y={get action(){return l},get location(){return t(a,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(dP,f),c=g,()=>{a.removeEventListener(dP,f),c=null}},createHref(g){return e(a,g)},createURL:h,encodeLocation(g){let b=h(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(g){return i.go(g)}};return y}var mP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mP||(mP={}));function pG(t,e,r){return r===void 0&&(r="/"),gG(t,e,r)}function gG(t,e,r,n){let a=typeof e=="string"?pu(e):e,s=ST(a.pathname||"/",r);if(s==null)return null;let i=PB(t);yG(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=TG(s);l=AG(i[c],u)}return l}function PB(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(tr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=jo([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(tr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),PB(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:CG(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of OB(s.path))a(s,i,c)}),e}function OB(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=OB(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function yG(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:SG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const bG=/^:[\w-]+$/,xG=3,vG=2,jG=1,wG=10,NG=-2,hP=t=>t==="*";function CG(t,e){let r=t.split("/"),n=r.length;return r.some(hP)&&(n+=NG),e&&(n+=vG),r.filter(a=>!hP(a)).reduce((a,s)=>a+(bG.test(s)?xG:s===""?jG:wG),n)}function SG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function AG(t,e,r){let{routesMeta:n}=t,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=IG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:jo([s,f.pathname]),pathnameBase:OG(jo([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=jo([s,f.pathnameBase]))}return i}function IG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=kG(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let y=l[f]||"";i=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const h=l[f];return p&&!h?u[m]=void 0:u[m]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function kG(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),EB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function TG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return EB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ST(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function DG(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?pu(t):t;return{pathname:r?r.startsWith("/")?r:EG(r,e):e,search:_G(n),hash:$G(a)}}function EG(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function bN(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function AT(t,e){let r=PG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function IT(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=pu(t):(a=_f({},t),tr(!a.pathname||!a.pathname.includes("?"),bN("?","pathname","search",a)),tr(!a.pathname||!a.pathname.includes("#"),bN("#","pathname","hash",a)),tr(!a.search||!a.search.includes("#"),bN("#","search","hash",a)));let s=t===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=DG(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const jo=t=>t.join("/").replace(/\/\/+/g,"/"),OG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_G=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$G=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _B=["post","put","patch","delete"];new Set(_B);const MG=["get",..._B];new Set(MG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$f.apply(this,arguments)}const kT=w.createContext(null),LG=w.createContext(null),zo=w.createContext(null),o0=w.createContext(null),Ms=w.createContext({outlet:null,matches:[],isDataRoute:!1}),$B=w.createContext(null);function FG(t,e){let{relative:r}=e===void 0?{}:e;gu()||tr(!1);let{basename:n,navigator:a}=w.useContext(zo),{hash:s,pathname:i,search:l}=MB(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:jo([n,i])),a.createHref({pathname:c,search:l,hash:s})}function gu(){return w.useContext(o0)!=null}function Wo(){return gu()||tr(!1),w.useContext(o0).location}function RB(t){w.useContext(zo).static||w.useLayoutEffect(t)}function qm(){let{isDataRoute:t}=w.useContext(Ms);return t?eY():BG()}function BG(){gu()||tr(!1);let t=w.useContext(kT),{basename:e,future:r,navigator:n}=w.useContext(zo),{matches:a}=w.useContext(Ms),{pathname:s}=Wo(),i=JSON.stringify(AT(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return RB(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=IT(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:jo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}const qG=w.createContext(null);function VG(t){let e=w.useContext(Ms).outlet;return e&&w.createElement(qG.Provider,{value:t},e)}function MB(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(zo),{matches:a}=w.useContext(Ms),{pathname:s}=Wo(),i=JSON.stringify(AT(a,n.v7_relativeSplatPath));return w.useMemo(()=>IT(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function UG(t,e){return zG(t,e)}function zG(t,e,r,n){gu()||tr(!1);let{navigator:a}=w.useContext(zo),{matches:s}=w.useContext(Ms),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Wo(),d;if(e){var f;let g=typeof e=="string"?pu(e):e;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||tr(!1),d=g}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let h=pG(t,{pathname:p}),y=KG(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:jo([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:jo([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return e&&y?w.createElement(o0.Provider,{value:{location:$f({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:oo.Pop}},y):y}function WG(){let t=ZG(),e=RG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:a},r):null,null)}const HG=w.createElement(WG,null);class GG extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Ms.Provider,{value:this.props.routeContext},w.createElement($B.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YG(t){let{routeContext:e,match:r,children:n}=t,a=w.useContext(kT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Ms.Provider,{value:e},n)}function KG(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||tr(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,h=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||h){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,h=!1,y=null,g=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||HG,c&&(u<0&&m===0?(tY("route-fallback"),h=!0,g=null):u===m&&(h=!0,g=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,m+1)),v=()=>{let j;return p?j=y:h?j=g:f.route.Component?j=w.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,w.createElement(YG,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(GG,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var LB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LB||{}),FB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(FB||{});function JG(t){let e=w.useContext(kT);return e||tr(!1),e}function XG(t){let e=w.useContext(LG);return e||tr(!1),e}function QG(t){let e=w.useContext(Ms);return e||tr(!1),e}function BB(t){let e=QG(),r=e.matches[e.matches.length-1];return r.route.id||tr(!1),r.route.id}function ZG(){var t;let e=w.useContext($B),r=XG(),n=BB();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function eY(){let{router:t}=JG(LB.UseNavigateStable),e=BB(FB.UseNavigateStable),r=w.useRef(!1);return RB(()=>{r.current=!0}),w.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,$f({fromRouteId:e},s)))},[t,e])}const pP={};function tY(t,e,r){pP[t]||(pP[t]=!0)}function rY(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ql(t){let{to:e,replace:r,state:n,relative:a}=t;gu()||tr(!1);let{future:s,static:i}=w.useContext(zo),{matches:l}=w.useContext(Ms),{pathname:c}=Wo(),u=qm(),d=IT(e,AT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function qB(t){return VG(t.context)}function ue(t){tr(!1)}function nY(t){let{basename:e="/",children:r=null,location:n,navigationType:a=oo.Pop,navigator:s,static:i=!1,future:l}=t;gu()&&tr(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:i,future:$f({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=pu(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:h="default"}=n,y=w.useMemo(()=>{let g=ST(d,c);return g==null?null:{location:{pathname:g,search:f,hash:m,state:p,key:h},navigationType:a}},[c,d,f,m,p,h,a]);return y==null?null:w.createElement(zo.Provider,{value:u},w.createElement(o0.Provider,{children:r,value:y}))}function aY(t){let{children:e,location:r}=t;return UG(wS(e),r)}new Promise(()=>{});function wS(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,a)=>{if(!w.isValidElement(n))return;let s=[...e,a];if(n.type===w.Fragment){r.push.apply(r,wS(n.props.children,s));return}n.type!==ue&&tr(!1),!n.props.index||!n.props.children||tr(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=wS(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NS.apply(this,arguments)}function sY(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function oY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iY(t,e){return t.button===0&&(!e||e==="_self")&&!oY(t)}const lY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cY="6";try{window.__reactRouterVersion=cY}catch{}const uY="startTransition",gP=gf[uY];function dY(t){let{basename:e,children:r,future:n,window:a}=t,s=w.useRef();s.current==null&&(s.current=fG({window:a,v5Compat:!0}));let i=s.current,[l,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&gP?gP(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>rY(n),[n]),w.createElement(nY,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const fY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ld=w.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=sY(e,lY),{basename:p}=w.useContext(zo),h,y=!1;if(typeof u=="string"&&mY.test(u)&&(h=u,fY))try{let j=new URL(window.location.href),C=u.startsWith("//")?new URL(j.protocol+u):new URL(u),x=ST(C.pathname,p);C.origin===j.origin&&x!=null?u=x+C.search+C.hash:y=!0}catch{}let g=FG(u,{relative:a}),b=hY(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function v(j){n&&n(j),j.defaultPrevented||b(j)}return w.createElement("a",NS({},m,{href:h||g,onClick:y||s?n:v,ref:r,target:c}))});var yP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yP||(yP={}));var bP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bP||(bP={}));function hY(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=e===void 0?{}:e,c=qm(),u=Wo(),d=MB(t,{relative:i});return w.useCallback(f=>{if(iY(f,r)){f.preventDefault();let m=n!==void 0?n:yx(u)===yx(d);c(t,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,t,s,i,l])}function wr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pY=typeof Symbol=="function"&&Symbol.observable||"@@observable",xP=pY,xN=()=>Math.random().toString(36).substring(7).split("").join("."),gY={INIT:`@@redux/INIT${xN()}`,REPLACE:`@@redux/REPLACE${xN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xN()}`},bx=gY;function TT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function VB(t,e,r){if(typeof t!="function")throw new Error(wr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(wr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(wr(1));return r(VB)(t,e)}let n=t,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((g,b)=>{i.set(b,g)}))}function d(){if(c)throw new Error(wr(3));return a}function f(g){if(typeof g!="function")throw new Error(wr(4));if(c)throw new Error(wr(5));let b=!0;u();const v=l++;return i.set(v,g),function(){if(b){if(c)throw new Error(wr(6));b=!1,u(),i.delete(v),s=null}}}function m(g){if(!TT(g))throw new Error(wr(7));if(typeof g.type>"u")throw new Error(wr(8));if(typeof g.type!="string")throw new Error(wr(17));if(c)throw new Error(wr(9));try{c=!0,a=n(a,g)}finally{c=!1}return(s=i).forEach(v=>{v()}),g}function p(g){if(typeof g!="function")throw new Error(wr(10));n=g,m({type:bx.REPLACE})}function h(){const g=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(wr(11));function v(){const C=b;C.next&&C.next(d())}return v(),{unsubscribe:g(v)}},[xP](){return this}}}return m({type:bx.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:p,[xP]:h}}function yY(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:bx.INIT})>"u")throw new Error(wr(12));if(typeof r(void 0,{type:bx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wr(13))})}function bY(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const i=e[s];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let a;try{yY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],p=i[f],h=m(p,l);if(typeof h>"u")throw l&&l.type,new Error(wr(14));u[f]=h,c=c||h!==p}return c=c||n.length!==Object.keys(i).length,c?u:i}}function xx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function xY(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(wr(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(i));return s=xx(...l)(a.dispatch),{...a,dispatch:s}}}function vY(t){return TT(t)&&"type"in t&&typeof t.type=="string"}var UB=Symbol.for("immer-nothing"),vP=Symbol.for("immer-draftable"),kn=Symbol.for("immer-state");function la(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Lc=Object.getPrototypeOf;function nl(t){return!!t&&!!t[kn]}function ks(t){var e;return t?zB(t)||Array.isArray(t)||!!t[vP]||!!((e=t.constructor)!=null&&e[vP])||l0(t)||c0(t):!1}var jY=Object.prototype.constructor.toString();function zB(t){if(!t||typeof t!="object")return!1;const e=Lc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===jY}function vx(t,e){i0(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function i0(t){const e=t[kn];return e?e.type_:Array.isArray(t)?1:l0(t)?2:c0(t)?3:0}function CS(t,e){return i0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function WB(t,e,r){const n=i0(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function wY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function l0(t){return t instanceof Map}function c0(t){return t instanceof Set}function hi(t){return t.copy_||t.base_}function SS(t,e){if(l0(t))return new Map(t);if(c0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=zB(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[kn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(Lc(t),n)}else{const n=Lc(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function DT(t,e=!1){return u0(t)||nl(t)||!ks(t)||(i0(t)>1&&(t.set=t.add=t.clear=t.delete=NY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>DT(n,!0))),t}function NY(){la(2)}function u0(t){return Object.isFrozen(t)}var CY={};function al(t){const e=CY[t];return e||la(0,t),e}var Rf;function HB(){return Rf}function SY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jP(t,e){e&&(al("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function AS(t){IS(t),t.drafts_.forEach(AY),t.drafts_=null}function IS(t){t===Rf&&(Rf=t.parent_)}function wP(t){return Rf=SY(Rf,t)}function AY(t){const e=t[kn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function NP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[kn].modified_&&(AS(e),la(4)),ks(t)&&(t=jx(e,t),e.parent_||wx(e,t)),e.patches_&&al("Patches").generateReplacementPatches_(r[kn].base_,t,e.patches_,e.inversePatches_)):t=jx(e,r,[]),AS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==UB?t:void 0}function jx(t,e,r){if(u0(e))return e;const n=e[kn];if(!n)return vx(e,(a,s)=>CP(t,n,e,a,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return wx(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),vx(s,(l,c)=>CP(t,n,a,l,c,r,i)),wx(t,a,!1),r&&t.patches_&&al("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function CP(t,e,r,n,a,s,i){if(nl(a)){const l=s&&e&&e.type_!==3&&!CS(e.assigned_,n)?s.concat(n):void 0,c=jx(t,a,l);if(WB(r,n,c),nl(c))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(ks(a)&&!u0(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;jx(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&wx(t,a)}}function wx(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&DT(e,r)}function IY(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:HB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=ET;r&&(a=[n],s=Mf);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var ET={get(t,e){if(e===kn)return t;const r=hi(t);if(!CS(r,e))return kY(t,r,e);const n=r[e];return t.finalized_||!ks(n)?n:n===vN(t.base_,e)?(jN(t),t.copy_[e]=TS(n,t)):n},has(t,e){return e in hi(t)},ownKeys(t){return Reflect.ownKeys(hi(t))},set(t,e,r){const n=GB(hi(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=vN(hi(t),e),s=a==null?void 0:a[kn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(wY(r,a)&&(r!==void 0||CS(t.base_,e)))return!0;jN(t),kS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return vN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,jN(t),kS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=hi(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){la(11)},getPrototypeOf(t){return Lc(t.base_)},setPrototypeOf(){la(12)}},Mf={};vx(ET,(t,e)=>{Mf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Mf.deleteProperty=function(t,e){return Mf.set.call(this,t,e,void 0)};Mf.set=function(t,e,r){return ET.set.call(this,t[0],e,r,t[0])};function vN(t,e){const r=t[kn];return(r?hi(r):t)[e]}function kY(t,e,r){var a;const n=GB(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function GB(t,e){if(!(e in t))return;let r=Lc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Lc(r)}}function kS(t){t.modified_||(t.modified_=!0,t.parent_&&kS(t.parent_))}function jN(t){t.copy_||(t.copy_=SS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var TY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&la(6),n!==void 0&&typeof n!="function"&&la(7);let a;if(ks(e)){const s=wP(this),i=TS(e,void 0);let l=!0;try{a=r(i),l=!1}finally{l?AS(s):IS(s)}return jP(s,n),NP(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===UB&&(a=void 0),this.autoFreeze_&&DT(a,!0),n){const s=[],i=[];al("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else la(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,r,(i,l)=>{n=i,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ks(t)||la(8),nl(t)&&(t=DY(t));const e=wP(this),r=TS(t,void 0);return r[kn].isManual_=!0,IS(e),r}finishDraft(t,e){const r=t&&t[kn];(!r||!r.isManual_)&&la(9);const{scope_:n}=r;return jP(n,e),NP(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=al("Patches").applyPatches_;return nl(t)?n(t,e):this.produce(t,a=>n(a,e))}};function TS(t,e){const r=l0(t)?al("MapSet").proxyMap_(t,e):c0(t)?al("MapSet").proxySet_(t,e):IY(t,e);return(e?e.scope_:HB()).drafts_.push(r),r}function DY(t){return nl(t)||la(10,t),YB(t)}function YB(t){if(!ks(t)||u0(t))return t;const e=t[kn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=SS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=SS(t,!0);return vx(r,(n,a)=>{WB(r,n,YB(a))}),e&&(e.finalized_=!1),r}var Tn=new TY,KB=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseStrictShallowCopy.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);function JB(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var EY=JB(),PY=JB,OY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xx:xx.apply(null,arguments)},_Y=t=>t&&typeof t.match=="function";function Fd(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(ys(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>vY(n)&&n.type===t,r}var XB=class yd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,yd.prototype)}static get[Symbol.species](){return yd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new yd(...e[0].concat(this)):new yd(...e.concat(this))}};function SP(t){return ks(t)?KB(t,()=>{}):t}function Mh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function $Y(t){return typeof t=="boolean"}var RY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new XB;return r&&($Y(r)?i.push(EY):i.push(PY(r.extraArgument))),i},MY="RTK_autoBatch",AP=t=>e=>{setTimeout(e,t)},LY=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:AP(10):t.type==="callback"?t.queueNotification:AP(t.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[MY]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},FY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new XB(t);return n&&a.push(LY(typeof n=="object"?n:void 0)),a};function BY(t){const e=RY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(TT(r))l=bY(r);else throw new Error(ys(1));let c;typeof n=="function"?c=n(e):c=e();let u=xx;a&&(u=OY({trace:!1,...typeof a=="object"&&a}));const d=xY(...c),f=FY(d);let m=typeof i=="function"?i(f):f();const p=u(...m);return VB(l,s,p)}function QB(t){const e={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(ys(28));if(l in e)throw new Error(ys(29));return e[l]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function qY(t){return typeof t=="function"}function VY(t,e){let[r,n,a]=QB(e),s;if(qY(t))s=()=>SP(t());else{const l=SP(t);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(nl(d)){const p=f(d,c);return p===void 0?d:p}else{if(ks(d))return KB(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var UY=(t,e)=>_Y(t)?t.match(e):t(e);function zY(...t){return e=>t.some(r=>UY(r,e))}var WY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",HY=(t=21)=>{let e="",r=t;for(;r--;)e+=WY[Math.random()*64|0];return e},GY=["name","message","stack","code"],wN=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},IP=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},YY=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of GY)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},kP="External signal was aborted",F=(()=>{function t(e,r,n){const a=Fd(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=Fd(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=Fd(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||YY)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const p=n!=null&&n.idGenerator?n.idGenerator(c):HY(),h=new AbortController;let y,g;function b(j){g=j,h.abort()}u&&(u.aborted?b(kP):u.addEventListener("abort",()=>b(kP),{once:!0}));const v=async function(){var x,N;let j;try{let S=(x=n==null?void 0:n.condition)==null?void 0:x.call(n,c,{getState:f,extra:m});if(JY(S)&&(S=await S),S===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((I,k)=>{y=()=>{k({name:"AbortError",message:g||"Aborted"})},h.signal.addEventListener("abort",y)});d(s(p,c,(N=n==null?void 0:n.getPendingMeta)==null?void 0:N.call(n,{requestId:p,arg:c},{getState:f,extra:m}))),j=await Promise.race([A,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:p,signal:h.signal,abort:b,rejectWithValue:(I,k)=>new wN(I,k),fulfillWithValue:(I,k)=>new IP(I,k)})).then(I=>{if(I instanceof wN)throw I;return I instanceof IP?a(I.payload,p,c,I.meta):a(I,p,c)})])}catch(S){j=S instanceof wN?i(null,p,c,S.payload,S.meta):i(S,p,c)}finally{y&&h.signal.removeEventListener("abort",y)}return n&&!n.dispatchConditionRejection&&i.match(j)&&j.meta.condition||d(j),j}();return Object.assign(v,{abort:b,requestId:p,arg:c,unwrap(){return v.then(KY)}})}}return Object.assign(l,{pending:s,rejected:i,fulfilled:a,settled:zY(i,a),typePrefix:e})}return t.withTypes=()=>t,t})();function KY(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function JY(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var XY=Symbol.for("rtk-slice-createasyncthunk");function QY(t,e){return`${t}/${e}`}function ZY({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[XY];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(ys(11));const l=(typeof a.reducers=="function"?a.reducers(tK()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(C,x){const N=typeof C=="string"?C:C.type;if(!N)throw new Error(ys(12));if(N in u.sliceCaseReducersByType)throw new Error(ys(13));return u.sliceCaseReducersByType[N]=x,d},addMatcher(C,x){return u.sliceMatchers.push({matcher:C,reducer:x}),d},exposeAction(C,x){return u.actionCreators[C]=x,d},exposeCaseReducer(C,x){return u.sliceCaseReducersByName[C]=x,d}};c.forEach(C=>{const x=l[C],N={reducerName:C,type:QY(s,C),createNotation:typeof a.reducers=="function"};nK(x)?sK(N,x,d,e):rK(N,x,d)});function f(){const[C={},x=[],N=void 0]=typeof a.extraReducers=="function"?QB(a.extraReducers):[a.extraReducers],S={...C,...u.sliceCaseReducersByType};return VY(a.initialState,A=>{for(let I in S)A.addCase(I,S[I]);for(let I of u.sliceMatchers)A.addMatcher(I.matcher,I.reducer);for(let I of x)A.addMatcher(I.matcher,I.reducer);N&&A.addDefaultCase(N)})}const m=C=>C,p=new Map,h=new WeakMap;let y;function g(C,x){return y||(y=f()),y(C,x)}function b(){return y||(y=f()),y.getInitialState()}function v(C,x=!1){function N(A){let I=A[C];return typeof I>"u"&&x&&(I=Mh(h,N,b)),I}function S(A=m){const I=Mh(p,x,()=>new WeakMap);return Mh(I,A,()=>{const k={};for(const[D,_]of Object.entries(a.selectors??{}))k[D]=eK(_,A,()=>Mh(h,A,b),x);return k})}return{reducerPath:C,getSelectors:S,get selectors(){return S(N)},selectSlice:N}}const j={name:s,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...v(i),injectInto(C,{reducerPath:x,...N}={}){const S=x??i;return C.inject({reducerPath:S,reducer:g},N),{...j,...v(S,!0)}}};return j}}function eK(t,e,r,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var ve=ZY();function tK(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function rK({type:t,reducerName:e,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!aK(n))throw new Error(ys(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,i?Fd(t,i):Fd(t))}function nK(t){return t._reducerDefinitionType==="asyncThunk"}function aK(t){return t._reducerDefinitionType==="reducerWithPrepare"}function sK({type:t,reducerName:e},r,n,a){if(!a)throw new Error(ys(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||Lh,pending:l||Lh,rejected:c||Lh,settled:u||Lh})}function Lh(){}function ys(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const oK="https://staging-engine.testthelink.online",iK=async(t,e)=>{var r,n;try{const a=await fetch(`${oK}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),s=await a.json();if(!a.ok||!s.token)throw new Error(s.message||((r=s.errors)==null?void 0:r.general)||"Login failed");if(((n=s.user.accessList)==null?void 0:n.length)>0){const i=s.user.accessList.length>=2?s.user.accessList[1]:s.user.accessList[0];localStorage.setItem("selectedRole",JSON.stringify(i))}return localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),s.user}catch(a){throw new Error(a.message)}},lK=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("selectedRole"),null),cK=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),uK=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),d0={login:iK,logout:lK,fetchUserProfile:cK,changePassword:uK},dK={user:null,isAuthenticated:!1,isLoading:!1,error:null,selectedRole:null},Vp=F("auth/login",async({username:t,password:e},r)=>{try{return await d0.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),ZB=F("auth/logout",async(t,e)=>{try{return await d0.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),NN=F("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await d0.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),Up=F("auth/fetchUserProfile",async(t,e)=>{try{return await d0.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),e3=F("auth/updateSelectedRole",async(t,e)=>{try{return localStorage.setItem("selectedRole",JSON.stringify(t)),t}catch(r){return e.rejectWithValue(r.message)}}),t3=ve({name:"auth",initialState:dK,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(Vp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vp.fulfilled,(e,r)=>{var n;if(e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload,((n=r.payload.accessList)==null?void 0:n.length)>0){const a=r.payload.accessList.length>=2?r.payload.accessList[1]:r.payload.accessList[0];e.selectedRole=a,localStorage.setItem("selectedRole",JSON.stringify(a))}}).addCase(Vp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ZB.fulfilled,e=>{e.user=null,e.isAuthenticated=!1,e.selectedRole=null}).addCase(Up.pending,e=>{e.isLoading=!0}).addCase(Up.fulfilled,(e,r)=>{var a;e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload;const n=localStorage.getItem("selectedRole");if(n)e.selectedRole=JSON.parse(n);else if(((a=r.payload.accessList)==null?void 0:a.length)>0){const s=r.payload.accessList.length>=2?r.payload.accessList[1]:r.payload.accessList[0];e.selectedRole=s}}).addCase(Up.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(NN.pending,e=>{e.isLoading=!0}).addCase(NN.fulfilled,e=>{e.isLoading=!1}).addCase(NN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(e3.fulfilled,(e,r)=>{e.selectedRole=r.payload})}}),{resetAuthState:m8e}=t3.actions,fK=t3.reducer;let mK={data:""},hK=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||mK,pK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gK=/\/\*[^]*?\*\/|  +/g,TP=/\n+/g,no=(t,e)=>{let r="",n="",a="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?no(i,s):s+"{"+no(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=no(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=no.p?no.p(s,i):s+":"+i+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Ja={},r3=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+r3(t[r]);return e}return t},yK=(t,e,r,n,a)=>{let s=r3(t),i=Ja[s]||(Ja[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Ja[i]){let c=s!==t?t:(u=>{let d,f,m=[{}];for(;d=pK.exec(u.replace(gK,""));)d[4]?m.shift():d[3]?(f=d[3].replace(TP," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(TP," ").trim();return m[0]})(t);Ja[i]=no(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Ja.g?Ja.g:null;return r&&(Ja.g=Ja[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Ja[i],e,n,l),i},bK=(t,e,r)=>t.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":no(l,""):l===!1?"":l}return n+a+(i??"")},"");function f0(t){let e=this||{},r=t.call?t(e.p):t;return yK(r.unshift?r.raw?bK(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,hK(e.target),e.g,e.o,e.k)}let n3,DS,ES;f0.bind({g:1});let Ts=f0.bind({k:1});function xK(t,e,r,n){no.p=e,n3=t,DS=r,ES=n}function Ho(t,e){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:DS&&DS()},l),r.o=/ *go\d+/.test(c),l.className=f0.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),ES&&u[0]&&ES(l),n3(u,l)}return a}}var vK=t=>typeof t=="function",Nx=(t,e)=>vK(t)?t(e):t,jK=(()=>{let t=0;return()=>(++t).toString()})(),a3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),wK=20,s3=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,wK)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return s3(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},zp=[],Si={toasts:[],pausedAt:void 0},pl=t=>{Si=s3(Si,t),zp.forEach(e=>{e(Si)})},NK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},CK=(t={})=>{let[e,r]=w.useState(Si),n=w.useRef(Si);w.useEffect(()=>(n.current!==Si&&r(Si),zp.push(r),()=>{let s=zp.indexOf(r);s>-1&&zp.splice(s,1)}),[]);let a=e.toasts.map(s=>{var i,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||NK[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},SK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||jK()}),Vm=t=>(e,r)=>{let n=SK(e,t,r);return pl({type:2,toast:n}),n.id},le=(t,e)=>Vm("blank")(t,e);le.error=Vm("error");le.success=Vm("success");le.loading=Vm("loading");le.custom=Vm("custom");le.dismiss=t=>{pl({type:3,toastId:t})};le.remove=t=>pl({type:4,toastId:t});le.promise=(t,e,r)=>{let n=le.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?Nx(e.success,a):void 0;return s?le.success(s,{id:n,...r,...r==null?void 0:r.success}):le.dismiss(n),a}).catch(a=>{let s=e.error?Nx(e.error,a):void 0;s?le.error(s,{id:n,...r,...r==null?void 0:r.error}):le.dismiss(n)}),t};var AK=(t,e)=>{pl({type:1,toast:{id:t,height:e}})},IK=()=>{pl({type:5,time:Date.now()})},Bd=new Map,kK=1e3,TK=(t,e=kK)=>{if(Bd.has(t))return;let r=setTimeout(()=>{Bd.delete(t),pl({type:4,toastId:t})},e);Bd.set(t,r)},DK=t=>{let{toasts:e,pausedAt:r}=CK(t);w.useEffect(()=>{if(r)return;let s=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&le.dismiss(l.id);return}return setTimeout(()=>le.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=w.useCallback(()=>{r&&pl({type:6,time:Date.now()})},[r]),a=w.useCallback((s,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=e.filter(p=>(p.position||u)===(s.position||u)&&p.height),f=d.findIndex(p=>p.id===s.id),m=d.filter((p,h)=>h<f&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[m+1]:[0,m]).reduce((p,h)=>p+(h.height||0)+c,0)},[e]);return w.useEffect(()=>{e.forEach(s=>{if(s.dismissed)TK(s.id,s.removeDelay);else{let i=Bd.get(s.id);i&&(clearTimeout(i),Bd.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:AK,startPause:IK,endPause:n,calculateOffset:a}}},EK=Ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,PK=Ts`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OK=Ts`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_K=Ho("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${EK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${PK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${OK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$K=Ts`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,RK=Ho("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${$K} 1s linear infinite;
`,MK=Ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,LK=Ts`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,FK=Ho("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${LK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,BK=Ho("div")`
  position: absolute;
`,qK=Ho("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,VK=Ts`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UK=Ho("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${VK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zK=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?w.createElement(UK,null,e):e:r==="blank"?null:w.createElement(qK,null,w.createElement(RK,{...n}),r!=="loading"&&w.createElement(BK,null,r==="error"?w.createElement(_K,{...n}):w.createElement(FK,{...n})))},WK=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,HK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,GK="0%{opacity:0;} 100%{opacity:1;}",YK="0%{opacity:1;} 100%{opacity:0;}",KK=Ho("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,JK=Ho("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,XK=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=a3()?[GK,YK]:[WK(r),HK(r)];return{animation:e?`${Ts(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ts(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},QK=w.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?XK(t.position||e||"top-center",t.visible):{opacity:0},s=w.createElement(zK,{toast:t}),i=w.createElement(JK,{...t.ariaProps},Nx(t.message,t));return w.createElement(KK,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:i}):w.createElement(w.Fragment,null,s,i))});xK(w.createElement);var ZK=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let s=w.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return w.createElement("div",{ref:s,className:e,style:r},a)},eJ=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:a3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},tJ=f0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fh=16,rJ=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:i})=>{let{toasts:l,handlers:c}=DK(r);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Fh,left:Fh,right:Fh,bottom:Fh,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=eJ(d,f);return w.createElement(ZK,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?tJ:"",style:m},u.type==="custom"?Nx(u.message,u):a?a(u):w.createElement(QK,{toast:u,position:d}))}))},B=le;function o3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=o3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $e(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=o3(t))&&(n&&(n+=" "),n+=e);return n}function nJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const i3=w.forwardRef(nJ);function aJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const xa=w.forwardRef(aJ);function sJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const l3=w.forwardRef(sJ);function oJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const iJ=w.forwardRef(oJ);function lJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const cJ=w.forwardRef(lJ);function uJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const dJ=w.forwardRef(uJ);function fJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const PT=w.forwardRef(fJ);function mJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const PS=w.forwardRef(mJ);function hJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const c3=w.forwardRef(hJ);function pJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const DP=w.forwardRef(pJ);function gJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const u3=w.forwardRef(gJ);function yJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const bJ=w.forwardRef(yJ);function xJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const vJ=w.forwardRef(xJ);function jJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const d3=w.forwardRef(jJ);function wJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const NJ=w.forwardRef(wJ);function CJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const SJ=w.forwardRef(CJ);function AJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Um=w.forwardRef(AJ);function IJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const kJ=w.forwardRef(IJ);function TJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const DJ=w.forwardRef(TJ);function EJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const PJ=w.forwardRef(EJ);function OJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ie=w.forwardRef(OJ);function _J({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ke=w.forwardRef(_J);function $J({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const yu=w.forwardRef($J);function RJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const MJ=w.forwardRef(RJ);function LJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Fe=w.forwardRef(LJ);function FJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const BJ=w.forwardRef(FJ);function qJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const f3=w.forwardRef(qJ);function VJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const m3=w.forwardRef(VJ),UJ=[{name:"Dashboard",href:"/dashboard",icon:DJ},{name:"Settings",icon:u3,submenu:[{name:"Departments",href:"/settings/departments",moduleId:39},{name:"Subdepartments",href:"/settings/subdepartments",moduleId:76},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix",moduleId:17},{name:"User Access",href:"/settings/user-access",moduleId:83},{name:"User Roles",href:"/settings/user-roles",moduleId:84},{name:"User",href:"/settings/users",moduleId:82}]},{name:"Locations",href:"/settings/locations"},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank",moduleId:18},{name:"Currency",href:"/settings/currency",moduleId:37}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details",moduleId:41},{name:"Document Type Category",href:"/settings/document-type-categories",moduleId:42}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items",moduleId:55},{name:"Item Units",href:"/settings/items/units",moduleId:56},{name:"Invoice Charge Accounts",href:"/settings/items/invoice-charge-accounts",moduleId:54}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details",moduleId:65},{name:"Project Type",href:"/settings/project-type",moduleId:87}]},{name:"Financial Statement",href:"/settings/financial-statement",moduleId:44},{name:"Fiscal Year",href:"/settings/fiscal-year",moduleId:45},{name:"Tax Code",href:"/settings/tax-code",moduleId:78},{name:"Mode of Payment",href:"/settings/mode-of-payment",moduleId:60},{name:"Payment Terms",href:"/settings/payment-terms",moduleId:63},{name:"Industry",href:"/settings/industry",moduleId:53}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration",moduleId:79},{name:"Base Unit Value",href:"/settings/base-unit-value",moduleId:20},{name:"General Revision",href:"/settings/general-revision",moduleId:51}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance",moduleId:58},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts",moduleId:31},{name:"Account Group",href:"/settings/account-group",moduleId:88},{name:"Major Account Group",href:"/settings/major-account-group",moduleId:89},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group",moduleId:90}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors",moduleId:86},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type",moduleId:91},{name:"Vendor Type",href:"/settings/vendor-type",moduleId:92}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees",moduleId:43},{name:"Employment Status",href:"/settings/employmentStatus",moduleId:93},{name:"Positions",href:"/settings/positions",moduleId:36},{name:"Nationalities",href:"/settings/nationalities",moduleId:94}]},{name:"Individual/Citizen",href:"/settings/customer",moduleId:38},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe",moduleId:64},{name:"PPE Categories",href:"/settings/ppe-categories",moduleId:95},{name:"PPE Suppliers",href:"/settings/ppe-suppliers",moduleId:96}]}]},{name:"Disbursement",icon:bJ,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests",moduleId:62},{name:"Disbursement Voucher",href:"/disbursement/vouchers",moduleId:40},{name:"Travel Order",href:"/disbursement/travel-orders",moduleId:80},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers",moduleId:57},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals",moduleId:32},{name:"General Journals",href:"/disbursement/general-journals",moduleId:49},{name:"Beginning Balance",href:"/disbursement/beginning-balance",moduleId:21},{name:"Purchase Request",href:"/disbursement/purchase-requests",moduleId:69},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests",moduleId:47}]},{name:"Collections",icon:MJ,submenu:[{name:"Community Tax",href:"/collections/community-tax",moduleId:34},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation",moduleId:35},{name:"General Service Receipt",href:"/collections/general-service-receipts",moduleId:52},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts",moduleId:28},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts",moduleId:59},{name:"Real Property Tax",href:"/collections/real-property-tax",moduleId:70},{name:"Cashbook",href:"/collections/cashbook",moduleId:30},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets",moduleId:68}]},{name:"Applications",icon:d3,submenu:[{name:"Business Permits",href:"/applications/business-permits",moduleId:29},{name:"Cheque Generator",href:"/applications/cheque-generator",moduleId:33}]},{name:"Budget",icon:vJ,submenu:[{name:"Budget Details",href:"/budget/details",moduleId:22},{name:"Budget Allotment",href:"/budget/allotment",moduleId:23},{name:"Budget Summary",href:"/budget/summary",moduleId:25},{name:"Budget Supplemental",href:"/budget/supplemental",moduleId:26},{name:"Budget Transfer",href:"/budget/transfer",moduleId:27},{name:"Budget Report",href:"/budget/report",moduleId:24},{name:"Funds",href:"/budget/funds",moduleId:48},{name:"Sub-funds",href:"/budget/sub-funds",moduleId:97},{name:"Fund Transfer",href:"/budget/fund-transfer",moduleId:46},{name:"Statement of Comparison",href:"/budget/statement-comparison",moduleId:73},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation",moduleId:72}]},{name:"Reports",icon:PS,submenu:[{name:"General Ledger",href:"/reports/general-ledger",moduleId:50},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger",moduleId:77},{name:"Trial Balance",href:"/reports/trial-balance",moduleId:81},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:PS,moduleId:16}];function h3({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s=0,parentPath:i="",hasViewPermission:l}){return o.jsx("div",{className:$e("space-y-1",s>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(c=>{const u=i?`${i}.${c.name}`:c.name,d=e[u],f=a(c.submenu||[]);return l(c.moduleId)?o.jsx("div",{className:"relative",children:c.submenu?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:m=>{m.preventDefault(),r(u)},className:$e("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",f?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",d&&"border-l-4 border-primary-500",s>0&&"pl-2"),children:[o.jsxs("div",{className:"flex items-center",children:[c.icon&&o.jsx(c.icon,{className:$e("mr-3 h-5 w-5 flex-shrink-0",f?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:c.name})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("svg",{className:$e("h-5 w-5 transform transition-transform flex-shrink-0",d?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),d&&o.jsxs("div",{className:"mt-1",children:[" ",o.jsx(h3,{items:c.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s+1,parentPath:u,hasViewPermission:l})]})]}):o.jsxs(Ld,{to:c.href,className:$e("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(c.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",s>0&&"pl-2"),children:[c.icon&&o.jsx(c.icon,{className:$e("mr-3 h-5 w-5 flex-shrink-0",n(c.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:c.name})]})},u):null})})}function zJ(){var f,m;const t=Wo(),{user:e,selectedRole:r}=q(p=>p.auth),[n,a]=w.useState({}),s=p=>{a(h=>({...h,[p]:!h[p]}))},i=p=>t.pathname===p||t.pathname===p+"/",l=p=>p.some(h=>h.href?t.pathname===h.href:h.children&&l(h.children)),c=(r==null?void 0:r.Description)==="Administrator";function u(p){if(c||!p)return!0;if(!(r!=null&&r.ModuleAccesses))return!1;const h=r.ModuleAccesses.find(y=>y.ModuleID===p);return h==null?void 0:h.View}const d=UJ.map(p=>{if(p.submenu){const h=p.submenu.filter(y=>y.submenu?y.submenu.filter(b=>u(b.moduleId)).length>0:u(y.moduleId));return h.length>0?{...p,submenu:h}:null}return u(p.moduleId)?p:null}).filter(Boolean);return o.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:o.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:"space-y-1 px-2",children:o.jsx(h3,{items:d,expandedMenus:n,toggleMenu:s,isActive:i,isSubMenuActive:l,hasViewPermission:u})})}),e&&o.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((f=e.firstName)==null?void 0:f.charAt(0))||"",((m=e.lastName)==null?void 0:m.charAt(0))||""]})}),o.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function Tl(t,e,r){let n=r.initialDeps??[],a;function s(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((h,y)=>n[y]!==h)))return a;n=f;let p;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(p=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const h=Math.round((Date.now()-d)*100)/100,y=Math.round((Date.now()-p)*100)/100,g=y/16,b=(v,j)=>{for(v=String(v);v.length<j;)v=" "+v;return v};console.info(`%c ${b(y,5)} /${b(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return s.updateDeps=i=>{n=i},s}function EP(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const WJ=(t,e)=>Math.abs(t-e)<1.01,HJ=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},PP=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},GJ=t=>t,YJ=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},KJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(a(PP(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(PP(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},OP={passive:!0},_P=typeof window>"u"?!0:"onscrollend"in window,JJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const s=t.options.useScrollendEvent&&_P?()=>{}:HJ(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(a,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,OP);const u=t.options.useScrollendEvent&&_P;return u&&r.addEventListener("scrollend",c,OP),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},XJ=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},QJ=(t,{adjustments:e=0,behavior:r},n)=>{var a,s;const i=t+e;(s=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class ZJ{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var s;return(s=n())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=n())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:GJ,rangeExtractor:YJ,onChange:()=>{},measureElement:XJ,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=Tl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,s=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=Tl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=Tl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=s(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),p=m?m.end+this.options.gap:n+a,h=l.get(f),y=typeof h=="number"?h:this.options.estimateSize(d),g=p+y,b=m?m.lane:d%this.options.lanes;u[d]={index:d,start:p,size:y,end:g,key:f,lane:b}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Tl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,s)=>this.range=r.length>0&&n>0?eX({measurements:r,outerSize:n,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Tl(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,s,i)=>s===null||i===null?[]:r({startIndex:s,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),s=this.measurementsCache[a];if(!s)return;const i=s.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,i=n-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=Tl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let s=0,i=r.length;s<i;s++){const l=r[s],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return EP(n[p3(0,n.length-1,a=>EP(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const s=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+s?"end":"start"),n==="center"?r+=(a-s)/2:n==="end"&&(r-=s);const l=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const s=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+s-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let s=0;const i=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(r,u);if(!d){console.warn("Failed to get offset for index:",r);return}const[f,m]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),h=this.getOffsetForIndex(r,m);if(!h){console.warn("Failed to get offset for index:",r);return}WJ(h[0],p)||c(m)})},c=u=>{this.targetWindow&&(s++,s<i?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${r} after ${i} attempts.`))};l(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&s.some(l=>l===null);){const l=n[i];s[l.lane]===null&&(s[l.lane]=l.end),i--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const p3=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,s=r(a);if(s<n)t=a+1;else if(s>n)e=a-1;else return a}return t>0?t-1:0};function eX({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,s=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let i=p3(0,a,s,r),l=i;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const $P=typeof document<"u"?w.useLayoutEffect:w.useEffect;function tX(t){const e=w.useReducer(()=>({}),{})[1],r={...t,onChange:(a,s)=>{var i;s?s0.flushSync(e):e(),(i=t.onChange)==null||i.call(t,a,s)}},[n]=w.useState(()=>new ZJ(r));return n.setOptions(r),$P(()=>n._didMount(),[]),$P(()=>n._willUpdate()),n}function rX(t){return tX({observeElementRect:KJ,observeElementOffset:JJ,scrollToFn:QJ,...t})}var nX=Object.defineProperty,aX=(t,e,r)=>e in t?nX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,CN=(t,e,r)=>(aX(t,typeof e!="symbol"?e+"":e,r),r);let sX=class{constructor(){CN(this,"current",this.detect()),CN(this,"handoffState","pending"),CN(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},bs=new sX,bt=(t,e)=>{bs.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function ha(t){let e=w.useRef(t);return bt(()=>{e.current=t},[t]),e}function OT(t,e){let[r,n]=w.useState(t),a=ha(t);return bt(()=>n(a.current),[a,n,...e]),r}let Ae=function(t){let e=ha(t);return z.useCallback((...r)=>e.current(...r),[e])};function oX(t,e,r){let[n,a]=w.useState(r),s=t!==void 0,i=w.useRef(s),l=w.useRef(!1),c=w.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:n,Ae(u=>(s||a(u),e==null?void 0:e(u)))]}function m0(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Dn(){let t=[],e={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),e.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return m0(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Dn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function Go(){let[t]=w.useState(Dn);return w.useEffect(()=>()=>t.dispose(),[t]),t}function iX(){let t=typeof document>"u";return(e=>e.useSyncExternalStore)(gf)(()=>()=>{},()=>!1,()=>!t)}function bu(){let t=iX(),[e,r]=w.useState(bs.isHandoffComplete);return e&&bs.isHandoffComplete===!1&&r(!1),w.useEffect(()=>{e!==!0&&r(!0)},[e]),w.useEffect(()=>bs.handoff(),[]),t?!1:e}var RP;let hn=(RP=z.useId)!=null?RP:function(){let t=bu(),[e,r]=z.useState(t?()=>bs.nextId():null);return bt(()=>{e===null&&r(bs.nextId())},[e]),e!=null?""+e:void 0};function $t(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$t),n}function h0(t){return bs.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let OS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ls=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ls||{}),g3=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(g3||{}),lX=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(lX||{});function y3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(OS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var _T=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(_T||{});function $T(t,e=0){var r;return t===((r=h0(t))==null?void 0:r.body)?!1:$t(e,{0(){return t.matches(OS)},1(){let n=t;for(;n!==null;){if(n.matches(OS))return!0;n=n.parentElement}return!1}})}function b3(t){let e=h0(t);Dn().nextFrame(()=>{e&&!$T(e.activeElement,0)&&wo(t)})}var cX=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(cX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function wo(t){t==null||t.focus({preventScroll:!0})}let uX=["textarea","input"].join(",");function dX(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,uX))!=null?r:!1}function RT(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),s=e(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fX(t,e){return qd(y3(),e,{relativeTo:t})}function qd(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?RT(t):t:y3(t);a.length>0&&i.length>1&&(i=i.filter(p=>!a.includes(p))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}m=i[p],m==null||m.focus(u),d+=l}while(m!==s.activeElement);return e&6&&dX(m)&&m.select(),2}function x3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function mX(){return/Android/gi.test(window.navigator.userAgent)}function v3(){return x3()||mX()}function Bh(t,e,r){let n=ha(e);w.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function j3(t,e,r){let n=ha(e);w.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function MT(t,e,r=!0){let n=w.useRef(!1);w.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!$T(c,_T.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let s=w.useRef(null);Bh("pointerdown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Bh("mousedown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Bh("click",i=>{v3()||s.current&&(a(i,()=>s.current),s.current=null)},!0),Bh("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),j3("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function gl(...t){return w.useMemo(()=>h0(...t),[...t])}function MP(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function w3(t,e){let[r,n]=w.useState(()=>MP(t));return bt(()=>{n(MP(t))},[t.type,t.as]),bt(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let N3=Symbol();function hX(t,e=!0){return Object.assign(t,{[N3]:e})}function ir(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let r=Ae(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[N3]))?void 0:r}function LP(t){return[t.screenX,t.screenY]}function C3(){let t=w.useRef([-1,-1]);return{wasMoved(e){let r=LP(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=LP(e)}}}function S3({container:t,accept:e,walk:r,enabled:n=!0}){let a=w.useRef(e),s=w.useRef(r);w.useEffect(()=>{a.current=e,s.current=r},[e,r]),bt(()=>{if(!t||!n)return;let i=h0(t);if(!i)return;let l=a.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,s])}function Lf(t,e){let r=w.useRef([]),n=Ae(t);w.useEffect(()=>{let a=[...r.current];for(let[s,i]of e.entries())if(r.current[s]!==i){let l=n(e,a);return r.current=e,l}},[n,...e])}function Cx(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var $o=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))($o||{}),io=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(io||{});function Jt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??pX;let c=A3(e,t);if(s)return qh(c,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return qh(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return $t(d?0:1,{0(){return null},1(){return qh({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return qh(c,r,n,i,l)}function qh(t,e={},r,n,a){let{as:s=r,children:i,refName:l="ref",...c}=SN(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,p=[];for(let[h,y]of Object.entries(e))typeof y=="boolean"&&(m=!0),y===!0&&p.push(h);m&&(f["data-headlessui-state"]=p.join(" "))}if(s===w.Fragment&&Object.keys(_S(c)).length>0){if(!w.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let m=d.props,p=typeof(m==null?void 0:m.className)=="function"?(...y)=>Cx(m==null?void 0:m.className(...y),c.className):Cx(m==null?void 0:m.className,c.className),h=p?{className:p}:{};return w.cloneElement(d,Object.assign({},A3(d.props,_S(SN(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},h))}return w.createElement(s,Object.assign({},SN(c,["ref"]),s!==w.Fragment&&u,s!==w.Fragment&&f),d)}function pX(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function A3(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return e}function qt(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function _S(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function SN(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let gX="div";var Ff=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Ff||{});function yX(t,e){var r;let{features:n=1,...a}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Jt({ourProps:s,theirProps:a,slot:{},defaultTag:gX,name:"Hidden"})}let Sx=qt(yX),LT=w.createContext(null);LT.displayName="OpenClosedContext";var Qt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Qt||{});function zm(){return w.useContext(LT)}function FT({value:t,children:e}){return z.createElement(LT.Provider,{value:t},e)}function bX(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Pa=[];bX(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Pa[0]!==e.target&&(Pa.unshift(e.target),Pa=Pa.filter(r=>r!=null&&r.isConnected),Pa.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function BT(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&xX(r)?!1:n}function xX(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function vX(t){throw new Error("Unexpected object: "+t)}var ft=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ft||{});function $S(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=a-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=a+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:vX(t)}}function I3(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))T3(r,k3(e,n),a);return r}function k3(t,e){return t?t+"["+e+"]":e}function T3(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())T3(t,k3(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):I3(r,e,t)}var ct=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ct||{}),jX={},wX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(wX||{}),NX=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(NX||{}),CX=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(CX||{}),SX=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(SX||{});function AN(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):RT(n,i=>i.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return s===-1&&(s=null),{options:a,activeOptionIndex:s}}let AX={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,s,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===ft.Specific?e.idx:$S(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,p;return(p=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(h=>!t.virtual.disabled(h)))!=null?p:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=AN(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===ft.Specific?e.idx:$S(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,i=AN(t,c=>(c.push(s),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let l={...t,...i,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=AN(t,a=>{let s=a.findIndex(i=>i.id===e.id);return s!==-1&&a.splice(s,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},qT=w.createContext(null);qT.displayName="ComboboxActionsContext";function Wm(t){let e=w.useContext(qT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Wm),r}return e}let D3=w.createContext(null);function IX(t){var e;let r=yl("VirtualProvider"),[n,a]=w.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),s=rX({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=w.useState(0);return bt(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),z.createElement(D3.Provider,{value:s},z.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&jX.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&s.scrollToIndex(r.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return z.createElement(w.Fragment,{key:c.key},z.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let VT=w.createContext(null);VT.displayName="ComboboxDataContext";function yl(t){let e=w.useContext(VT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,yl),r}return e}function kX(t,e){return $t(e.type,AX,t,e)}let TX=w.Fragment;function DX(t,e){let{value:r,defaultValue:n,onChange:a,form:s,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:p=null,...h}=t,y=!1,g=null,[b=f?[]:void 0,v]=oX(r,a,n),[j,C]=w.useReducer(kX,{dataRef:w.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),x=w.useRef(!1),N=w.useRef({static:!1,hold:!1}),S=w.useRef(null),A=w.useRef(null),I=w.useRef(null),k=w.useRef(null),D=Ae(typeof l=="string"?(ee,re)=>{let J=l;return(ee==null?void 0:ee[J])===(re==null?void 0:re[J])}:l??((ee,re)=>ee===re)),_=Ae(ee=>j.options.findIndex(re=>D(re.dataRef.current.value,ee))),M=w.useCallback(ee=>$t(O.mode,{1:()=>b.some(re=>D(re,ee)),0:()=>D(b,ee)}),[b]),P=Ae(ee=>j.activeOptionIndex===_(ee)),O=w.useMemo(()=>({...j,immediate:y,optionsPropsRef:N,labelRef:S,inputRef:A,buttonRef:I,optionsRef:k,value:b,defaultValue:n,disabled:c,mode:f?1:0,virtual:j.virtual,get activeOptionIndex(){if(x.current&&j.activeOptionIndex===null&&j.options.length>0){let ee=j.options.findIndex(re=>!re.dataRef.current.disabled);if(ee!==-1)return ee}return j.activeOptionIndex},calculateIndex:_,compare:D,isSelected:M,isActive:P,nullable:d,__demoMode:u}),[b,n,c,f,d,u,j,g]);bt(()=>{},[g,void 0]),bt(()=>{j.dataRef.current=O},[O]),MT([O.buttonRef,O.inputRef,O.optionsRef],()=>xe.closeCombobox(),O.comboboxState===0);let L=w.useMemo(()=>{var ee,re,J;return{open:O.comboboxState===0,disabled:c,activeIndex:O.activeOptionIndex,activeOption:O.activeOptionIndex===null?null:O.virtual?O.virtual.options[(ee=O.activeOptionIndex)!=null?ee:0]:(J=(re=O.options[O.activeOptionIndex])==null?void 0:re.dataRef.current.value)!=null?J:null,value:b}},[O,c,b]),V=Ae(()=>{if(O.activeOptionIndex!==null){if(O.virtual)U(O.virtual.options[O.activeOptionIndex]);else{let{dataRef:ee}=O.options[O.activeOptionIndex];U(ee.current.value)}xe.goToOption(ft.Specific,O.activeOptionIndex)}}),$=Ae(()=>{C({type:0}),x.current=!0}),R=Ae(()=>{C({type:1}),x.current=!1}),W=Ae((ee,re,J)=>(x.current=!1,ee===ft.Specific?C({type:2,focus:ft.Specific,idx:re,trigger:J}):C({type:2,focus:ee,trigger:J}))),Z=Ae((ee,re)=>(C({type:3,payload:{id:ee,dataRef:re}}),()=>{O.isActive(re.current.value)&&(x.current=!0),C({type:4,id:ee})})),G=Ae(ee=>(C({type:5,id:ee}),()=>C({type:5,id:null}))),U=Ae(ee=>$t(O.mode,{0(){return v==null?void 0:v(ee)},1(){let re=O.value.slice(),J=re.findIndex(H=>D(H,ee));return J===-1?re.push(ee):re.splice(J,1),v==null?void 0:v(re)}})),ae=Ae(ee=>{C({type:6,trigger:ee})}),xe=w.useMemo(()=>({onChange:U,registerOption:Z,registerLabel:G,goToOption:W,closeCombobox:R,openCombobox:$,setActivationTrigger:ae,selectActiveOption:V}),[]),se=e===null?{}:{ref:e},K=w.useRef(null),de=Go();return w.useEffect(()=>{K.current&&n!==void 0&&de.addEventListener(K.current,"reset",()=>{v==null||v(n)})},[K,v]),z.createElement(qT.Provider,{value:xe},z.createElement(VT.Provider,{value:O},z.createElement(FT,{value:$t(O.comboboxState,{0:Qt.Open,1:Qt.Closed})},i!=null&&b!=null&&I3({[i]:b}).map(([ee,re],J)=>z.createElement(Sx,{features:Ff.Hidden,ref:J===0?H=>{var me;K.current=(me=H==null?void 0:H.closest("form"))!=null?me:null}:void 0,..._S({key:ee,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:ee,value:re})})),Jt({ourProps:se,theirProps:h,slot:L,defaultTag:TX,name:"Combobox"}))))}let EX="input";function PX(t,e){var r,n,a,s,i;let l=hn(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,p=yl("Combobox.Input"),h=Wm("Combobox.Input"),y=ir(p.inputRef,e),g=gl(p.inputRef),b=w.useRef(!1),v=Go(),j=Ae(()=>{h.onChange(null),p.optionsRef.current&&(p.optionsRef.current.scrollTop=0),h.goToOption(ft.Nothing)}),C=function(){var O;return typeof d=="function"&&p.value!==void 0?(O=d(p.value))!=null?O:"":typeof p.value=="string"?p.value:""}();Lf(([O,L],[V,$])=>{if(b.current)return;let R=p.inputRef.current;R&&(($===0&&L===1||O!==V)&&(R.value=O),requestAnimationFrame(()=>{if(b.current||!R||(g==null?void 0:g.activeElement)!==R)return;let{selectionStart:W,selectionEnd:Z}=R;Math.abs((Z??0)-(W??0))===0&&W===0&&R.setSelectionRange(R.value.length,R.value.length)}))},[C,p.comboboxState,g]),Lf(([O],[L])=>{if(O===0&&L===1){if(b.current)return;let V=p.inputRef.current;if(!V)return;let $=V.value,{selectionStart:R,selectionEnd:W,selectionDirection:Z}=V;V.value="",V.value=$,Z!==null?V.setSelectionRange(R,W,Z):V.setSelectionRange(R,W)}},[p.comboboxState]);let x=w.useRef(!1),N=Ae(()=>{x.current=!0}),S=Ae(()=>{v.nextFrame(()=>{x.current=!1})}),A=Ae(O=>{switch(b.current=!0,O.key){case ct.Enter:if(b.current=!1,p.comboboxState!==0||x.current)return;if(O.preventDefault(),O.stopPropagation(),p.activeOptionIndex===null){h.closeCombobox();return}h.selectActiveOption(),p.mode===0&&h.closeCombobox();break;case ct.ArrowDown:return b.current=!1,O.preventDefault(),O.stopPropagation(),$t(p.comboboxState,{0:()=>h.goToOption(ft.Next),1:()=>h.openCombobox()});case ct.ArrowUp:return b.current=!1,O.preventDefault(),O.stopPropagation(),$t(p.comboboxState,{0:()=>h.goToOption(ft.Previous),1:()=>{h.openCombobox(),v.nextFrame(()=>{p.value||h.goToOption(ft.Last)})}});case ct.Home:if(O.shiftKey)break;return b.current=!1,O.preventDefault(),O.stopPropagation(),h.goToOption(ft.First);case ct.PageUp:return b.current=!1,O.preventDefault(),O.stopPropagation(),h.goToOption(ft.First);case ct.End:if(O.shiftKey)break;return b.current=!1,O.preventDefault(),O.stopPropagation(),h.goToOption(ft.Last);case ct.PageDown:return b.current=!1,O.preventDefault(),O.stopPropagation(),h.goToOption(ft.Last);case ct.Escape:return b.current=!1,p.comboboxState!==0?void 0:(O.preventDefault(),p.optionsRef.current&&!p.optionsPropsRef.current.static&&O.stopPropagation(),p.nullable&&p.mode===0&&p.value===null&&j(),h.closeCombobox());case ct.Tab:if(b.current=!1,p.comboboxState!==0)return;p.mode===0&&p.activationTrigger!==1&&h.selectActiveOption(),h.closeCombobox();break}}),I=Ae(O=>{u==null||u(O),p.nullable&&p.mode===0&&O.target.value===""&&j(),h.openCombobox()}),k=Ae(O=>{var L,V,$;let R=(L=O.relatedTarget)!=null?L:Pa.find(W=>W!==O.currentTarget);if(b.current=!1,!((V=p.optionsRef.current)!=null&&V.contains(R))&&!(($=p.buttonRef.current)!=null&&$.contains(R))&&p.comboboxState===0)return O.preventDefault(),p.mode===0&&(p.nullable&&p.value===null?j():p.activationTrigger!==1&&h.selectActiveOption()),h.closeCombobox()}),D=Ae(O=>{var L,V,$;let R=(L=O.relatedTarget)!=null?L:Pa.find(W=>W!==O.currentTarget);(V=p.buttonRef.current)!=null&&V.contains(R)||($=p.optionsRef.current)!=null&&$.contains(R)||p.disabled||p.immediate&&p.comboboxState!==0&&(h.openCombobox(),v.nextFrame(()=>{h.setActivationTrigger(1)}))}),_=OT(()=>{if(p.labelId)return[p.labelId].join(" ")},[p.labelId]),M=w.useMemo(()=>({open:p.comboboxState===0,disabled:p.disabled}),[p]),P={ref:y,id:c,role:"combobox",type:f,"aria-controls":(r=p.optionsRef.current)==null?void 0:r.id,"aria-expanded":p.comboboxState===0,"aria-activedescendant":p.activeOptionIndex===null?void 0:p.virtual?(n=p.options.find(O=>{var L;return!((L=p.virtual)!=null&&L.disabled(O.dataRef.current.value))&&p.compare(O.dataRef.current.value,p.virtual.options[p.activeOptionIndex])}))==null?void 0:n.id:(a=p.options[p.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":_,"aria-autocomplete":"list",defaultValue:(i=(s=t.defaultValue)!=null?s:p.defaultValue!==void 0?d==null?void 0:d(p.defaultValue):null)!=null?i:p.defaultValue,disabled:p.disabled,onCompositionStart:N,onCompositionEnd:S,onKeyDown:A,onChange:I,onFocus:D,onBlur:k};return Jt({ourProps:P,theirProps:m,slot:M,defaultTag:EX,name:"Combobox.Input"})}let OX="button";function _X(t,e){var r;let n=yl("Combobox.Button"),a=Wm("Combobox.Button"),s=ir(n.buttonRef,e),i=hn(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=Go(),d=Ae(y=>{switch(y.key){case ct.ArrowDown:return y.preventDefault(),y.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})});case ct.ArrowUp:return y.preventDefault(),y.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(ft.Last)})),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})});case ct.Escape:return n.comboboxState!==0?void 0:(y.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&y.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})}));default:return}}),f=Ae(y=>{if(BT(y.currentTarget))return y.preventDefault();n.comboboxState===0?a.closeCombobox():(y.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var g;return(g=n.inputRef.current)==null?void 0:g.focus({preventScroll:!0})})}),m=OT(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),p=w.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),h={ref:s,id:l,type:w3(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return Jt({ourProps:h,theirProps:c,slot:p,defaultTag:OX,name:"Combobox.Button"})}let $X="label";function RX(t,e){let r=hn(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,s=yl("Combobox.Label"),i=Wm("Combobox.Label"),l=ir(s.labelRef,e);bt(()=>i.registerLabel(n),[n]);let c=Ae(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=w.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Jt({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:$X,name:"Combobox.Label"})}let MX="ul",LX=$o.RenderStrategy|$o.Static;function FX(t,e){let r=hn(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...s}=t,i=yl("Combobox.Options"),l=ir(i.optionsRef,e),c=zm(),u=c!==null?(c&Qt.Open)===Qt.Open:i.comboboxState===0;bt(()=>{var p;i.optionsPropsRef.current.static=(p=t.static)!=null?p:!1},[i.optionsPropsRef,t.static]),bt(()=>{i.optionsPropsRef.current.hold=a},[i.optionsPropsRef,a]),S3({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(p){return p.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let d=OT(()=>{var p,h;return(h=i.labelId)!=null?h:(p=i.buttonRef.current)==null?void 0:p.id},[i.labelId,i.buttonRef.current]),f=w.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:z.createElement(IX,null,s.children)}),Jt({ourProps:m,theirProps:s,slot:f,defaultTag:MX,features:LX,visible:u,name:"Combobox.Options"})}let BX="li";function qX(t,e){var r;let n=hn(),{id:a=`headlessui-combobox-option-${n}`,disabled:s=!1,value:i,order:l=null,...c}=t,u=yl("Combobox.Option"),d=Wm("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(i),p=w.useRef(null),h=ha({disabled:s,value:i,domRef:p,order:l}),y=w.useContext(D3),g=ir(e,p,y?y.measureElement:null),b=Ae(()=>d.onChange(i));bt(()=>d.registerOption(a,h),[h,a]);let v=w.useRef(!(u.virtual||u.__demoMode));bt(()=>{if(!u.virtual||!u.__demoMode)return;let k=Dn();return k.requestAnimationFrame(()=>{v.current=!0}),k.dispose},[u.virtual,u.__demoMode]),bt(()=>{if(!v.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let k=Dn();return k.requestAnimationFrame(()=>{var D,_;(_=(D=p.current)==null?void 0:D.scrollIntoView)==null||_.call(D,{block:"nearest"})}),k.dispose},[p,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let j=Ae(k=>{var D;if(s||(D=u.virtual)!=null&&D.disabled(i))return k.preventDefault();b(),v3()||requestAnimationFrame(()=>{var _;return(_=u.inputRef.current)==null?void 0:_.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),C=Ae(()=>{var k;if(s||(k=u.virtual)!=null&&k.disabled(i))return d.goToOption(ft.Nothing);let D=u.calculateIndex(i);d.goToOption(ft.Specific,D)}),x=C3(),N=Ae(k=>x.update(k)),S=Ae(k=>{var D;if(!x.wasMoved(k)||s||(D=u.virtual)!=null&&D.disabled(i)||f)return;let _=u.calculateIndex(i);d.goToOption(ft.Specific,_,0)}),A=Ae(k=>{var D;x.wasMoved(k)&&(s||(D=u.virtual)!=null&&D.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(ft.Nothing)))}),I=w.useMemo(()=>({active:f,selected:m,disabled:s}),[f,m,s]);return Jt({ourProps:{id:a,ref:g,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:j,onFocus:C,onPointerEnter:N,onMouseEnter:N,onPointerMove:S,onMouseMove:S,onPointerLeave:A,onMouseLeave:A},theirProps:c,slot:I,defaultTag:BX,name:"Combobox.Option"})}let VX=qt(DX),UX=qt(_X),zX=qt(PX),WX=qt(RX),HX=qt(FX),GX=qt(qX),Dl=Object.assign(VX,{Input:zX,Button:UX,Label:WX,Options:HX,Option:GX});function E3(t,e,r,n){let a=ha(r);w.useEffect(()=>{t=t??window;function s(i){a.current(i)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Hm(){let t=w.useRef(!1);return bt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function P3(t){let e=Ae(t),r=w.useRef(!1);w.useEffect(()=>(r.current=!1,()=>{r.current=!0,m0(()=>{r.current&&e()})}),[e])}var bd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(bd||{});function YX(){let t=w.useRef(0);return j3("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function O3(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let KX="div";var _3=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(_3||{});function JX(t,e){let r=w.useRef(null),n=ir(r,e),{initialFocus:a,containers:s,features:i=30,...l}=t;bu()||(i=1);let c=gl(r);ZX({ownerDocument:c},!!(i&16));let u=eQ({ownerDocument:c,container:r,initialFocus:a},!!(i&2));tQ({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=YX(),f=Ae(y=>{let g=r.current;g&&(b=>b())(()=>{$t(d.current,{[bd.Forwards]:()=>{qd(g,ls.First,{skipElements:[y.relatedTarget]})},[bd.Backwards]:()=>{qd(g,ls.Last,{skipElements:[y.relatedTarget]})}})})}),m=Go(),p=w.useRef(!1),h={ref:n,onKeyDown(y){y.key=="Tab"&&(p.current=!0,m.requestAnimationFrame(()=>{p.current=!1}))},onBlur(y){let g=O3(s);r.current instanceof HTMLElement&&g.add(r.current);let b=y.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&($3(g,b)||(p.current?qd(r.current,$t(d.current,{[bd.Forwards]:()=>ls.Next,[bd.Backwards]:()=>ls.Previous})|ls.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&wo(y.target)))}};return z.createElement(z.Fragment,null,!!(i&4)&&z.createElement(Sx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Ff.Focusable}),Jt({ourProps:h,theirProps:l,defaultTag:KX,name:"FocusTrap"}),!!(i&4)&&z.createElement(Sx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Ff.Focusable}))}let XX=qt(JX),zu=Object.assign(XX,{features:_3});function QX(t=!0){let e=w.useRef(Pa.slice());return Lf(([r],[n])=>{n===!0&&r===!1&&m0(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Pa.slice())},[t,Pa,e]),Ae(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function ZX({ownerDocument:t},e){let r=QX(e);Lf(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&wo(r())},[e]),P3(()=>{e&&wo(r())})}function eQ({ownerDocument:t,container:e,initialFocus:r},n){let a=w.useRef(null),s=Hm();return Lf(()=>{if(!n)return;let i=e.current;i&&m0(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?wo(r.current):qd(i,ls.First)===g3.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function tQ({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let s=Hm();E3(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!s.current)return;let l=O3(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?$3(l,u)?(n.current=u,wo(u)):(i.preventDefault(),i.stopPropagation(),wo(c)):wo(n.current)},!0)}function $3(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let R3=w.createContext(!1);function rQ(){return w.useContext(R3)}function RS(t){return z.createElement(R3.Provider,{value:t.force},t.children)}function nQ(t){let e=rQ(),r=w.useContext(M3),n=gl(t),[a,s]=w.useState(()=>{if(!e&&r!==null||bs.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return w.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),w.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),a}let aQ=w.Fragment;function sQ(t,e){let r=t,n=w.useRef(null),a=ir(hX(d=>{n.current=d}),e),s=gl(n),i=nQ(n),[l]=w.useState(()=>{var d;return bs.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=w.useContext(MS),u=bu();return bt(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),bt(()=>{if(l&&c)return c.register(l)},[c,l]),P3(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:s0.createPortal(Jt({ourProps:{ref:a},theirProps:r,defaultTag:aQ,name:"Portal"}),l):null}let oQ=w.Fragment,M3=w.createContext(null);function iQ(t,e){let{target:r,...n}=t,a={ref:ir(e)};return z.createElement(M3.Provider,{value:r},Jt({ourProps:a,theirProps:n,defaultTag:oQ,name:"Popover.Group"}))}let MS=w.createContext(null);function lQ(){let t=w.useContext(MS),e=w.useRef([]),r=Ae(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Ae(s=>{let i=e.current.indexOf(s);i!==-1&&e.current.splice(i,1),t&&t.unregister(s)}),a=w.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,w.useMemo(()=>function({children:s}){return z.createElement(MS.Provider,{value:a},s)},[a])]}let cQ=qt(sQ),uQ=qt(iQ),LS=Object.assign(cQ,{Group:uQ});const dQ=(t=>t.useSyncExternalStore)(gf);function fQ(t){return dQ(t.subscribe,t.getSnapshot,t.getSnapshot)}function mQ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=e[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function hQ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,s=t-a;r.style(n,"paddingRight",`${s}px`)}}}function pQ(){return x3()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Dn();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function gQ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function yQ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Ai=mQ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Dn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:yQ(r)},a=[pQ(),hQ(),gQ()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ai.subscribe(()=>{let t=Ai.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Ai.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ai.dispatch("TEARDOWN",r)}});function bQ(t,e,r){let n=fQ(Ai),a=t?n.get(t):void 0,s=a?a.count>0:!1;return bt(()=>{if(!(!t||!e))return Ai.dispatch("PUSH",t,r),()=>Ai.dispatch("POP",t,r)},[e,t]),s}let IN=new Map,Wu=new Map;function FP(t,e=!0){bt(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=Wu.get(n))!=null?i:1;if(l===1?Wu.delete(n):Wu.set(n,l-1),l!==1)return;let c=IN.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,IN.delete(n))}let s=(r=Wu.get(n))!=null?r:0;return Wu.set(n,s+1),s!==0||(IN.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function xQ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=w.useRef((n=r==null?void 0:r.current)!=null?n:null),s=gl(a),i=Ae(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:i,contains:Ae(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:w.useMemo(()=>function(){return r!=null?null:z.createElement(Sx,{features:Ff.Hidden,ref:a})},[a,r])}}let UT=w.createContext(()=>{});UT.displayName="StackContext";var FS=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(FS||{});function vQ(){return w.useContext(UT)}function jQ({children:t,onUpdate:e,type:r,element:n,enabled:a}){let s=vQ(),i=Ae((...l)=>{e==null||e(...l),s(...l)});return bt(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),z.createElement(UT.Provider,{value:i},t)}let L3=w.createContext(null);function F3(){let t=w.useContext(L3);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,F3),e}return t}function wQ(){let[t,e]=w.useState([]);return[t.length>0?t.join(" "):void 0,w.useMemo(()=>function(r){let n=Ae(s=>(e(i=>[...i,s]),()=>e(i=>{let l=i.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=w.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return z.createElement(L3.Provider,{value:a},r.children)},[e])]}let NQ="p";function CQ(t,e){let r=hn(),{id:n=`headlessui-description-${r}`,...a}=t,s=F3(),i=ir(e);bt(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return Jt({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:NQ,name:s.name||"Description"})}let SQ=qt(CQ),AQ=Object.assign(SQ,{});var IQ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(IQ||{}),kQ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(kQ||{});let TQ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Ax=w.createContext(null);Ax.displayName="DialogContext";function Gm(t){let e=w.useContext(Ax);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Gm),r}return e}function DQ(t,e,r=()=>[document.body]){bQ(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function EQ(t,e){return $t(e.type,TQ,t,e)}let PQ="div",OQ=$o.RenderStrategy|$o.Static;function _Q(t,e){let r=hn(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=w.useState(0),m=w.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=zm();a===void 0&&p!==null&&(a=(p&Qt.Open)===Qt.Open);let h=w.useRef(null),y=ir(h,e),g=gl(h),b=t.hasOwnProperty("open")||p!==null,v=t.hasOwnProperty("onClose");if(!b&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let j=a?0:1,[C,x]=w.useReducer(EQ,{titleId:null,descriptionId:null,panelRef:w.createRef()}),N=Ae(()=>s(!1)),S=Ae(J=>x({type:0,id:J})),A=bu()?c?!1:j===0:!1,I=d>1,k=w.useContext(Ax)!==null,[D,_]=lQ(),M={get current(){var J;return(J=C.panelRef.current)!=null?J:h.current}},{resolveContainers:P,mainTreeNodeRef:O,MainTreeNode:L}=xQ({portals:D,defaultContainers:[M]}),V=I?"parent":"leaf",$=p!==null?(p&Qt.Closing)===Qt.Closing:!1,R=k||$?!1:A,W=w.useCallback(()=>{var J,H;return(H=Array.from((J=g==null?void 0:g.querySelectorAll("body > *"))!=null?J:[]).find(me=>me.id==="headlessui-portal-root"?!1:me.contains(O.current)&&me instanceof HTMLElement))!=null?H:null},[O]);FP(W,R);let Z=I?!0:A,G=w.useCallback(()=>{var J,H;return(H=Array.from((J=g==null?void 0:g.querySelectorAll("[data-headlessui-portal]"))!=null?J:[]).find(me=>me.contains(O.current)&&me instanceof HTMLElement))!=null?H:null},[O]);FP(G,Z),MT(P,J=>{J.preventDefault(),N()},!(!A||I));let ae=!(I||j!==0);E3(g==null?void 0:g.defaultView,"keydown",J=>{ae&&(J.defaultPrevented||J.key===ct.Escape&&(J.preventDefault(),J.stopPropagation(),N()))}),DQ(g,!($||j!==0||k),P),w.useEffect(()=>{if(j!==0||!h.current)return;let J=new ResizeObserver(H=>{for(let me of H){let Ne=me.target.getBoundingClientRect();Ne.x===0&&Ne.y===0&&Ne.width===0&&Ne.height===0&&N()}});return J.observe(h.current),()=>J.disconnect()},[j,h,N]);let[se,K]=wQ(),de=w.useMemo(()=>[{dialogState:j,close:N,setTitleId:S},C],[j,C,N,S]),ee=w.useMemo(()=>({open:j===0}),[j]),re={ref:y,id:n,role:l,"aria-modal":j===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":se};return z.createElement(jQ,{type:"Dialog",enabled:j===0,element:h,onUpdate:Ae((J,H)=>{H==="Dialog"&&$t(J,{[FS.Add]:()=>f(me=>me+1),[FS.Remove]:()=>f(me=>me-1)})})},z.createElement(RS,{force:!0},z.createElement(LS,null,z.createElement(Ax.Provider,{value:de},z.createElement(LS.Group,{target:h},z.createElement(RS,{force:!1},z.createElement(K,{slot:ee,name:"Dialog.Description"},z.createElement(zu,{initialFocus:i,containers:P,features:A?$t(V,{parent:zu.features.RestoreFocus,leaf:zu.features.All&~zu.features.FocusLock}):zu.features.None},z.createElement(_,null,Jt({ourProps:re,theirProps:u,slot:ee,defaultTag:PQ,features:OQ,visible:j===0,name:"Dialog"}))))))))),z.createElement(L,null))}let $Q="div";function RQ(t,e){let r=hn(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:s,close:i}]=Gm("Dialog.Overlay"),l=ir(e),c=Ae(d=>{if(d.target===d.currentTarget){if(BT(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=w.useMemo(()=>({open:s===0}),[s]);return Jt({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:$Q,name:"Dialog.Overlay"})}let MQ="div";function LQ(t,e){let r=hn(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:s},i]=Gm("Dialog.Backdrop"),l=ir(e);w.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=w.useMemo(()=>({open:s===0}),[s]);return z.createElement(RS,{force:!0},z.createElement(LS,null,Jt({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:MQ,name:"Dialog.Backdrop"})))}let FQ="div";function BQ(t,e){let r=hn(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:s},i]=Gm("Dialog.Panel"),l=ir(e,i.panelRef),c=w.useMemo(()=>({open:s===0}),[s]),u=Ae(d=>{d.stopPropagation()});return Jt({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:FQ,name:"Dialog.Panel"})}let qQ="h2";function VQ(t,e){let r=hn(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:s,setTitleId:i}]=Gm("Dialog.Title"),l=ir(e);w.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=w.useMemo(()=>({open:s===0}),[s]);return Jt({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:qQ,name:"Dialog.Title"})}let UQ=qt(_Q),zQ=qt(LQ),WQ=qt(BQ),HQ=qt(RQ),GQ=qt(VQ),kN=Object.assign(UQ,{Backdrop:zQ,Panel:WQ,Overlay:HQ,Title:GQ,Description:AQ}),BP=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function qP(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(r=a.innerText)!=null?r:"":n;return BP.test(i)&&(i=i.replace(BP,"")),i}function YQ(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let s=document.getElementById(a);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():qP(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return qP(t).trim()}function KQ(t){let e=w.useRef(""),r=w.useRef("");return Ae(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let s=YQ(n).trim().toLowerCase();return e.current=a,r.current=s,s})}var JQ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(JQ||{}),XQ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(XQ||{}),QQ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(QQ||{});function TN(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=RT(e(t.items.slice()),s=>s.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let ZQ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=TN(t),a=$S(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),s=a?t.items.indexOf(a):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=TN(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=TN(t,n=>{let a=n.findIndex(s=>s.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},zT=w.createContext(null);zT.displayName="MenuContext";function p0(t){let e=w.useContext(zT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,p0),r}return e}function eZ(t,e){return $t(e.type,ZQ,t,e)}let tZ=w.Fragment;function rZ(t,e){let{__demoMode:r=!1,...n}=t,a=w.useReducer(eZ,{__demoMode:r,menuState:r?0:1,buttonRef:w.createRef(),itemsRef:w.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:l},c]=a,u=ir(e);MT([l,i],(p,h)=>{var y;c({type:1}),$T(h,_T.Loose)||(p.preventDefault(),(y=l.current)==null||y.focus())},s===0);let d=Ae(()=>{c({type:1})}),f=w.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return z.createElement(zT.Provider,{value:a},z.createElement(FT,{value:$t(s,{0:Qt.Open,1:Qt.Closed})},Jt({ourProps:m,theirProps:n,slot:f,defaultTag:tZ,name:"Menu"})))}let nZ="button";function aZ(t,e){var r;let n=hn(),{id:a=`headlessui-menu-button-${n}`,...s}=t,[i,l]=p0("Menu.Button"),c=ir(i.buttonRef,e),u=Go(),d=Ae(y=>{switch(y.key){case ct.Space:case ct.Enter:case ct.ArrowDown:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ft.First}));break;case ct.ArrowUp:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ft.Last}));break}}),f=Ae(y=>{switch(y.key){case ct.Space:y.preventDefault();break}}),m=Ae(y=>{if(BT(y.currentTarget))return y.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var g;return(g=i.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})})):(y.preventDefault(),l({type:0})))}),p=w.useMemo(()=>({open:i.menuState===0}),[i]),h={ref:c,id:a,type:w3(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Jt({ourProps:h,theirProps:s,slot:p,defaultTag:nZ,name:"Menu.Button"})}let sZ="div",oZ=$o.RenderStrategy|$o.Static;function iZ(t,e){var r,n;let a=hn(),{id:s=`headlessui-menu-items-${a}`,...i}=t,[l,c]=p0("Menu.Items"),u=ir(l.itemsRef,e),d=gl(l.itemsRef),f=Go(),m=zm(),p=m!==null?(m&Qt.Open)===Qt.Open:l.menuState===0;w.useEffect(()=>{let v=l.itemsRef.current;v&&l.menuState===0&&v!==(d==null?void 0:d.activeElement)&&v.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),S3({container:l.itemsRef.current,enabled:l.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let h=Ae(v=>{var j,C;switch(f.dispose(),v.key){case ct.Space:if(l.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),c({type:3,value:v.key});case ct.Enter:if(v.preventDefault(),v.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:x}=l.items[l.activeItemIndex];(C=(j=x.current)==null?void 0:j.domRef.current)==null||C.click()}b3(l.buttonRef.current);break;case ct.ArrowDown:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:ft.Next});case ct.ArrowUp:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:ft.Previous});case ct.Home:case ct.PageUp:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:ft.First});case ct.End:case ct.PageDown:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:ft.Last});case ct.Escape:v.preventDefault(),v.stopPropagation(),c({type:1}),Dn().nextFrame(()=>{var x;return(x=l.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});break;case ct.Tab:v.preventDefault(),v.stopPropagation(),c({type:1}),Dn().nextFrame(()=>{fX(l.buttonRef.current,v.shiftKey?ls.Previous:ls.Next)});break;default:v.key.length===1&&(c({type:3,value:v.key}),f.setTimeout(()=>c({type:4}),350));break}}),y=Ae(v=>{switch(v.key){case ct.Space:v.preventDefault();break}}),g=w.useMemo(()=>({open:l.menuState===0}),[l]),b={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:h,onKeyUp:y,role:"menu",tabIndex:0,ref:u};return Jt({ourProps:b,theirProps:i,slot:g,defaultTag:sZ,features:oZ,visible:p,name:"Menu.Items"})}let lZ=w.Fragment;function cZ(t,e){let r=hn(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...s}=t,[i,l]=p0("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=w.useRef(null),d=ir(e,u);bt(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let x=Dn();return x.requestAnimationFrame(()=>{var N,S;(S=(N=u.current)==null?void 0:N.scrollIntoView)==null||S.call(N,{block:"nearest"})}),x.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=KQ(u),m=w.useRef({disabled:a,domRef:u,get textValue(){return f()}});bt(()=>{m.current.disabled=a},[m,a]),bt(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let p=Ae(()=>{l({type:1})}),h=Ae(x=>{if(a)return x.preventDefault();l({type:1}),b3(i.buttonRef.current)}),y=Ae(()=>{if(a)return l({type:2,focus:ft.Nothing});l({type:2,focus:ft.Specific,id:n})}),g=C3(),b=Ae(x=>g.update(x)),v=Ae(x=>{g.wasMoved(x)&&(a||c||l({type:2,focus:ft.Specific,id:n,trigger:0}))}),j=Ae(x=>{g.wasMoved(x)&&(a||c&&l({type:2,focus:ft.Nothing}))}),C=w.useMemo(()=>({active:c,disabled:a,close:p}),[c,a,p]);return Jt({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:h,onFocus:y,onPointerEnter:b,onMouseEnter:b,onPointerMove:v,onMouseMove:v,onPointerLeave:j,onMouseLeave:j},theirProps:s,slot:C,defaultTag:lZ,name:"Menu.Item"})}let uZ=qt(rZ),dZ=qt(aZ),fZ=qt(iZ),mZ=qt(cZ),El=Object.assign(uZ,{Button:dZ,Items:fZ,Item:mZ});function hZ(t=0){let[e,r]=w.useState(t),n=Hm(),a=w.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=w.useCallback(c=>!!(e&c),[e]),i=w.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=w.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function pZ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function DN(t,...e){t&&e.length>0&&t.classList.add(...e)}function EN(t,...e){t&&e.length>0&&t.classList.remove(...e)}function gZ(t,e){let r=Dn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[s,i]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function yZ(t,e,r,n){let a=r?"enter":"leave",s=Dn(),i=n!==void 0?pZ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=$t(a,{enter:()=>e.enter,leave:()=>e.leave}),c=$t(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=$t(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return EN(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),DN(t,...e.base,...l,...u),s.nextFrame(()=>{EN(t,...e.base,...l,...u),DN(t,...e.base,...l,...c),gZ(t,()=>(EN(t,...e.base,...l),DN(t,...e.base,...e.entered),i()))}),s.dispose}function bZ({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:s}){let i=Hm(),l=Go(),c=ha(r);bt(()=>{t&&(c.current="enter")},[t]),bt(()=>{let u=Dn();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),a.current(c.current),u.add(yZ(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Gs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let g0=w.createContext(null);g0.displayName="TransitionContext";var xZ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(xZ||{});function vZ(){let t=w.useContext(g0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function jZ(){let t=w.useContext(y0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let y0=w.createContext(null);y0.displayName="NestingContext";function b0(t){return"children"in t?b0(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function B3(t,e){let r=ha(t),n=w.useRef([]),a=Hm(),s=Go(),i=Ae((p,h=io.Hidden)=>{let y=n.current.findIndex(({el:g})=>g===p);y!==-1&&($t(h,{[io.Unmount](){n.current.splice(y,1)},[io.Hidden](){n.current[y].state="hidden"}}),s.microTask(()=>{var g;!b0(n)&&a.current&&((g=r.current)==null||g.call(r))}))}),l=Ae(p=>{let h=n.current.find(({el:y})=>y===p);return h?h.state!=="visible"&&(h.state="visible"):n.current.push({el:p,state:"visible"}),()=>i(p,io.Unmount)}),c=w.useRef([]),u=w.useRef(Promise.resolve()),d=w.useRef({enter:[],leave:[],idle:[]}),f=Ae((p,h,y)=>{c.current.splice(0),e&&(e.chains.current[h]=e.chains.current[h].filter(([g])=>g!==p)),e==null||e.chains.current[h].push([p,new Promise(g=>{c.current.push(g)})]),e==null||e.chains.current[h].push([p,new Promise(g=>{Promise.all(d.current[h].map(([b,v])=>v)).then(()=>g())})]),h==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(h)):y(h)}),m=Ae((p,h,y)=>{Promise.all(d.current[h].splice(0).map(([g,b])=>b)).then(()=>{var g;(g=c.current.shift())==null||g()}).then(()=>y(h))});return w.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function wZ(){}let NZ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function VP(t){var e;let r={};for(let n of NZ)r[n]=(e=t[n])!=null?e:wZ;return r}function CZ(t){let e=w.useRef(VP(t));return w.useEffect(()=>{e.current=VP(t)},[t]),e}let SZ="div",q3=$o.RenderStrategy;function AZ(t,e){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:p,leaveTo:h,...y}=t,g=w.useRef(null),b=ir(g,e),v=(r=y.unmount)==null||r?io.Unmount:io.Hidden,{show:j,appear:C,initial:x}=vZ(),[N,S]=w.useState(j?"visible":"hidden"),A=jZ(),{register:I,unregister:k}=A;w.useEffect(()=>I(g),[I,g]),w.useEffect(()=>{if(v===io.Hidden&&g.current){if(j&&N!=="visible"){S("visible");return}return $t(N,{hidden:()=>k(g),visible:()=>I(g)})}},[N,g,I,k,j,v]);let D=ha({base:Gs(y.className),enter:Gs(c),enterFrom:Gs(u),enterTo:Gs(d),entered:Gs(f),leave:Gs(m),leaveFrom:Gs(p),leaveTo:Gs(h)}),_=CZ({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),M=bu();w.useEffect(()=>{if(M&&N==="visible"&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,N,M]);let P=x&&!C,O=C&&j&&x,L=!M||P?"idle":j?"enter":"leave",V=hZ(0),$=Ae(ae=>$t(ae,{enter:()=>{V.addFlag(Qt.Opening),_.current.beforeEnter()},leave:()=>{V.addFlag(Qt.Closing),_.current.beforeLeave()},idle:()=>{}})),R=Ae(ae=>$t(ae,{enter:()=>{V.removeFlag(Qt.Opening),_.current.afterEnter()},leave:()=>{V.removeFlag(Qt.Closing),_.current.afterLeave()},idle:()=>{}})),W=B3(()=>{S("hidden"),k(g)},A),Z=w.useRef(!1);bZ({immediate:O,container:g,classes:D,direction:L,onStart:ha(ae=>{Z.current=!0,W.onStart(g,ae,$)}),onStop:ha(ae=>{Z.current=!1,W.onStop(g,ae,R),ae==="leave"&&!b0(W)&&(S("hidden"),k(g))})});let G=y,U={ref:b};return O?G={...G,className:Cx(y.className,...D.current.enter,...D.current.enterFrom)}:Z.current&&(G.className=Cx(y.className,(n=g.current)==null?void 0:n.className),G.className===""&&delete G.className),z.createElement(y0.Provider,{value:W},z.createElement(FT,{value:$t(N,{visible:Qt.Open,hidden:Qt.Closed})|V.flags},Jt({ourProps:U,theirProps:G,defaultTag:SZ,features:q3,visible:N==="visible",name:"Transition.Child"})))}function IZ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...s}=t,i=w.useRef(null),l=ir(i,e);bu();let c=zm();if(r===void 0&&c!==null&&(r=(c&Qt.Open)===Qt.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=w.useState(r?"visible":"hidden"),f=B3(()=>{d("hidden")}),[m,p]=w.useState(!0),h=w.useRef([r]);bt(()=>{m!==!1&&h.current[h.current.length-1]!==r&&(h.current.push(r),p(!1))},[h,r]);let y=w.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);w.useEffect(()=>{if(r)d("visible");else if(!b0(f))d("hidden");else{let j=i.current;if(!j)return;let C=j.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&d("hidden")}},[r,f]);let g={unmount:a},b=Ae(()=>{var j;m&&p(!1),(j=t.beforeEnter)==null||j.call(t)}),v=Ae(()=>{var j;m&&p(!1),(j=t.beforeLeave)==null||j.call(t)});return z.createElement(y0.Provider,{value:f},z.createElement(g0.Provider,{value:y},Jt({ourProps:{...g,as:w.Fragment,children:z.createElement(V3,{ref:l,...g,...s,beforeEnter:b,beforeLeave:v})},theirProps:{},defaultTag:w.Fragment,features:q3,visible:u==="visible",name:"Transition"})))}function kZ(t,e){let r=w.useContext(g0)!==null,n=zm()!==null;return z.createElement(z.Fragment,null,!r&&n?z.createElement(BS,{ref:e,...t}):z.createElement(V3,{ref:e,...t}))}let BS=qt(IZ),V3=qt(AZ),TZ=qt(kZ),Wp=Object.assign(BS,{Child:TZ,Root:BS});function DZ({toggleSidebar:t,isSidebarOpen:e}){var f,m;const r=ce(),{user:n,selectedRole:a}=q(p=>p.auth),[s,i]=w.useState(!1),l=w.useRef(null),c=qm();w.useEffect(()=>{if(!s)return;function p(h){l.current&&!l.current.contains(h.target)&&i(!1)}return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[s]);const u=()=>{r(ZB()),c("/login")},d=p=>{const h=p.target.value,y=n.accessList.find(g=>g.ID===h);y&&r(e3(y))};return o.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[o.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:o.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[o.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?o.jsx(m3,{className:"block h-6 w-6","aria-hidden":"true"}):o.jsx(dJ,{className:"block h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:o.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),o.jsxs("div",{className:"flex items-center",children:[n&&((f=n==null?void 0:n.accessList)==null?void 0:f.length)>1&&o.jsxs("select",{value:(a==null?void 0:a.ID)||"",onChange:d,className:"text-sm border border-gray-300 rounded-md px-2 py-1 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",hidden:!0,children:"Select Role"}),n.accessList.map(p=>o.jsx("option",{value:p.ID,children:p.Description},p.ID))]}),o.jsx("div",{className:"ml-3 relative",children:o.jsxs(El,{as:"div",className:"relative",children:[o.jsxs(El.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((m=n==null?void 0:n.UserName)==null?void 0:m.charAt(0))||"U"})]}),o.jsx(Wp,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsxs(El.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[o.jsx("div",{className:"py-1",children:o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),o.jsx("div",{className:"py-1",children:o.jsx(El.Item,{children:({active:p})=>o.jsxs("button",{onClick:()=>c("/profile"),className:`${p?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(BJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(El.Item,{children:({active:p})=>o.jsxs("button",{onClick:()=>c("/change-password"),className:`${p?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(PJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(El.Item,{children:({active:p})=>o.jsxs("button",{onClick:u,className:`${p?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(iJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})]})]})}),s&&o.jsxs("div",{ref:l,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[o.jsx("div",{className:"p-4 border-b border-neutral-200",children:o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),o.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx(EZ,{className:"h-5 w-5 text-primary-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:o.jsx(PZ,{className:"h-5 w-5 text-success-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),o.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:o.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function EZ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function PZ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function OZ(){const t=qm(),e=Wo(),[r,n]=w.useState(!0);w.useEffect(()=>{const s=()=>{window.innerWidth<1024?n(!1):n(!0)};return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),w.useEffect(()=>{window.innerWidth<1024&&n(!1)},[e.pathname]);const a=()=>{n(!r)};return w.useEffect(()=>{localStorage.getItem("token")||t("/login")},[t]),o.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[r&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>n(!1)}),o.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${r?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:o.jsx(zJ,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(DZ,{toggleSidebar:a,isSidebarOpen:r}),o.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:o.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(qB,{})})})]})]})}const _Z=()=>o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md space-y-8",children:o.jsx(qB,{})})});var $Z=function(e){return RZ(e)&&!MZ(e)};function RZ(t){return!!t&&typeof t=="object"}function MZ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||BZ(t)}var LZ=typeof Symbol=="function"&&Symbol.for,FZ=LZ?Symbol.for("react.element"):60103;function BZ(t){return t.$$typeof===FZ}function qZ(t){return Array.isArray(t)?[]:{}}function Ix(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Bf(qZ(t),t,e):t}function VZ(t,e,r){return t.concat(e).map(function(n){return Ix(n,r)})}function UZ(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=Ix(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=Ix(e[a],r):n[a]=Bf(t[a],e[a],r)}),n}function Bf(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||VZ,r.isMergeableObject=r.isMergeableObject||$Z;var n=Array.isArray(e),a=Array.isArray(t),s=n===a;return s?n?r.arrayMerge(t,e,r):UZ(t,e,r):Ix(e,r)}Bf.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return Bf(n,a,r)},{})};var qS=Bf,U3=typeof global=="object"&&global&&global.Object===Object&&global,zZ=typeof self=="object"&&self&&self.Object===Object&&self,Ga=U3||zZ||Function("return this")(),Ro=Ga.Symbol,z3=Object.prototype,WZ=z3.hasOwnProperty,HZ=z3.toString,Hu=Ro?Ro.toStringTag:void 0;function GZ(t){var e=WZ.call(t,Hu),r=t[Hu];try{t[Hu]=void 0;var n=!0}catch{}var a=HZ.call(t);return n&&(e?t[Hu]=r:delete t[Hu]),a}var YZ=Object.prototype,KZ=YZ.toString;function JZ(t){return KZ.call(t)}var XZ="[object Null]",QZ="[object Undefined]",UP=Ro?Ro.toStringTag:void 0;function bl(t){return t==null?t===void 0?QZ:XZ:UP&&UP in Object(t)?GZ(t):JZ(t)}function W3(t,e){return function(r){return t(e(r))}}var WT=W3(Object.getPrototypeOf,Object);function xl(t){return t!=null&&typeof t=="object"}var ZZ="[object Object]",eee=Function.prototype,tee=Object.prototype,H3=eee.toString,ree=tee.hasOwnProperty,nee=H3.call(Object);function zP(t){if(!xl(t)||bl(t)!=ZZ)return!1;var e=WT(t);if(e===null)return!0;var r=ree.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&H3.call(r)==nee}function aee(){this.__data__=[],this.size=0}function G3(t,e){return t===e||t!==t&&e!==e}function x0(t,e){for(var r=t.length;r--;)if(G3(t[r][0],e))return r;return-1}var see=Array.prototype,oee=see.splice;function iee(t){var e=this.__data__,r=x0(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():oee.call(e,r,1),--this.size,!0}function lee(t){var e=this.__data__,r=x0(e,t);return r<0?void 0:e[r][1]}function cee(t){return x0(this.__data__,t)>-1}function uee(t,e){var r=this.__data__,n=x0(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Ls(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ls.prototype.clear=aee;Ls.prototype.delete=iee;Ls.prototype.get=lee;Ls.prototype.has=cee;Ls.prototype.set=uee;function dee(){this.__data__=new Ls,this.size=0}function fee(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function mee(t){return this.__data__.get(t)}function hee(t){return this.__data__.has(t)}function Ym(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pee="[object AsyncFunction]",gee="[object Function]",yee="[object GeneratorFunction]",bee="[object Proxy]";function Y3(t){if(!Ym(t))return!1;var e=bl(t);return e==gee||e==yee||e==pee||e==bee}var PN=Ga["__core-js_shared__"],WP=function(){var t=/[^.]+$/.exec(PN&&PN.keys&&PN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xee(t){return!!WP&&WP in t}var vee=Function.prototype,jee=vee.toString;function vl(t){if(t!=null){try{return jee.call(t)}catch{}try{return t+""}catch{}}return""}var wee=/[\\^$.*+?()[\]{}|]/g,Nee=/^\[object .+?Constructor\]$/,Cee=Function.prototype,See=Object.prototype,Aee=Cee.toString,Iee=See.hasOwnProperty,kee=RegExp("^"+Aee.call(Iee).replace(wee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Tee(t){if(!Ym(t)||xee(t))return!1;var e=Y3(t)?kee:Nee;return e.test(vl(t))}function Dee(t,e){return t==null?void 0:t[e]}function jl(t,e){var r=Dee(t,e);return Tee(r)?r:void 0}var qf=jl(Ga,"Map"),Vf=jl(Object,"create");function Eee(){this.__data__=Vf?Vf(null):{},this.size=0}function Pee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Oee="__lodash_hash_undefined__",_ee=Object.prototype,$ee=_ee.hasOwnProperty;function Ree(t){var e=this.__data__;if(Vf){var r=e[t];return r===Oee?void 0:r}return $ee.call(e,t)?e[t]:void 0}var Mee=Object.prototype,Lee=Mee.hasOwnProperty;function Fee(t){var e=this.__data__;return Vf?e[t]!==void 0:Lee.call(e,t)}var Bee="__lodash_hash_undefined__";function qee(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Vf&&e===void 0?Bee:e,this}function sl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}sl.prototype.clear=Eee;sl.prototype.delete=Pee;sl.prototype.get=Ree;sl.prototype.has=Fee;sl.prototype.set=qee;function Vee(){this.size=0,this.__data__={hash:new sl,map:new(qf||Ls),string:new sl}}function Uee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function v0(t,e){var r=t.__data__;return Uee(e)?r[typeof e=="string"?"string":"hash"]:r.map}function zee(t){var e=v0(this,t).delete(t);return this.size-=e?1:0,e}function Wee(t){return v0(this,t).get(t)}function Hee(t){return v0(this,t).has(t)}function Gee(t,e){var r=v0(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Yo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yo.prototype.clear=Vee;Yo.prototype.delete=zee;Yo.prototype.get=Wee;Yo.prototype.has=Hee;Yo.prototype.set=Gee;var Yee=200;function Kee(t,e){var r=this.__data__;if(r instanceof Ls){var n=r.__data__;if(!qf||n.length<Yee-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Yo(n)}return r.set(t,e),this.size=r.size,this}function xu(t){var e=this.__data__=new Ls(t);this.size=e.size}xu.prototype.clear=dee;xu.prototype.delete=fee;xu.prototype.get=mee;xu.prototype.has=hee;xu.prototype.set=Kee;function Jee(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var HP=function(){try{var t=jl(Object,"defineProperty");return t({},"",{}),t}catch{}}();function K3(t,e,r){e=="__proto__"&&HP?HP(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Xee=Object.prototype,Qee=Xee.hasOwnProperty;function J3(t,e,r){var n=t[e];(!(Qee.call(t,e)&&G3(n,r))||r===void 0&&!(e in t))&&K3(t,e,r)}function j0(t,e,r,n){var a=!r;r||(r={});for(var s=-1,i=e.length;++s<i;){var l=e[s],c=void 0;c===void 0&&(c=t[l]),a?K3(r,l,c):J3(r,l,c)}return r}function Zee(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var ete="[object Arguments]";function GP(t){return xl(t)&&bl(t)==ete}var X3=Object.prototype,tte=X3.hasOwnProperty,rte=X3.propertyIsEnumerable,nte=GP(function(){return arguments}())?GP:function(t){return xl(t)&&tte.call(t,"callee")&&!rte.call(t,"callee")},Km=Array.isArray;function ate(){return!1}var Q3=typeof wn=="object"&&wn&&!wn.nodeType&&wn,YP=Q3&&typeof Nn=="object"&&Nn&&!Nn.nodeType&&Nn,ste=YP&&YP.exports===Q3,KP=ste?Ga.Buffer:void 0,ote=KP?KP.isBuffer:void 0,Z3=ote||ate,ite=9007199254740991,lte=/^(?:0|[1-9]\d*)$/;function cte(t,e){var r=typeof t;return e=e??ite,!!e&&(r=="number"||r!="symbol"&&lte.test(t))&&t>-1&&t%1==0&&t<e}var ute=9007199254740991;function eq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ute}var dte="[object Arguments]",fte="[object Array]",mte="[object Boolean]",hte="[object Date]",pte="[object Error]",gte="[object Function]",yte="[object Map]",bte="[object Number]",xte="[object Object]",vte="[object RegExp]",jte="[object Set]",wte="[object String]",Nte="[object WeakMap]",Cte="[object ArrayBuffer]",Ste="[object DataView]",Ate="[object Float32Array]",Ite="[object Float64Array]",kte="[object Int8Array]",Tte="[object Int16Array]",Dte="[object Int32Array]",Ete="[object Uint8Array]",Pte="[object Uint8ClampedArray]",Ote="[object Uint16Array]",_te="[object Uint32Array]",kt={};kt[Ate]=kt[Ite]=kt[kte]=kt[Tte]=kt[Dte]=kt[Ete]=kt[Pte]=kt[Ote]=kt[_te]=!0;kt[dte]=kt[fte]=kt[Cte]=kt[mte]=kt[Ste]=kt[hte]=kt[pte]=kt[gte]=kt[yte]=kt[bte]=kt[xte]=kt[vte]=kt[jte]=kt[wte]=kt[Nte]=!1;function $te(t){return xl(t)&&eq(t.length)&&!!kt[bl(t)]}function HT(t){return function(e){return t(e)}}var tq=typeof wn=="object"&&wn&&!wn.nodeType&&wn,Vd=tq&&typeof Nn=="object"&&Nn&&!Nn.nodeType&&Nn,Rte=Vd&&Vd.exports===tq,ON=Rte&&U3.process,Fc=function(){try{var t=Vd&&Vd.require&&Vd.require("util").types;return t||ON&&ON.binding&&ON.binding("util")}catch{}}(),JP=Fc&&Fc.isTypedArray,Mte=JP?HT(JP):$te,Lte=Object.prototype,Fte=Lte.hasOwnProperty;function rq(t,e){var r=Km(t),n=!r&&nte(t),a=!r&&!n&&Z3(t),s=!r&&!n&&!a&&Mte(t),i=r||n||a||s,l=i?Zee(t.length,String):[],c=l.length;for(var u in t)(e||Fte.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cte(u,c)))&&l.push(u);return l}var Bte=Object.prototype;function GT(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Bte;return t===r}var qte=W3(Object.keys,Object),Vte=Object.prototype,Ute=Vte.hasOwnProperty;function zte(t){if(!GT(t))return qte(t);var e=[];for(var r in Object(t))Ute.call(t,r)&&r!="constructor"&&e.push(r);return e}function nq(t){return t!=null&&eq(t.length)&&!Y3(t)}function YT(t){return nq(t)?rq(t):zte(t)}function Wte(t,e){return t&&j0(e,YT(e),t)}function Hte(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Gte=Object.prototype,Yte=Gte.hasOwnProperty;function Kte(t){if(!Ym(t))return Hte(t);var e=GT(t),r=[];for(var n in t)n=="constructor"&&(e||!Yte.call(t,n))||r.push(n);return r}function KT(t){return nq(t)?rq(t,!0):Kte(t)}function Jte(t,e){return t&&j0(e,KT(e),t)}var aq=typeof wn=="object"&&wn&&!wn.nodeType&&wn,XP=aq&&typeof Nn=="object"&&Nn&&!Nn.nodeType&&Nn,Xte=XP&&XP.exports===aq,QP=Xte?Ga.Buffer:void 0,ZP=QP?QP.allocUnsafe:void 0;function Qte(t,e){if(e)return t.slice();var r=t.length,n=ZP?ZP(r):new t.constructor(r);return t.copy(n),n}function sq(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function Zte(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}function oq(){return[]}var ere=Object.prototype,tre=ere.propertyIsEnumerable,eO=Object.getOwnPropertySymbols,JT=eO?function(t){return t==null?[]:(t=Object(t),Zte(eO(t),function(e){return tre.call(t,e)}))}:oq;function rre(t,e){return j0(t,JT(t),e)}function iq(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var nre=Object.getOwnPropertySymbols,lq=nre?function(t){for(var e=[];t;)iq(e,JT(t)),t=WT(t);return e}:oq;function are(t,e){return j0(t,lq(t),e)}function cq(t,e,r){var n=e(t);return Km(t)?n:iq(n,r(t))}function sre(t){return cq(t,YT,JT)}function ore(t){return cq(t,KT,lq)}var VS=jl(Ga,"DataView"),US=jl(Ga,"Promise"),zS=jl(Ga,"Set"),WS=jl(Ga,"WeakMap"),tO="[object Map]",ire="[object Object]",rO="[object Promise]",nO="[object Set]",aO="[object WeakMap]",sO="[object DataView]",lre=vl(VS),cre=vl(qf),ure=vl(US),dre=vl(zS),fre=vl(WS),os=bl;(VS&&os(new VS(new ArrayBuffer(1)))!=sO||qf&&os(new qf)!=tO||US&&os(US.resolve())!=rO||zS&&os(new zS)!=nO||WS&&os(new WS)!=aO)&&(os=function(t){var e=bl(t),r=e==ire?t.constructor:void 0,n=r?vl(r):"";if(n)switch(n){case lre:return sO;case cre:return tO;case ure:return rO;case dre:return nO;case fre:return aO}return e});var mre=Object.prototype,hre=mre.hasOwnProperty;function pre(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&hre.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var oO=Ga.Uint8Array;function XT(t){var e=new t.constructor(t.byteLength);return new oO(e).set(new oO(t)),e}function gre(t,e){var r=e?XT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var yre=/\w*$/;function bre(t){var e=new t.constructor(t.source,yre.exec(t));return e.lastIndex=t.lastIndex,e}var iO=Ro?Ro.prototype:void 0,lO=iO?iO.valueOf:void 0;function xre(t){return lO?Object(lO.call(t)):{}}function vre(t,e){var r=e?XT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var jre="[object Boolean]",wre="[object Date]",Nre="[object Map]",Cre="[object Number]",Sre="[object RegExp]",Are="[object Set]",Ire="[object String]",kre="[object Symbol]",Tre="[object ArrayBuffer]",Dre="[object DataView]",Ere="[object Float32Array]",Pre="[object Float64Array]",Ore="[object Int8Array]",_re="[object Int16Array]",$re="[object Int32Array]",Rre="[object Uint8Array]",Mre="[object Uint8ClampedArray]",Lre="[object Uint16Array]",Fre="[object Uint32Array]";function Bre(t,e,r){var n=t.constructor;switch(e){case Tre:return XT(t);case jre:case wre:return new n(+t);case Dre:return gre(t,r);case Ere:case Pre:case Ore:case _re:case $re:case Rre:case Mre:case Lre:case Fre:return vre(t,r);case Nre:return new n;case Cre:case Ire:return new n(t);case Sre:return bre(t);case Are:return new n;case kre:return xre(t)}}var cO=Object.create,qre=function(){function t(){}return function(e){if(!Ym(e))return{};if(cO)return cO(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Vre(t){return typeof t.constructor=="function"&&!GT(t)?qre(WT(t)):{}}var Ure="[object Map]";function zre(t){return xl(t)&&os(t)==Ure}var uO=Fc&&Fc.isMap,Wre=uO?HT(uO):zre,Hre="[object Set]";function Gre(t){return xl(t)&&os(t)==Hre}var dO=Fc&&Fc.isSet,Yre=dO?HT(dO):Gre,Kre=1,Jre=2,Xre=4,uq="[object Arguments]",Qre="[object Array]",Zre="[object Boolean]",ene="[object Date]",tne="[object Error]",dq="[object Function]",rne="[object GeneratorFunction]",nne="[object Map]",ane="[object Number]",fq="[object Object]",sne="[object RegExp]",one="[object Set]",ine="[object String]",lne="[object Symbol]",cne="[object WeakMap]",une="[object ArrayBuffer]",dne="[object DataView]",fne="[object Float32Array]",mne="[object Float64Array]",hne="[object Int8Array]",pne="[object Int16Array]",gne="[object Int32Array]",yne="[object Uint8Array]",bne="[object Uint8ClampedArray]",xne="[object Uint16Array]",vne="[object Uint32Array]",vt={};vt[uq]=vt[Qre]=vt[une]=vt[dne]=vt[Zre]=vt[ene]=vt[fne]=vt[mne]=vt[hne]=vt[pne]=vt[gne]=vt[nne]=vt[ane]=vt[fq]=vt[sne]=vt[one]=vt[ine]=vt[lne]=vt[yne]=vt[bne]=vt[xne]=vt[vne]=!0;vt[tne]=vt[dq]=vt[cne]=!1;function Ud(t,e,r,n,a,s){var i,l=e&Kre,c=e&Jre,u=e&Xre;if(i!==void 0)return i;if(!Ym(t))return t;var d=Km(t);if(d){if(i=pre(t),!l)return sq(t,i)}else{var f=os(t),m=f==dq||f==rne;if(Z3(t))return Qte(t,l);if(f==fq||f==uq||m&&!a){if(i=c||m?{}:Vre(t),!l)return c?are(t,Jte(i,t)):rre(t,Wte(i,t))}else{if(!vt[f])return a?t:{};i=Bre(t,f,l)}}s||(s=new xu);var p=s.get(t);if(p)return p;s.set(t,i),Yre(t)?t.forEach(function(g){i.add(Ud(g,e,r,g,t,s))}):Wre(t)&&t.forEach(function(g,b){i.set(b,Ud(g,e,r,b,t,s))});var h=u?c?ore:sre:c?KT:YT,y=d?void 0:h(t);return Jee(y||t,function(g,b){y&&(b=g,g=t[b]),J3(i,b,Ud(g,e,r,b,t,s))}),i}var jne=1,wne=4;function xd(t){return Ud(t,jne|wne)}var fO=Array.isArray,mO=Object.keys,Nne=Object.prototype.hasOwnProperty,Cne=typeof Element<"u";function HS(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=fO(t),n=fO(e),a,s,i;if(r&&n){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!HS(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=mO(t);if(s=f.length,s!==mO(e).length)return!1;for(a=s;a--!==0;)if(!Nne.call(e,f[a]))return!1;if(Cne&&t instanceof Element&&e instanceof Element)return t===e;for(a=s;a--!==0;)if(i=f[a],!(i==="_owner"&&t.$$typeof)&&!HS(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var Sne=function(e,r){try{return HS(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Qs=it(Sne);var Ane=4;function hO(t){return Ud(t,Ane)}function mq(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Ine="[object Symbol]";function QT(t){return typeof t=="symbol"||xl(t)&&bl(t)==Ine}var kne="Expected a function";function ZT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(kne);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(ZT.Cache||Yo),r}ZT.Cache=Yo;var Tne=500;function Dne(t){var e=ZT(t,function(n){return r.size===Tne&&r.clear(),n}),r=e.cache;return e}var Ene=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pne=/\\(\\)?/g,One=Dne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ene,function(r,n,a,s){e.push(a?s.replace(Pne,"$1"):n||r)}),e});function _ne(t){if(typeof t=="string"||QT(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var pO=Ro?Ro.prototype:void 0,gO=pO?pO.toString:void 0;function hq(t){if(typeof t=="string")return t;if(Km(t))return mq(t,hq)+"";if(QT(t))return gO?gO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function $ne(t){return t==null?"":hq(t)}function pq(t){return Km(t)?mq(t,_ne):QT(t)?[t]:sq(One($ne(t)))}var gq={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=typeof Symbol=="function"&&Symbol.for,eD=vr?Symbol.for("react.element"):60103,tD=vr?Symbol.for("react.portal"):60106,w0=vr?Symbol.for("react.fragment"):60107,N0=vr?Symbol.for("react.strict_mode"):60108,C0=vr?Symbol.for("react.profiler"):60114,S0=vr?Symbol.for("react.provider"):60109,A0=vr?Symbol.for("react.context"):60110,rD=vr?Symbol.for("react.async_mode"):60111,I0=vr?Symbol.for("react.concurrent_mode"):60111,k0=vr?Symbol.for("react.forward_ref"):60112,T0=vr?Symbol.for("react.suspense"):60113,Rne=vr?Symbol.for("react.suspense_list"):60120,D0=vr?Symbol.for("react.memo"):60115,E0=vr?Symbol.for("react.lazy"):60116,Mne=vr?Symbol.for("react.block"):60121,Lne=vr?Symbol.for("react.fundamental"):60117,Fne=vr?Symbol.for("react.responder"):60118,Bne=vr?Symbol.for("react.scope"):60119;function $n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case eD:switch(t=t.type,t){case rD:case I0:case w0:case C0:case N0:case T0:return t;default:switch(t=t&&t.$$typeof,t){case A0:case k0:case E0:case D0:case S0:return t;default:return e}}case tD:return e}}}function yq(t){return $n(t)===I0}ht.AsyncMode=rD;ht.ConcurrentMode=I0;ht.ContextConsumer=A0;ht.ContextProvider=S0;ht.Element=eD;ht.ForwardRef=k0;ht.Fragment=w0;ht.Lazy=E0;ht.Memo=D0;ht.Portal=tD;ht.Profiler=C0;ht.StrictMode=N0;ht.Suspense=T0;ht.isAsyncMode=function(t){return yq(t)||$n(t)===rD};ht.isConcurrentMode=yq;ht.isContextConsumer=function(t){return $n(t)===A0};ht.isContextProvider=function(t){return $n(t)===S0};ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===eD};ht.isForwardRef=function(t){return $n(t)===k0};ht.isFragment=function(t){return $n(t)===w0};ht.isLazy=function(t){return $n(t)===E0};ht.isMemo=function(t){return $n(t)===D0};ht.isPortal=function(t){return $n(t)===tD};ht.isProfiler=function(t){return $n(t)===C0};ht.isStrictMode=function(t){return $n(t)===N0};ht.isSuspense=function(t){return $n(t)===T0};ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===w0||t===I0||t===C0||t===N0||t===T0||t===Rne||typeof t=="object"&&t!==null&&(t.$$typeof===E0||t.$$typeof===D0||t.$$typeof===S0||t.$$typeof===A0||t.$$typeof===k0||t.$$typeof===Lne||t.$$typeof===Fne||t.$$typeof===Bne||t.$$typeof===Mne)};ht.typeOf=$n;gq.exports=ht;var qne=gq.exports,nD=qne,Vne={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Une={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aD={};aD[nD.ForwardRef]=zne;aD[nD.Memo]=bq;function yO(t){return nD.isMemo(t)?bq:aD[t.$$typeof]||Vne}var Wne=Object.defineProperty,Hne=Object.getOwnPropertyNames,bO=Object.getOwnPropertySymbols,Gne=Object.getOwnPropertyDescriptor,Yne=Object.getPrototypeOf,xO=Object.prototype;function xq(t,e,r){if(typeof e!="string"){if(xO){var n=Yne(e);n&&n!==xO&&xq(t,n,r)}var a=Hne(e);bO&&(a=a.concat(bO(e)));for(var s=yO(t),i=yO(e),l=0;l<a.length;++l){var c=a[l];if(!Une[c]&&!(r&&r[c])&&!(i&&i[c])&&!(s&&s[c])){var u=Gne(e,c);try{Wne(t,c,u)}catch{}}}}return t}var Kne=xq;const Jne=it(Kne);function Vt(){return Vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vt.apply(this,arguments)}function Xne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function sD(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function vO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var P0=w.createContext(void 0);P0.displayName="FormikContext";var oD=P0.Provider,Qne=P0.Consumer;function vq(){var t=w.useContext(P0);return t}var jO=function(e){return Array.isArray(e)&&e.length===0},Qr=function(e){return typeof e=="function"},Jm=function(e){return e!==null&&typeof e=="object"},Zne=function(e){return String(Math.floor(Number(e)))===e},_N=function(e){return Object.prototype.toString.call(e)==="[object String]"},jq=function(e){return w.Children.count(e)===0},$N=function(e){return Jm(e)&&Qr(e.then)};function hr(t,e,r,n){n===void 0&&(n=0);for(var a=pq(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function Ra(t,e,r){for(var n=hO(t),a=n,s=0,i=pq(e);s<i.length-1;s++){var l=i[s],c=hr(t,i.slice(0,s+1));if(c&&(Jm(c)||Array.isArray(c)))a=a[l]=hO(c);else{var u=i[s+1];a=a[l]=Zne(u)&&Number(u)>=0?[]:{}}}return(s===0?t:a)[i[s]]===r?t:(r===void 0?delete a[i[s]]:a[i[s]]=r,s===0&&r===void 0&&delete n[i[s]],n)}function wq(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,s=Object.keys(t);a<s.length;a++){var i=s[a],l=t[i];Jm(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},wq(l,e,r,n[i])):n[i]=e}return n}function eae(t,e){switch(e.type){case"SET_VALUES":return Vt({},t,{values:e.payload});case"SET_TOUCHED":return Vt({},t,{touched:e.payload});case"SET_ERRORS":return Qs(t.errors,e.payload)?t:Vt({},t,{errors:e.payload});case"SET_STATUS":return Vt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Vt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Vt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Vt({},t,{values:Ra(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Vt({},t,{touched:Ra(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Vt({},t,{errors:Ra(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Vt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Vt({},t,{touched:wq(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Vt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Vt({},t,{isSubmitting:!1});default:return t}}var ai={},Vh={};function at(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,s=t.validateOnMount,i=s===void 0?!1:s,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=sD(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=Vt({validateOnChange:r,validateOnBlur:a,validateOnMount:i,onSubmit:d},f),p=w.useRef(m.initialValues),h=w.useRef(m.initialErrors||ai),y=w.useRef(m.initialTouched||Vh),g=w.useRef(m.initialStatus),b=w.useRef(!1),v=w.useRef({});w.useEffect(function(){return b.current=!0,function(){b.current=!1}},[]);var j=w.useState(0),C=j[1],x=w.useRef({values:xd(m.initialValues),errors:xd(m.initialErrors)||ai,touched:xd(m.initialTouched)||Vh,status:xd(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),N=x.current,S=w.useCallback(function(X){var be=x.current;x.current=eae(be,X),be!==x.current&&C(function(Q){return Q+1})},[]),A=w.useCallback(function(X,be){return new Promise(function(Q,pe){var ge=m.validate(X,be);ge==null?Q(ai):$N(ge)?ge.then(function(Ee){Q(Ee||ai)},function(Ee){pe(Ee)}):Q(ge)})},[m.validate]),I=w.useCallback(function(X,be){var Q=m.validationSchema,pe=Qr(Q)?Q(be):Q,ge=be&&pe.validateAt?pe.validateAt(be,X):rae(X,pe);return new Promise(function(Ee,Xe){ge.then(function(){Ee(ai)},function(Ze){Ze.name==="ValidationError"?Ee(tae(Ze)):Xe(Ze)})})},[m.validationSchema]),k=w.useCallback(function(X,be){return new Promise(function(Q){return Q(v.current[X].validate(be))})},[]),D=w.useCallback(function(X){var be=Object.keys(v.current).filter(function(pe){return Qr(v.current[pe].validate)}),Q=be.length>0?be.map(function(pe){return k(pe,hr(X,pe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Q).then(function(pe){return pe.reduce(function(ge,Ee,Xe){return Ee==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ee&&(ge=Ra(ge,be[Xe],Ee)),ge},{})})},[k]),_=w.useCallback(function(X){return Promise.all([D(X),m.validationSchema?I(X):{},m.validate?A(X):{}]).then(function(be){var Q=be[0],pe=be[1],ge=be[2],Ee=qS.all([Q,pe,ge],{arrayMerge:nae});return Ee})},[m.validate,m.validationSchema,D,A,I]),M=Rn(function(X){return X===void 0&&(X=N.values),S({type:"SET_ISVALIDATING",payload:!0}),_(X).then(function(be){return b.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:be})),be})});w.useEffect(function(){i&&b.current===!0&&Qs(p.current,m.initialValues)&&M(p.current)},[i,M]);var P=w.useCallback(function(X){var be=X&&X.values?X.values:p.current,Q=X&&X.errors?X.errors:h.current?h.current:m.initialErrors||{},pe=X&&X.touched?X.touched:y.current?y.current:m.initialTouched||{},ge=X&&X.status?X.status:g.current?g.current:m.initialStatus;p.current=be,h.current=Q,y.current=pe,g.current=ge;var Ee=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!X&&!!X.isSubmitting,errors:Q,touched:pe,status:ge,values:be,isValidating:!!X&&!!X.isValidating,submitCount:X&&X.submitCount&&typeof X.submitCount=="number"?X.submitCount:0}})};if(m.onReset){var Xe=m.onReset(N.values,me);$N(Xe)?Xe.then(Ee):Ee()}else Ee()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);w.useEffect(function(){b.current===!0&&!Qs(p.current,m.initialValues)&&u&&(p.current=m.initialValues,P(),i&&M(p.current))},[u,m.initialValues,P,i,M]),w.useEffect(function(){u&&b.current===!0&&!Qs(h.current,m.initialErrors)&&(h.current=m.initialErrors||ai,S({type:"SET_ERRORS",payload:m.initialErrors||ai}))},[u,m.initialErrors]),w.useEffect(function(){u&&b.current===!0&&!Qs(y.current,m.initialTouched)&&(y.current=m.initialTouched||Vh,S({type:"SET_TOUCHED",payload:m.initialTouched||Vh}))},[u,m.initialTouched]),w.useEffect(function(){u&&b.current===!0&&!Qs(g.current,m.initialStatus)&&(g.current=m.initialStatus,S({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var O=Rn(function(X){if(v.current[X]&&Qr(v.current[X].validate)){var be=hr(N.values,X),Q=v.current[X].validate(be);return $N(Q)?(S({type:"SET_ISVALIDATING",payload:!0}),Q.then(function(pe){return pe}).then(function(pe){S({type:"SET_FIELD_ERROR",payload:{field:X,value:pe}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:X,value:Q}}),Promise.resolve(Q))}else if(m.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),I(N.values,X).then(function(pe){return pe}).then(function(pe){S({type:"SET_FIELD_ERROR",payload:{field:X,value:hr(pe,X)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),L=w.useCallback(function(X,be){var Q=be.validate;v.current[X]={validate:Q}},[]),V=w.useCallback(function(X){delete v.current[X]},[]),$=Rn(function(X,be){S({type:"SET_TOUCHED",payload:X});var Q=be===void 0?a:be;return Q?M(N.values):Promise.resolve()}),R=w.useCallback(function(X){S({type:"SET_ERRORS",payload:X})},[]),W=Rn(function(X,be){var Q=Qr(X)?X(N.values):X;S({type:"SET_VALUES",payload:Q});var pe=be===void 0?r:be;return pe?M(Q):Promise.resolve()}),Z=w.useCallback(function(X,be){S({type:"SET_FIELD_ERROR",payload:{field:X,value:be}})},[]),G=Rn(function(X,be,Q){S({type:"SET_FIELD_VALUE",payload:{field:X,value:be}});var pe=Q===void 0?r:Q;return pe?M(Ra(N.values,X,be)):Promise.resolve()}),U=w.useCallback(function(X,be){var Q=be,pe=X,ge;if(!_N(X)){X.persist&&X.persist();var Ee=X.target?X.target:X.currentTarget,Xe=Ee.type,Ze=Ee.name,Tr=Ee.id,zs=Ee.value,ri=Ee.checked;Ee.outerHTML;var Ws=Ee.options,ni=Ee.multiple;Q=be||Ze||Tr,pe=/number|range/.test(Xe)?(ge=parseFloat(zs),isNaN(ge)?"":ge):/checkbox/.test(Xe)?sae(hr(N.values,Q),ri,zs):Ws&&ni?aae(Ws):zs}Q&&G(Q,pe)},[G,N.values]),ae=Rn(function(X){if(_N(X))return function(be){return U(be,X)};U(X)}),xe=Rn(function(X,be,Q){be===void 0&&(be=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:X,value:be}});var pe=Q===void 0?a:Q;return pe?M(N.values):Promise.resolve()}),se=w.useCallback(function(X,be){X.persist&&X.persist();var Q=X.target,pe=Q.name,ge=Q.id;Q.outerHTML;var Ee=be||pe||ge;xe(Ee,!0)},[xe]),K=Rn(function(X){if(_N(X))return function(be){return se(be,X)};se(X)}),de=w.useCallback(function(X){Qr(X)?S({type:"SET_FORMIK_STATE",payload:X}):S({type:"SET_FORMIK_STATE",payload:function(){return X}})},[]),ee=w.useCallback(function(X){S({type:"SET_STATUS",payload:X})},[]),re=w.useCallback(function(X){S({type:"SET_ISSUBMITTING",payload:X})},[]),J=Rn(function(){return S({type:"SUBMIT_ATTEMPT"}),M().then(function(X){var be=X instanceof Error,Q=!be&&Object.keys(X).length===0;if(Q){var pe;try{if(pe=Ne(),pe===void 0)return}catch(ge){throw ge}return Promise.resolve(pe).then(function(ge){return b.current&&S({type:"SUBMIT_SUCCESS"}),ge}).catch(function(ge){if(b.current)throw S({type:"SUBMIT_FAILURE"}),ge})}else if(b.current&&(S({type:"SUBMIT_FAILURE"}),be))throw X})}),H=Rn(function(X){X&&X.preventDefault&&Qr(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&Qr(X.stopPropagation)&&X.stopPropagation(),J().catch(function(be){console.warn("Warning: An unhandled error was caught from submitForm()",be)})}),me={resetForm:P,validateForm:M,validateField:O,setErrors:R,setFieldError:Z,setFieldTouched:xe,setFieldValue:G,setStatus:ee,setSubmitting:re,setTouched:$,setValues:W,setFormikState:de,submitForm:J},Ne=Rn(function(){return d(N.values,me)}),De=Rn(function(X){X&&X.preventDefault&&Qr(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&Qr(X.stopPropagation)&&X.stopPropagation(),P()}),Ue=w.useCallback(function(X){return{value:hr(N.values,X),error:hr(N.errors,X),touched:!!hr(N.touched,X),initialValue:hr(p.current,X),initialTouched:!!hr(y.current,X),initialError:hr(h.current,X)}},[N.errors,N.touched,N.values]),Ve=w.useCallback(function(X){return{setValue:function(Q,pe){return G(X,Q,pe)},setTouched:function(Q,pe){return xe(X,Q,pe)},setError:function(Q){return Z(X,Q)}}},[G,xe,Z]),Br=w.useCallback(function(X){var be=Jm(X),Q=be?X.name:X,pe=hr(N.values,Q),ge={name:Q,value:pe,onChange:ae,onBlur:K};if(be){var Ee=X.type,Xe=X.value,Ze=X.as,Tr=X.multiple;Ee==="checkbox"?Xe===void 0?ge.checked=!!pe:(ge.checked=!!(Array.isArray(pe)&&~pe.indexOf(Xe)),ge.value=Xe):Ee==="radio"?(ge.checked=pe===Xe,ge.value=Xe):Ze==="select"&&Tr&&(ge.value=ge.value||[],ge.multiple=!0)}return ge},[K,ae,N.values]),qr=w.useMemo(function(){return!Qs(p.current,N.values)},[p.current,N.values]),ra=w.useMemo(function(){return typeof l<"u"?qr?N.errors&&Object.keys(N.errors).length===0:l!==!1&&Qr(l)?l(m):l:N.errors&&Object.keys(N.errors).length===0},[l,qr,N.errors,m]),Kr=Vt({},N,{initialValues:p.current,initialErrors:h.current,initialTouched:y.current,initialStatus:g.current,handleBlur:K,handleChange:ae,handleReset:De,handleSubmit:H,resetForm:P,setErrors:R,setFormikState:de,setFieldTouched:xe,setFieldValue:G,setFieldError:Z,setStatus:ee,setSubmitting:re,setTouched:$,setValues:W,submitForm:J,validateForm:M,validateField:O,isValid:ra,dirty:qr,unregisterField:V,registerField:L,getFieldProps:Br,getFieldMeta:Ue,getFieldHelpers:Ve,validateOnBlur:a,validateOnChange:r,validateOnMount:i});return Kr}function Re(t){var e=at(t),r=t.component,n=t.children,a=t.render,s=t.innerRef;return w.useImperativeHandle(s,function(){return e}),w.createElement(oD,{value:e},r?w.createElement(r,e):a?a(e):n?Qr(n)?n(e):jq(n)?null:w.Children.only(n):null)}function tae(t){var e={};if(t.inner){if(t.inner.length===0)return Ra(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var s;if(r){if(n>=a.length)break;s=a[n++]}else{if(n=a.next(),n.done)break;s=n.value}var i=s;hr(e,i.path)||(e=Ra(e,i.path,i.message))}}return e}function rae(t,e,r,n){r===void 0&&(r=!1);var a=GS(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function GS(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||zP(a)?GS(a):a!==""?a:void 0}):zP(t[n])?e[n]=GS(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function nae(t,e,r){var n=t.slice();return e.forEach(function(s,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(s);n[i]=c?qS(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[i]=qS(t[i],s,r):t.indexOf(s)===-1&&n.push(s)}),n}function aae(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function sae(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,s=-1;if(Array.isArray(t))n=t,s=t.indexOf(r),a=s>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,s).concat(n.slice(s+1)):n}var oae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function Rn(t){var e=w.useRef(t);return oae(function(){e.current=t}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}var Be=w.forwardRef(function(t,e){var r=t.action,n=sD(t,["action"]),a=r??"#",s=vq(),i=s.handleReset,l=s.handleSubmit;return w.createElement("form",Vt({onSubmit:l,ref:e,onReset:i,action:a},n))});Be.displayName="Form";function iae(t){var e=function(a){return w.createElement(Qne,null,function(s){return w.createElement(t,Vt({},a,{formik:s}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",Jne(e,t)}var lae=function(e,r,n){var a=ol(e),s=a[r];return a.splice(r,1),a.splice(n,0,s),a},cae=function(e,r,n){var a=ol(e),s=a[r];return a[r]=a[n],a[n]=s,a},RN=function(e,r,n){var a=ol(e);return a.splice(r,0,n),a},uae=function(e,r,n){var a=ol(e);return a[r]=n,a},ol=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(Vt({},e,{length:r+1}))}else return[]},wO=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||Jm(a)){var s=ol(a);return n(s)}return a}},Nq=function(t){Xne(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(s,i,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=wO(l,s),p=wO(i,s),h=Ra(f.values,u,s(hr(f.values,u))),y=l?m(hr(f.errors,u)):void 0,g=i?p(hr(f.touched,u)):void 0;return jO(y)&&(y=void 0),jO(g)&&(g=void 0),Vt({},f,{values:h,errors:l?Ra(f.errors,u,y):f.errors,touched:i?Ra(f.touched,u,g):f.touched})})},a.push=function(s){return a.updateArrayField(function(i){return[].concat(ol(i),[xd(s)])},!1,!1)},a.handlePush=function(s){return function(){return a.push(s)}},a.swap=function(s,i){return a.updateArrayField(function(l){return cae(l,s,i)},!0,!0)},a.handleSwap=function(s,i){return function(){return a.swap(s,i)}},a.move=function(s,i){return a.updateArrayField(function(l){return lae(l,s,i)},!0,!0)},a.handleMove=function(s,i){return function(){return a.move(s,i)}},a.insert=function(s,i){return a.updateArrayField(function(l){return RN(l,s,i)},function(l){return RN(l,s,null)},function(l){return RN(l,s,null)})},a.handleInsert=function(s,i){return function(){return a.insert(s,i)}},a.replace=function(s,i){return a.updateArrayField(function(l){return uae(l,s,i)},!1,!1)},a.handleReplace=function(s,i){return function(){return a.replace(s,i)}},a.unshift=function(s){var i=-1;return a.updateArrayField(function(l){var c=l?[s].concat(l):[s];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},a.handleUnshift=function(s){return function(){return a.unshift(s)}},a.handleRemove=function(s){return function(){return a.remove(s)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(vO(a)),a.pop=a.pop.bind(vO(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Qs(hr(a.formik.values,a.name),hr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var s;return this.updateArrayField(function(i){var l=i?ol(i):[];return s||(s=l[a]),Qr(l.splice)&&l.splice(a,1),Qr(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),s},r.pop=function(){var a;return this.updateArrayField(function(s){var i=s.slice();return a||(a=i&&i.pop&&i.pop()),i},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,i=s.component,l=s.render,c=s.children,u=s.name,d=s.formik,f=sD(d,["validate","validationSchema"]),m=Vt({},a,{form:f,name:u});return i?w.createElement(i,m):l?l(m):c?typeof c=="function"?c(m):jq(c)?null:w.Children.only(c):null},e}(w.Component);Nq.defaultProps={validateOnChange:!0};var rn=iae(Nq);function T({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:s=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:p,helperText:h,...y}){const g=m&&p,[b,v]=w.useState(!1),j=()=>{switch(r){case"textarea":return o.jsx("textarea",{id:e,name:e,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,rows:y.rows||3,className:$e("form-textarea border border-gray-300 px-4 py-2",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...y});case"multiselect":return o.jsx("select",{id:e,name:e,disabled:s,multiple:!0,value:u||[],onChange:C=>{const x=Array.from(C.target.selectedOptions).map(N=>N.value);d({target:{name:e,value:x}})},onBlur:f,className:$e("form-select border border-gray-300 px-4 py-2 h-auto",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y,children:c.map(C=>o.jsx("option",{value:C.value,children:C.label},C.value))});case"select":return o.jsxs("select",{id:e,name:e,disabled:s,value:u,onChange:d,onBlur:f,className:$e("form-select border border-gray-300 px-4 py-2 pr-10",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y,children:[o.jsx("option",{value:"",children:y.defaultOption||"Select"}),c.map(C=>o.jsx("option",{value:C.value,children:C.label},C.value))]});case"checkbox":return o.jsx("div",{className:"flex items-center h-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:e,name:e,type:"checkbox",disabled:s,checked:u,onChange:d,onBlur:f,className:$e("form-checkbox",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y}),o.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return o.jsx("div",{className:"space-y-2",children:c.map(C=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`${e}-${C.value}`,name:e,type:"radio",value:C.value,disabled:s,checked:u===C.value,onChange:d,onBlur:f,className:$e("form-radio ",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y}),o.jsx("label",{htmlFor:`${e}-${C.value}`,className:"ml-2 block text-sm text-neutral-700",children:C.label})]},C.value))});case"password":return o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:e,name:e,type:b?"text":"password",placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:$e("form-input border border-gray-300 h-[42px] px-4 py-2 pr-10 w-full",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...y}),o.jsx("button",{type:"button",onClick:()=>v(C=>!C),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:b?o.jsx(SJ,{className:"h-5 w-5"}):o.jsx(Um,{className:"h-5 w-5"})})]});case"date":case"number":case"email":case"text":default:return o.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:$e("form-input border border-gray-300 h-[42px] px-4 py-2",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...y})}};return o.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&o.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&o.jsx("span",{className:"text-error-500",children:"*"})]}),j(),g?o.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):h?o.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:h}):null]})}function dae(){const[t,e]=w.useState(""),[r,n]=w.useState(""),a=ce(),{isLoading:s,error:i}=q(c=>c.auth),l=c=>{if(c.preventDefault(),!t||!r){B.error("Please fill out all fields.");return}a(Vp({username:t,password:r}))};return o.jsx("div",{className:"bg-neutral-100 flex items-center justify-center  sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-4 sm:p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),o.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[o.jsxs("div",{className:"rounded-md space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:t,onChange:c=>e(c.target.value)}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:r,onChange:c=>n(c.target.value)}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&o.jsx("div",{className:"rounded-md bg-error-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(NJ,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:`btn btn-primary w-full flex justify-center items-center ${s?"opacity-70 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),o.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const fae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Registration Page"})}),mae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Forgot Password Page"})}),hae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Xm(t){return t+.5|0}const lo=(t,e,r)=>Math.max(Math.min(t,r),e);function vd(t){return lo(Xm(t*2.55),0,255)}function No(t){return lo(Xm(t*255),0,255)}function is(t){return lo(Xm(t/2.55)/100,0,1)}function NO(t){return lo(Xm(t*100),0,100)}const Mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},YS=[..."0123456789ABCDEF"],pae=t=>YS[t&15],gae=t=>YS[(t&240)>>4]+YS[t&15],Uh=t=>(t&240)>>4===(t&15),yae=t=>Uh(t.r)&&Uh(t.g)&&Uh(t.b)&&Uh(t.a);function bae(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Mn[t[1]]*17,g:255&Mn[t[2]]*17,b:255&Mn[t[3]]*17,a:e===5?Mn[t[4]]*17:255}:(e===7||e===9)&&(r={r:Mn[t[1]]<<4|Mn[t[2]],g:Mn[t[3]]<<4|Mn[t[4]],b:Mn[t[5]]<<4|Mn[t[6]],a:e===9?Mn[t[7]]<<4|Mn[t[8]]:255})),r}const xae=(t,e)=>t<255?e(t):"";function vae(t){var e=yae(t)?pae:gae;return t?"#"+e(t.r)+e(t.g)+e(t.b)+xae(t.a,e):void 0}const jae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Cq(t,e,r){const n=e*Math.min(r,1-r),a=(s,i=(s+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[a(0),a(8),a(4)]}function wae(t,e,r){const n=(a,s=(a+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function Nae(t,e,r){const n=Cq(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function Cae(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function iD(t){const r=t.r/255,n=t.g/255,a=t.b/255,s=Math.max(r,n,a),i=Math.min(r,n,a),l=(s+i)/2;let c,u,d;return s!==i&&(d=s-i,u=l>.5?d/(2-s-i):d/(s+i),c=Cae(r,n,a,d,s),c=c*60+.5),[c|0,u||0,l]}function lD(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(No)}function cD(t,e,r){return lD(Cq,t,e,r)}function Sae(t,e,r){return lD(Nae,t,e,r)}function Aae(t,e,r){return lD(wae,t,e,r)}function Sq(t){return(t%360+360)%360}function Iae(t){const e=jae.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?vd(+e[5]):No(+e[5]));const a=Sq(+e[2]),s=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?n=Sae(a,s,i):e[1]==="hsv"?n=Aae(a,s,i):n=cD(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}function kae(t,e){var r=iD(t);r[0]=Sq(r[0]+e),r=cD(r),t.r=r[0],t.g=r[1],t.b=r[2]}function Tae(t){if(!t)return;const e=iD(t),r=e[0],n=NO(e[1]),a=NO(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${is(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const CO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},SO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Dae(){const t={},e=Object.keys(SO),r=Object.keys(CO);let n,a,s,i,l;for(n=0;n<e.length;n++){for(i=l=e[n],a=0;a<r.length;a++)s=r[a],l=l.replace(s,CO[s]);s=parseInt(SO[i],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let zh;function Eae(t){zh||(zh=Dae(),zh.transparent=[0,0,0,0]);const e=zh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Pae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Oae(t){const e=Pae.exec(t);let r=255,n,a,s;if(e){if(e[7]!==n){const i=+e[7];r=e[8]?vd(i):lo(i*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?vd(n):lo(n,0,255)),a=255&(e[4]?vd(a):lo(a,0,255)),s=255&(e[6]?vd(s):lo(s,0,255)),{r:n,g:a,b:s,a:r}}}function _ae(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${is(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const MN=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Pl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $ae(t,e,r){const n=Pl(is(t.r)),a=Pl(is(t.g)),s=Pl(is(t.b));return{r:No(MN(n+r*(Pl(is(e.r))-n))),g:No(MN(a+r*(Pl(is(e.g))-a))),b:No(MN(s+r*(Pl(is(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Wh(t,e,r){if(t){let n=iD(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=cD(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Aq(t,e){return t&&Object.assign(e||{},t)}function AO(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=No(t[3]))):(e=Aq(t,{r:0,g:0,b:0,a:1}),e.a=No(e.a)),e}function Rae(t){return t.charAt(0)==="r"?Oae(t):Iae(t)}let Iq=class KS{constructor(e){if(e instanceof KS)return e;const r=typeof e;let n;r==="object"?n=AO(e):r==="string"&&(n=bae(e)||Eae(e)||Rae(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Aq(this._rgb);return e&&(e.a=is(e.a)),e}set rgb(e){this._rgb=AO(e)}rgbString(){return this._valid?_ae(this._rgb):void 0}hexString(){return this._valid?vae(this._rgb):void 0}hslString(){return this._valid?Tae(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let s;const i=r===s?.5:r,l=2*i-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,n.r=255&u*n.r+s*a.r+.5,n.g=255&u*n.g+s*a.g+.5,n.b=255&u*n.b+s*a.b+.5,n.a=i*n.a+(1-i)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=$ae(this._rgb,e._rgb,r)),this}clone(){return new KS(this.rgb)}alpha(e){return this._rgb.a=No(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Xm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Wh(this._rgb,2,e),this}darken(e){return Wh(this._rgb,2,-e),this}saturate(e){return Wh(this._rgb,1,e),this}desaturate(e){return Wh(this._rgb,1,-e),this}rotate(e){return kae(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xa(){}const Mae=(()=>{let t=0;return()=>t++})();function He(t){return t==null}function _t(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ye(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ht(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function gn(t,e){return Ht(t)?t:e}function Me(t,e){return typeof t>"u"?e:t}const Lae=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,kq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function wt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function dt(t,e,r,n){let a,s,i;if(_t(t))for(s=t.length,a=0;a<s;a++)e.call(r,t[a],a);else if(Ye(t))for(i=Object.keys(t),s=i.length,a=0;a<s;a++)e.call(r,t[i[a]],i[a])}function kx(t,e){let r,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],s=e[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function Tx(t){if(_t(t))return t.map(Tx);if(Ye(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=Tx(t[r[a]]);return e}return t}function Tq(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Fae(t,e,r,n){if(!Tq(t))return;const a=e[t],s=r[t];Ye(a)&&Ye(s)?Uf(a,s,n):e[t]=Tx(s)}function Uf(t,e,r){const n=_t(e)?e:[e],a=n.length;if(!Ye(t))return t;r=r||{};const s=r.merger||Fae;let i;for(let l=0;l<a;++l){if(i=n[l],!Ye(i))continue;const c=Object.keys(i);for(let u=0,d=c.length;u<d;++u)s(c[u],t,i,r)}return t}function zd(t,e){return Uf(t,e,{merger:Bae})}function Bae(t,e,r){if(!Tq(t))return;const n=e[t],a=r[t];Ye(n)&&Ye(a)?zd(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Tx(a))}const IO={"":t=>t,x:t=>t.x,y:t=>t.y};function qae(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function Vae(t){const e=qae(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Mo(t,e){return(IO[e]||(IO[e]=Vae(e)))(t)}function uD(t){return t.charAt(0).toUpperCase()+t.slice(1)}const zf=t=>typeof t<"u",Lo=t=>typeof t=="function",kO=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function Uae(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const tt=Math.PI,Pt=2*tt,zae=Pt+tt,Dx=Number.POSITIVE_INFINITY,Wae=tt/180,Zt=tt/2,si=tt/4,TO=tt*2/3,co=Math.log10,Ma=Math.sign;function Wd(t,e,r){return Math.abs(t-e)<r}function DO(t){const e=Math.round(t);t=Wd(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(co(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function Hae(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,s)=>a-s).pop(),e}function Gae(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Bc(t){return!Gae(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Yae(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function Dq(t,e,r){let n,a,s;for(n=0,a=t.length;n<a;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ua(t){return t*(tt/180)}function dD(t){return t*(180/tt)}function EO(t){if(!Ht(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Eq(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*tt&&(s+=Pt),{angle:s,distance:a}}function JS(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Kae(t,e){return(t-e+zae)%Pt-tt}function _r(t){return(t%Pt+Pt)%Pt}function Wf(t,e,r,n){const a=_r(t),s=_r(e),i=_r(r),l=_r(s-a),c=_r(i-a),u=_r(a-s),d=_r(a-i);return a===s||a===i||n&&s===i||l>c&&u<d}function yr(t,e,r){return Math.max(e,Math.min(r,t))}function Jae(t){return yr(t,-32768,32767)}function ds(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function fD(t,e,r){r=r||(i=>t[i]<e);let n=t.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,r(s)?a=s:n=s;return{lo:a,hi:n}}const fs=(t,e,r,n)=>fD(t,r,n?a=>{const s=t[a][e];return s<r||s===r&&t[a+1][e]===r}:a=>t[a][e]<r),Xae=(t,e,r)=>fD(t,r,n=>t[n][e]>=r);function Qae(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const Pq=["push","pop","shift","splice","unshift"];function Zae(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Pq.forEach(r=>{const n="_onData"+uD(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const i=a.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),i}})})}function PO(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(Pq.forEach(s=>{delete t[s]}),delete t._chartjs)}function Oq(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const _q=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function $q(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,_q.call(window,()=>{n=!1,t.apply(e,r)}))}}function ese(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const mD=t=>t==="start"?"left":t==="end"?"right":"center",Or=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,tse=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function Rq(t,e,r){const n=e.length;let a=0,s=n;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=i.axis,{min:f,max:m,minDefined:p,maxDefined:h}=i.getUserBounds();if(p){if(a=Math.min(fs(c,d,f).lo,r?n:fs(e,d,i.getPixelForValue(f)).lo),u){const y=c.slice(0,a+1).reverse().findIndex(g=>!He(g[l.axis]));a-=Math.max(0,y)}a=yr(a,0,n-1)}if(h){let y=Math.max(fs(c,i.axis,m,!0).hi+1,r?0:fs(e,d,i.getPixelForValue(m),!0).hi+1);if(u){const g=c.slice(y-1).findIndex(b=>!He(b[l.axis]));y+=Math.max(0,g)}s=yr(y,a,n)-a}else s=n-a}return{start:a,count:s}}function Mq(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const Hh=t=>t===0||t===1,OO=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Pt/r)),_O=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Pt/r)+1,Hd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Zt)+1,easeOutSine:t=>Math.sin(t*Zt),easeInOutSine:t=>-.5*(Math.cos(tt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Hh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Hh(t)?t:OO(t,.075,.3),easeOutElastic:t=>Hh(t)?t:_O(t,.075,.3),easeInOutElastic(t){return Hh(t)?t:t<.5?.5*OO(t*2,.1125,.45):.5+.5*_O(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Hd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Hd.easeInBounce(t*2)*.5:Hd.easeOutBounce(t*2-1)*.5+.5};function hD(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $O(t){return hD(t)?t:new Iq(t)}function LN(t){return hD(t)?t:new Iq(t).saturate(.5).darken(.1).hexString()}const rse=["x","y","borderWidth","radius","tension"],nse=["color","borderColor","backgroundColor"];function ase(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:nse},numbers:{type:"number",properties:rse}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function sse(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const RO=new Map;function ose(t,e){e=e||{};const r=t+JSON.stringify(e);let n=RO.get(r);return n||(n=new Intl.NumberFormat(t,e),RO.set(r,n)),n}function Qm(t,e,r){return ose(e,r).format(t)}const Lq={values(t){return _t(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),s=ise(t,r)}const i=co(Math.abs(s)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Qm(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(co(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?Lq.numeric.call(this,t,e,r):""}};function ise(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var O0={formatters:Lq};function lse(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:O0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const il=Object.create(null),XS=Object.create(null);function Gd(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function FN(t,e,r){return typeof e=="string"?Uf(Gd(t,e),r):Uf(Gd(t,""),e)}class cse{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>LN(a.backgroundColor),this.hoverBorderColor=(n,a)=>LN(a.borderColor),this.hoverColor=(n,a)=>LN(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return FN(this,e,r)}get(e){return Gd(this,e)}describe(e,r){return FN(XS,e,r)}override(e,r){return FN(il,e,r)}route(e,r,n,a){const s=Gd(this,e),i=Gd(this,n),l="_"+r;Object.defineProperties(s,{[l]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=i[a];return Ye(c)?Object.assign({},u,c):Me(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var Rt=new cse({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ase,sse,lse]);function use(t){return!t||He(t.size)||He(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ex(t,e,r,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,r.push(a)),s>n&&(n=s),n}function dse(t,e,r,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let i=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!_t(f))i=Ex(t,a,s,i,f);else if(_t(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!_t(m)&&(i=Ex(t,a,s,i,m));t.restore();const p=s.length/2;if(p>r.length){for(c=0;c<p;c++)delete a[s[c]];s.splice(0,p)}return i}function oi(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function MO(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function QS(t,e,r,n){Fq(t,e,r,n,null)}function Fq(t,e,r,n,a){let s,i,l,c,u,d,f,m;const p=e.pointStyle,h=e.rotation,y=e.radius;let g=(h||0)*Wae;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(g),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:a?t.ellipse(r,n,a/2,y,0,0,Pt):t.arc(r,n,y,0,Pt),t.closePath();break;case"triangle":d=a?a/2:y,t.moveTo(r+Math.sin(g)*d,n-Math.cos(g)*y),g+=TO,t.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*y),g+=TO,t.lineTo(r+Math.sin(g)*d,n-Math.cos(g)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,i=Math.cos(g+si)*c,f=Math.cos(g+si)*(a?a/2-u:c),l=Math.sin(g+si)*c,m=Math.sin(g+si)*(a?a/2-u:c),t.arc(r-f,n-l,u,g-tt,g-Zt),t.arc(r+m,n-i,u,g-Zt,g),t.arc(r+f,n+l,u,g,g+Zt),t.arc(r-m,n+i,u,g+Zt,g+tt),t.closePath();break;case"rect":if(!h){c=Math.SQRT1_2*y,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}g+=si;case"rectRot":f=Math.cos(g)*(a?a/2:y),i=Math.cos(g)*y,l=Math.sin(g)*y,m=Math.sin(g)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+m,n-i),t.lineTo(r+f,n+l),t.lineTo(r-m,n+i),t.closePath();break;case"crossRot":g+=si;case"cross":f=Math.cos(g)*(a?a/2:y),i=Math.cos(g)*y,l=Math.sin(g)*y,m=Math.sin(g)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"star":f=Math.cos(g)*(a?a/2:y),i=Math.cos(g)*y,l=Math.sin(g)*y,m=Math.sin(g)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i),g+=si,f=Math.cos(g)*(a?a/2:y),i=Math.cos(g)*y,l=Math.sin(g)*y,m=Math.sin(g)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"line":i=a?a/2:Math.cos(g)*y,l=Math.sin(g)*y,t.moveTo(r-i,n-l),t.lineTo(r+i,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(g)*(a?a/2:y),n+Math.sin(g)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ms(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function _0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function $0(t){t.restore()}function fse(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function mse(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function hse(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),He(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function pse(t,e,r,n,a){if(a.strikethrough||a.underline){const s=t.measureText(n),i=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(i,d),t.lineTo(l,d),t.stroke()}}function gse(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function ll(t,e,r,n,a,s={}){const i=_t(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,hse(t,s),c=0;c<i.length;++c)u=i[c],s.backdrop&&gse(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),He(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),pse(t,r,n,u,s),n+=Number(a.lineHeight);t.restore()}function Hf(t,e){const{x:r,y:n,w:a,h:s,radius:i}=e;t.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*tt,tt,!0),t.lineTo(r,n+s-i.bottomLeft),t.arc(r+i.bottomLeft,n+s-i.bottomLeft,i.bottomLeft,tt,Zt,!0),t.lineTo(r+a-i.bottomRight,n+s),t.arc(r+a-i.bottomRight,n+s-i.bottomRight,i.bottomRight,Zt,0,!0),t.lineTo(r+a,n+i.topRight),t.arc(r+a-i.topRight,n+i.topRight,i.topRight,0,-Zt,!0),t.lineTo(r+i.topLeft,n)}const yse=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bse=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xse(t,e){const r=(""+t).match(yse);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const vse=t=>+t||0;function pD(t,e){const r={},n=Ye(e),a=n?Object.keys(e):e,s=Ye(t)?n?i=>Me(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of a)r[i]=vse(s(i));return r}function Bq(t){return pD(t,{top:"y",right:"x",bottom:"y",left:"x"})}function $i(t){return pD(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Fr(t){const e=Bq(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function dr(t,e){t=t||{},e=e||Rt.font;let r=Me(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Me(t.style,e.style);n&&!(""+n).match(bse)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Me(t.family,e.family),lineHeight:xse(Me(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Me(t.weight,e.weight),string:""};return a.string=use(a),a}function jd(t,e,r,n){let a,s,i;for(a=0,s=t.length;a<s;++a)if(i=t[a],i!==void 0&&i!==void 0)return i}function jse(t,e,r){const{min:n,max:a}=t,s=kq(e,(a-n)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(n,-Math.abs(s)),max:i(a,s)}}function Ko(t,e){return Object.assign(Object.create(t),e)}function gD(t,e=[""],r,n,a=()=>t[0]){const s=r||t;typeof n>"u"&&(n=zq("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:l=>gD([l,...t],e,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Vq(l,c,()=>Tse(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return FO(l).includes(c)},ownKeys(l){return FO(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function qc(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:qq(t,n),setContext:s=>qc(t,s,r,n),override:s=>qc(t.override(s),e,r,n)};return new Proxy(a,{deleteProperty(s,i){return delete s[i],delete t[i],!0},get(s,i,l){return Vq(s,i,()=>Nse(s,i,l))},getOwnPropertyDescriptor(s,i){return s._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(s,i,l){return t[i]=l,delete s[i],!0}})}function qq(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Lo(r)?r:()=>r,isIndexable:Lo(n)?n:()=>n}}const wse=(t,e)=>t?t+uD(e):e,yD=(t,e)=>Ye(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Vq(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Nse(t,e,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:i}=t;let l=n[e];return Lo(l)&&i.isScriptable(e)&&(l=Cse(e,l,t,r)),_t(l)&&l.length&&(l=Sse(e,l,t,i.isIndexable)),yD(e,l)&&(l=qc(l,a,s&&s[e],i)),l}function Cse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(s,i||n);return l.delete(t),yD(t,c)&&(c=bD(a._scopes,a,t,c)),c}function Sse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_descriptors:l}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Ye(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=bD(u,a,t,d);e.push(qc(f,s,i&&i[t],l))}}return e}function Uq(t,e,r){return Lo(t)?t(e,r):t}const Ase=(t,e)=>t===!0?e:typeof t=="string"?Mo(e,t):void 0;function Ise(t,e,r,n,a){for(const s of e){const i=Ase(r,s);if(i){t.add(i);const l=Uq(i._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(i===!1&&typeof n<"u"&&r!==n)return null}return!1}function bD(t,e,r,n){const a=e._rootScopes,s=Uq(e._fallback,r,n),i=[...t,...a],l=new Set;l.add(n);let c=LO(l,i,r,s||r,n);return c===null||typeof s<"u"&&s!==r&&(c=LO(l,i,s,c,n),c===null)?!1:gD(Array.from(l),[""],a,s,()=>kse(e,r,n))}function LO(t,e,r,n,a){for(;r;)r=Ise(t,e,r,n,a);return r}function kse(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return _t(a)&&Ye(r)?r:a||{}}function Tse(t,e,r,n){let a;for(const s of e)if(a=zq(wse(s,t),r),typeof a<"u")return yD(t,a)?bD(r,n,t,a):a}function zq(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function FO(t){let e=t._keys;return e||(e=t._keys=Dse(t._scopes)),e}function Dse(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function Wq(t,e,r,n){const{iScale:a}=t,{key:s="r"}=this._parsing,i=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],i[l]={r:a.parse(Mo(d,s),u)};return i}const Ese=Number.EPSILON||1e-14,Vc=(t,e)=>e<t.length&&!t[e].skip&&t[e],Hq=t=>t==="x"?"y":"x";function Pse(t,e,r,n){const a=t.skip?e:t,s=e,i=r.skip?e:r,l=JS(s,a),c=JS(i,s);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:s.x-f*(i.x-a.x),y:s.y-f*(i.y-a.y)},next:{x:s.x+m*(i.x-a.x),y:s.y+m*(i.y-a.y)}}}function Ose(t,e,r){const n=t.length;let a,s,i,l,c,u=Vc(t,0);for(let d=0;d<n-1;++d)if(c=u,u=Vc(t,d+1),!(!c||!u)){if(Wd(e[d],0,Ese)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],s=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(i=3/Math.sqrt(l),r[d]=a*i*e[d],r[d+1]=s*i*e[d])}}function _se(t,e,r="x"){const n=Hq(r),a=t.length;let s,i,l,c=Vc(t,0);for(let u=0;u<a;++u){if(i=l,l=c,c=Vc(t,u+1),!l)continue;const d=l[r],f=l[n];i&&(s=(d-i[r])/3,l[`cp1${r}`]=d-s,l[`cp1${n}`]=f-s*e[u]),c&&(s=(c[r]-d)/3,l[`cp2${r}`]=d+s,l[`cp2${n}`]=f+s*e[u])}}function $se(t,e="x"){const r=Hq(e),n=t.length,a=Array(n).fill(0),s=Array(n);let i,l,c,u=Vc(t,0);for(i=0;i<n;++i)if(l=c,c=u,u=Vc(t,i+1),!!c){if(u){const d=u[e]-c[e];a[i]=d!==0?(u[r]-c[r])/d:0}s[i]=l?u?Ma(a[i-1])!==Ma(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}Ose(t,a,s),_se(t,s,e)}function Gh(t,e,r){return Math.max(Math.min(t,r),e)}function Rse(t,e){let r,n,a,s,i,l=ms(t[0],e);for(r=0,n=t.length;r<n;++r)i=s,s=l,l=r<n-1&&ms(t[r+1],e),s&&(a=t[r],i&&(a.cp1x=Gh(a.cp1x,e.left,e.right),a.cp1y=Gh(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Gh(a.cp2x,e.left,e.right),a.cp2y=Gh(a.cp2y,e.top,e.bottom)))}function Mse(t,e,r,n,a){let s,i,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")$se(t,a);else{let u=n?t[t.length-1]:t[0];for(s=0,i=t.length;s<i;++s)l=t[s],c=Pse(u,l,t[Math.min(s+1,i-(n?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&Rse(t,r)}function xD(){return typeof window<"u"&&typeof document<"u"}function vD(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Px(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const R0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Lse(t,e){return R0(t).getPropertyValue(e)}const Fse=["top","right","bottom","left"];function Ri(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=Fse[a];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Bse=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function qse(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:s}=n;let i=!1,l,c;if(Bse(a,s,t.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,i=!0}return{x:l,y:c,box:i}}function pi(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=R0(r),s=a.boxSizing==="border-box",i=Ri(a,"padding"),l=Ri(a,"border","width"),{x:c,y:u,box:d}=qse(t,r),f=i.left+(d&&l.left),m=i.top+(d&&l.top);let{width:p,height:h}=e;return s&&(p-=i.width+l.width,h-=i.height+l.height),{x:Math.round((c-f)/p*r.width/n),y:Math.round((u-m)/h*r.height/n)}}function Vse(t,e,r){let n,a;if(e===void 0||r===void 0){const s=t&&vD(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const i=s.getBoundingClientRect(),l=R0(s),c=Ri(l,"border","width"),u=Ri(l,"padding");e=i.width-u.width-c.width,r=i.height-u.height-c.height,n=Px(l.maxWidth,s,"clientWidth"),a=Px(l.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||Dx,maxHeight:a||Dx}}const Yh=t=>Math.round(t*10)/10;function Use(t,e,r,n){const a=R0(t),s=Ri(a,"margin"),i=Px(a.maxWidth,t,"clientWidth")||Dx,l=Px(a.maxHeight,t,"clientHeight")||Dx,c=Vse(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=Ri(a,"border","width"),p=Ri(a,"padding");u-=p.width+m.width,d-=p.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=Yh(Math.min(u,i,c.maxWidth)),d=Yh(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Yh(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=Yh(Math.floor(d*n))),{width:u,height:d}}function BO(t,e,r){const n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||i.height!==a||i.width!==s?(t.currentDevicePixelRatio=n,i.height=a,i.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const zse=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};xD()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function qO(t,e){const r=Lse(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function gi(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Wse(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function Hse(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},i=gi(t,a,r),l=gi(a,s,r),c=gi(s,e,r),u=gi(i,l,r),d=gi(l,c,r);return gi(u,d,r)}const Gse=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Yse=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function uc(t,e,r){return t?Gse(e,r):Yse()}function Gq(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Yq(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Kq(t){return t==="angle"?{between:Wf,compare:Kae,normalize:_r}:{between:ds,compare:(e,r)=>e-r,normalize:e=>e}}function VO({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function Kse(t,e,r){const{property:n,start:a,end:s}=r,{between:i,normalize:l}=Kq(n),c=e.length;let{start:u,end:d,loop:f}=t,m,p;if(f){for(u+=c,d+=c,m=0,p=c;m<p&&i(l(e[u%c][n]),a,s);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function Jq(t,e,r){if(!r)return[t];const{property:n,start:a,end:s}=r,i=e.length,{compare:l,between:c,normalize:u}=Kq(n),{start:d,end:f,loop:m,style:p}=Kse(t,e,r),h=[];let y=!1,g=null,b,v,j;const C=()=>c(a,j,b)&&l(a,j)!==0,x=()=>l(s,b)===0||c(s,j,b),N=()=>y||C(),S=()=>!y||x();for(let A=d,I=d;A<=f;++A)v=e[A%i],!v.skip&&(b=u(v[n]),b!==j&&(y=c(b,a,s),g===null&&N()&&(g=l(b,a)===0?A:I),g!==null&&S()&&(h.push(VO({start:g,end:A,loop:m,count:i,style:p})),g=null),I=A,j=b));return g!==null&&h.push(VO({start:g,end:f,loop:m,count:i,style:p})),h}function Xq(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const s=Jq(n[a],t.points,e);s.length&&r.push(...s)}return r}function Jse(t,e,r,n){let a=0,s=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}function Xse(t,e,r,n){const a=t.length,s=[];let i=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,s.push({start:e%a,end:(c-1)%a,loop:n}),e=i=u.stop?c:null):(i=c,l.skip&&(e=c)),l=u}return i!==null&&s.push({start:e%a,end:i%a,loop:n}),s}function Qse(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const s=!!t._loop,{start:i,end:l}=Jse(r,a,s,n);if(n===!0)return UO(t,[{start:i,end:l,loop:s}],r,e);const c=l<i?l+a:l,u=!!t._fullLoop&&i===0&&l===a-1;return UO(t,Xse(r,i,c,u),r,e)}function UO(t,e,r,n){return!n||!n.setContext||!r?e:Zse(t,e,r,n)}function Zse(t,e,r,n){const a=t._chart.getContext(),s=zO(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=r.length,u=[];let d=s,f=e[0].start,m=f;function p(h,y,g,b){const v=l?-1:1;if(h!==y){for(h+=c;r[h%c].skip;)h-=v;for(;r[y%c].skip;)y+=v;h%c!==y%c&&(u.push({start:h%c,end:y%c,loop:g,style:b}),d=b,f=y%c)}}for(const h of e){f=l?f:h.start;let y=r[f%c],g;for(m=f+1;m<=h.end;m++){const b=r[m%c];g=zO(n.setContext(Ko(a,{type:"segment",p0:y,p1:b,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),eoe(g,d)&&p(f,m-1,h.loop,d),y=b,d=g}f<m-1&&p(f,m-1,h.loop,d)}return u}function zO(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function eoe(t,e){if(!e)return!1;const r=[],n=function(a,s){return hD(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Kh(t,e,r){return t.options.clip?t[r]:e[r]}function toe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Kh(r,e,"left"),right:Kh(r,e,"right"),top:Kh(n,e,"top"),bottom:Kh(n,e,"bottom")}:e}function Qq(t,e){const r=e._clip;if(r.disabled)return!1;const n=toe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class roe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const s=r.listeners[a],i=r.duration;s.forEach(l=>l({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(n-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=_q.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let i=s.length-1,l=!1,c;for(;i>=0;--i)c=s[i],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[i]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var es=new roe;const WO="transparent",noe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=$O(t||WO),a=n.valid&&$O(e||WO);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class aoe{constructor(e,r,n,a){const s=r[n];a=jd([e.to,a,s,e.from]);const i=jd([e.from,s,a]);this._active=!0,this._fn=e.fn||noe[e.type||typeof i],this._easing=Hd[e.easing]||Hd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=jd([e.to,r,a,e.from]),this._from=jd([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,s=this._from,i=this._loop,l=this._to;let c;if(this._active=s!==l&&(i||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=s;return}c=r/n%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class Zq{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ye(e))return;const r=Object.keys(Rt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!Ye(s))return;const i={};for(const l of r)i[l]=s[l];(_t(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,i)})})}_animateOptions(e,r){const n=r.options,a=ooe(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&soe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const u=i[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=f=new aoe(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return es.add(this._chart,n),!0}}function soe(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const s=t[n[a]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function ooe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function HO(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function ioe(t,e,r){if(r===!1)return!1;const n=HO(t,r),a=HO(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function loe(t){let e,r,n,a;return Ye(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function e6(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function GO(t,e,r,n={}){const a=t.keys,s=n.mode==="single";let i,l,c,u;if(e===null)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(c=+a[i],c===r){if(d=!0,n.all)continue;break}u=t.values[c],Ht(u)&&(s||e===0||Ma(e)===Ma(u))&&(e+=u)}return!d&&!n.all?0:e}function coe(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,u,d;for(c=0,u=i.length;c<u;++c)d=i[c],l[c]={[a]:d,[s]:t[d]};return l}function BN(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function uoe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function doe(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function foe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function YO(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const s=t[a.index];if(r&&s>0||!r&&s<0)return a.index}return null}function KO(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:s,vScale:i,index:l}=n,c=s.axis,u=i.axis,d=uoe(s,i,n),f=e.length;let m;for(let p=0;p<f;++p){const h=e[p],{[c]:y,[u]:g}=h,b=h._stacks||(h._stacks={});m=b[u]=foe(a,d,y),m[l]=g,m._top=YO(m,i,!0,n.type),m._bottom=YO(m,i,!1,n.type);const v=m._visualValues||(m._visualValues={});v[l]=g}}function qN(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function moe(t,e){return Ko(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hoe(t,e,r){return Ko(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Gu(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const s=a._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const VN=t=>t==="reset"||t==="none",JO=(t,e)=>e?t:Object.assign({},t),poe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:e6(r,!0),values:null};class pa{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=BN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Gu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,p,h)=>f==="x"?m:f==="r"?h:p,s=r.xAxisID=Me(n.xAxisID,qN(e,"x")),i=r.yAxisID=Me(n.yAxisID,qN(e,"y")),l=r.rAxisID=Me(n.rAxisID,qN(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,s,i,l),d=r.vAxisID=a(c,i,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&PO(this._data,this),e._stacked&&Gu(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ye(r)){const a=this._cachedMeta;this._data=coe(r,a)}else if(n!==r){if(n){PO(n,this);const a=this._cachedMeta;Gu(a),a._parsed=[]}r&&Object.isExtensible(r)&&Zae(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=r._stacked;r._stacked=BN(r.vScale,r),r.stack!==n.stack&&(a=!0,Gu(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(KO(this,r._parsed),r._stacked=BN(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:i}=n,l=s.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{_t(a[e])?m=this.parseArrayData(n,a,e,r):Ye(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const p=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(p()&&(c=!1),u=f);n._sorted=c}i&&KO(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:s,vScale:i}=e,l=s.axis,c=i.axis,u=s.getLabels(),d=s===i,f=new Array(a);let m,p,h;for(m=0,p=a;m<p;++m)h=m+n,f[m]={[l]:d||s.parse(u[h],h),[c]:i.parse(r[h],h)};return f}parseArrayData(e,r,n,a){const{xScale:s,yScale:i}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:s.parse(f[0],d),y:i.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:s,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,p;for(d=0,f=a;d<f;++d)m=d+n,p=r[m],u[d]={x:s.parse(Mo(p,l),m),y:i.parse(Mo(p,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,s=this._cachedMeta,i=r[e.axis],l={keys:e6(a,!0),values:r._stacks[e.axis]._visualValues};return GO(l,i,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const s=n[r.axis];let i=s===null?NaN:s;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,i=GO(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,i=a.length,l=this._getOtherScale(e),c=poe(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=doe(l);let m,p;function h(){p=a[m];const y=p[l.axis];return!Ht(p[e.axis])||d>y||f<y}for(m=0;m<i&&!(!h()&&(this.updateRangeFromParsed(u,e,p,c),s));++m);if(s){for(m=i-1;m>=0;--m)if(!h()){this.updateRangeFromParsed(u,e,p,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,s,i;for(a=0,s=r.length;a<s;++a)i=r[a][e.axis],Ht(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=loe(Me(this.options.clip,ioe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?i.push(f):f.draw(e,s))}for(d=0;d<i.length;++d)i[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];s=i.$context||(i.$context=hoe(this.getContext(),e,i)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=moe(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",s=this._cachedDataOpts,i=e+"-"+r,l=s[i],c=this.enableOptionSharing&&zf(n);if(l)return JO(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),p=Object.keys(Rt.elements[e]),h=()=>this.getContext(n,a,r),y=u.resolveNamedOptions(m,p,h,f);return y.$shared&&(y.$shared=c,s[i]=Object.freeze(JO(y,c))),y}_resolveAnimations(e,r,n){const a=this.chart,s=this._cachedDataOpts,i=`animation-${r}`,l=s[i];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new Zq(a,c&&c.animations);return c&&c._cacheable&&(s[i]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||VN(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:i}}updateElement(e,r,n,a){VN(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!VN(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,s=r.length,i=Math.min(s,a);i&&this.parse(0,i),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){const a=this._cachedMeta,s=a.data,i=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=i;l--)u[l]=u[l-r]};for(c(s),l=e;l<i;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&Gu(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}he(pa,"defaults",{}),he(pa,"datasetElementType",null),he(pa,"dataElementType",null);function goe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,s=r.length;a<s;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=Oq(n.sort((a,s)=>a-s))}return t._cache.$bar}function yoe(t){const e=t.iScale,r=goe(e,t.type);let n=e._length,a,s,i,l;const c=()=>{i===32767||i===-32768||(zf(l)&&(n=Math.min(n,Math.abs(i-l)||n)),l=i)};for(a=0,s=r.length;a<s;++a)i=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)i=e.getPixelForTick(a),c();return n}function boe(t,e,r,n){const a=r.barThickness;let s,i;return He(a)?(s=e.min*r.categoryPercentage,i=r.barPercentage):(s=a*n,i=1),{chunk:s/n,ratio:i,start:e.pixels[t]-s/2}}function xoe(t,e,r,n){const a=e.pixels,s=a[t];let i=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;i===null&&(i=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-i);const u=s-(s-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/n,ratio:r.barPercentage,start:u}}function voe(t,e,r,n){const a=r.parse(t[0],n),s=r.parse(t[1],n),i=Math.min(a,s),l=Math.max(a,s);let c=i,u=l;Math.abs(i)>Math.abs(l)&&(c=l,u=i),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:s,min:i,max:l}}function t6(t,e,r,n){return _t(t)?voe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function XO(t,e,r,n){const a=t.iScale,s=t.vScale,i=a.getLabels(),l=a===s,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(i[u],u),c.push(t6(m,f,s,u));return c}function UN(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function joe(t,e,r){return t!==0?Ma(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function woe(t){let e,r,n,a,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:e,top:a,bottom:s}}function Noe(t,e,r,n){let a=e.borderSkipped;const s={};if(!a){t.borderSkipped=s;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:u,bottom:d}=woe(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(s[QO(d,i,l,c)]=!0,a=u)),s[QO(a,i,l,c)]=!0,t.borderSkipped=s}function QO(t,e,r,n){return n?(t=Coe(t,e,r),t=ZO(t,r,e)):t=ZO(t,e,r),t}function Coe(t,e,r){return t===e?r:t===r?e:t}function ZO(t,e,r){return t==="start"?e:t==="end"?r:t}function Soe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Hp extends pa{parsePrimitiveData(e,r,n,a){return XO(e,r,n,a)}parseArrayData(e,r,n,a){return XO(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:s,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=i.axis==="x"?l:c,f=[];let m,p,h,y;for(m=n,p=n+a;m<p;++m)y=r[m],h={},h[s.axis]=s.parse(Mo(y,u),m),f.push(t6(Mo(y,d),h,i,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),i=s._custom,l=UN(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const s=a==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let p=r;p<r+n;p++){const h=this.getParsed(p),y=s||He(h[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),g=this._calculateBarIndexPixels(p,d),b=(h._stacks||{})[l.axis],v={horizontal:u,base:y.base,enableBorderRadius:!b||UN(h._custom)||i===b._top||i===b._bottom,x:u?y.head:g.center,y:u?g.center:y.head,height:u?g.size:Math.abs(y.size),width:u?Math.abs(y.size):g.size};m&&(v.options=f||this.resolveDataElementOptions(p,e[p].active?"active":a));const j=v.options||e[p].options;Noe(v,j,b,i),Soe(v,j,d.ratio),this.updateElement(e[p],p,v,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(p=>p[n.axis]===c),m=f&&f[d.vScale.axis];if(He(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((s===!1||i.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&i.push(d.stack),d.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Me(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let s,i;for(s=0,i=r.data.length;s<i;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||yoe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:i}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=UN(u);let f=c[r.axis],m=0,p=n?this.applyStack(r,c,n):f,h,y;p!==f&&(m=p-f,p=f),d&&(f=u.barStart,p=u.barEnd-u.barStart,f!==0&&Ma(f)!==Ma(u.barEnd)&&(m=0),m+=f);const g=!He(s)&&!d?s:m;let b=r.getPixelForValue(g);if(this.chart.getDataVisibility(e)?h=r.getPixelForValue(m+p):h=b,y=h-b,Math.abs(y)<i){y=joe(y,r,l)*i,f===l&&(b-=y/2);const v=r.getPixelForDecimal(0),j=r.getPixelForDecimal(1),C=Math.min(v,j),x=Math.max(v,j);b=Math.max(Math.min(b,x),C),h=b+y,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(h)-r.getValueForPixel(b))}if(b===r.getPixelForValue(l)){const v=Ma(y)*r.getLineWidthForValue(l)/2;b+=v,y-=v}return{size:y,base:b,head:h,center:h+y/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,s=a.skipNull,i=Me(a.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(r.grouped){const d=s?this._getStackCount(e):r.stackCount,f=a.barThickness==="flex"?xoe(e,r,a,d*u):boe(e,r,a,d*u),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Me(m,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+p;l=f.start+f.chunk*h+f.chunk/2,c=Math.min(i,f.chunk*f.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}he(Hp,"id","bar"),he(Hp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),he(Hp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Gp extends pa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const s=super.parsePrimitiveData(e,r,n,a);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,r,n,a){const s=super.parseArrayData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Me(l[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,r,n,a){const s=super.parseObjectData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Me(l&&l.r&&+l.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y),u=i._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=i.axis,f=l.axis;for(let m=r;m<r+n;m++){const p=e[m],h=!s&&this.getParsed(m),y={},g=y[d]=s?i.getPixelForDecimal(.5):i.getPixelForValue(h[d]),b=y[f]=s?l.getBasePixel():l.getPixelForValue(h[f]);y.skip=isNaN(g)||isNaN(b),u&&(y.options=c||this.resolveDataElementOptions(m,p.active?"active":a),s&&(y.options.radius=0)),this.updateElement(p,m,y,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Me(n&&n._custom,s),a}}he(Gp,"id","bubble"),he(Gp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),he(Gp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Aoe(t,e,r){let n=1,a=1,s=0,i=0;if(e<Pt){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),p=(j,C,x)=>Wf(j,l,c,!0)?1:Math.max(C,C*r,x,x*r),h=(j,C,x)=>Wf(j,l,c,!0)?-1:Math.min(C,C*r,x,x*r),y=p(0,u,f),g=p(Zt,d,m),b=h(tt,u,f),v=h(tt+Zt,d,m);n=(y-b)/2,a=(g-v)/2,s=-(y+b)/2,i=-(g+v)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:i}}class Ii extends pa{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=c=>+n[c];if(Ye(n[e])){const{key:c="value"}=this._parsing;s=u=>+Mo(n[u],c)}let i,l;for(i=e,l=e+r;i<l;++i)a._parsed[i]=s(i)}}_getRotation(){return ua(this.options.rotation-90)}_getCircumference(){return ua(this.options.circumference)}_getRotationExtents(){let e=Pt,r=-Pt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),i=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-i)/2,0),c=Math.min(Lae(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:h,offsetY:y}=Aoe(f,d,c),g=(n.width-i)/m,b=(n.height-i)/p,v=Math.max(Math.min(g,b)/2,0),j=kq(this.options.radius,v),C=Math.max(j*c,0),x=(j-C)/this._getVisibleDatasetWeightTotal();this.offsetX=h*j,this.offsetY=y*j,a.total=this.calculateTotal(),this.outerRadius=j-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/Pt)}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,l=i.chartArea,u=i.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&u.animateScale,p=m?0:this.innerRadius,h=m?0:this.outerRadius,{sharedOptions:y,includeOptions:g}=this._getSharedOptions(r,a);let b=this._getRotation(),v;for(v=0;v<r;++v)b+=this._circumference(v,s);for(v=r;v<r+n;++v){const j=this._circumference(v,s),C=e[v],x={x:d+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+j,circumference:j,outerRadius:h,innerRadius:p};g&&(x.options=y||this.resolveDataElementOptions(v,C.active?"active":a)),b+=j,this.updateElement(C,v,x,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Pt*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Qm(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,s,i,l,c;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){i=n.getDatasetMeta(a),e=i.data,l=i.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Me(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}he(Ii,"id","doughnut"),he(Ii,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),he(Ii,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),he(Ii,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Yp extends pa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=Rq(r,a,i);this._drawStart=l,this._drawCount=c,Mq(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=i.axis,p=l.axis,{spanGaps:h,segment:y}=this.options,g=Bc(h)?h:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||a==="none",v=r+n,j=e.length;let C=r>0&&this.getParsed(r-1);for(let x=0;x<j;++x){const N=e[x],S=b?N:{};if(x<r||x>=v){S.skip=!0;continue}const A=this.getParsed(x),I=He(A[p]),k=S[m]=i.getPixelForValue(A[m],x),D=S[p]=s||I?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[p],x);S.skip=isNaN(k)||isNaN(D)||I,S.stop=x>0&&Math.abs(A[m]-C[m])>g,y&&(S.parsed=A,S.raw=u.data[x]),f&&(S.options=d||this.resolveDataElementOptions(x,N.active?"active":a)),b||this.updateElement(N,x,S,a),C=A}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}he(Yp,"id","line"),he(Yp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),he(Yp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Yd extends pa{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Qm(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return Wq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),i=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-i)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,c=i.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*tt;let p=m,h;const y=360/this.countVisibleElements();for(h=0;h<r;++h)p+=this._computeAngle(h,a,y);for(h=r;h<r+n;h++){const g=e[h];let b=p,v=p+this._computeAngle(h,a,y),j=i.getDataVisibility(h)?u.getDistanceFromCenterForValue(this.getParsed(h).r):0;p=v,s&&(c.animateScale&&(j=0),c.animateRotate&&(b=v=m));const C={x:d,y:f,innerRadius:0,outerRadius:j,startAngle:b,endAngle:v,options:this.resolveDataElementOptions(h,g.active?"active":a)};this.updateElement(g,h,C,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?ua(this.resolveDataElementOptions(e,r).angle||n):0}}he(Yd,"id","polarArea"),he(Yd,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),he(Yd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ZS extends Ii{}he(ZS,"id","pie"),he(ZS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Kp extends pa{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return Wq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){const i=this.resolveDatasetElementOptions(e);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:i};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const s=this._cachedMeta.rScale,i=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=i?s.xCenter:d.x,m=i?s.yCenter:d.y,p={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,p,a)}}}he(Kp,"id","radar"),he(Kp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),he(Kp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Jp extends pa{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:s,count:i}=Rq(r,n,a);if(this._drawStart=s,this._drawCount=i,Mq(r)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),p=i.axis,h=l.axis,{spanGaps:y,segment:g}=this.options,b=Bc(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||a==="none";let j=r>0&&this.getParsed(r-1);for(let C=r;C<r+n;++C){const x=e[C],N=this.getParsed(C),S=v?x:{},A=He(N[h]),I=S[p]=i.getPixelForValue(N[p],C),k=S[h]=s||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,N,c):N[h],C);S.skip=isNaN(I)||isNaN(k)||A,S.stop=C>0&&Math.abs(N[p]-j[p])>b,g&&(S.parsed=N,S.raw=u.data[C]),m&&(S.options=f||this.resolveDataElementOptions(C,x.active?"active":a)),v||this.updateElement(x,C,S,a),j=N}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,i)/2}}he(Jp,"id","scatter"),he(Jp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),he(Jp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Ioe=Object.freeze({__proto__:null,BarController:Hp,BubbleController:Gp,DoughnutController:Ii,LineController:Yp,PieController:ZS,PolarAreaController:Yd,RadarController:Kp,ScatterController:Jp});function ii(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class jD{constructor(e){he(this,"options");this.options=e||{}}static override(e){Object.assign(jD.prototype,e)}init(){}formats(){return ii()}parse(){return ii()}format(){return ii()}add(){return ii()}diff(){return ii()}startOf(){return ii()}endOf(){return ii()}}var koe={_date:jD};function Toe(t,e,r,n){const{controller:a,data:s,_sorted:i}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&s.length){const u=l._reversePixels?Xae:fs;if(n){if(a._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(s,e,r-f),p=u(s,e,r+f);return{lo:m.lo,hi:p.hi}}}}else{const d=u(s,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,p=m.slice(0,d.lo+1).reverse().findIndex(y=>!He(y[f.axis]));d.lo-=Math.max(0,p);const h=m.slice(d.hi).findIndex(y=>!He(y[f.axis]));d.hi+=Math.max(0,h)}return d}}return{lo:0,hi:s.length-1}}function M0(t,e,r,n,a){const s=t.getSortedVisibleDatasetMetas(),i=r[e];for(let l=0,c=s.length;l<c;++l){const{index:u,data:d}=s[l],{lo:f,hi:m}=Toe(s[l],e,i,a);for(let p=f;p<=m;++p){const h=d[p];h.skip||n(h,u,p)}}}function Doe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const s=e?Math.abs(n.x-a.x):0,i=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}function zN(t,e,r,n,a){const s=[];return!a&&!t.isPointInArea(e)||M0(t,r,e,function(l,c,u){!a&&!ms(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:u})},!0),s}function Eoe(t,e,r,n){let a=[];function s(i,l,c){const{startAngle:u,endAngle:d}=i.getProps(["startAngle","endAngle"],n),{angle:f}=Eq(i,{x:e.x,y:e.y});Wf(f,u,d)&&a.push({element:i,datasetIndex:l,index:c})}return M0(t,r,e,s),a}function Poe(t,e,r,n,a,s){let i=[];const l=Doe(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const p=d.inRange(e.x,e.y,a);if(n&&!p)return;const h=d.getCenterPoint(a);if(!(!!s||t.isPointInArea(h))&&!p)return;const g=l(e,h);g<c?(i=[{element:d,datasetIndex:f,index:m}],c=g):g===c&&i.push({element:d,datasetIndex:f,index:m})}return M0(t,r,e,u),i}function WN(t,e,r,n,a,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?Eoe(t,e,r,a):Poe(t,e,r,n,a,s)}function e_(t,e,r,n,a){const s=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return M0(t,r,e,(c,u,d)=>{c[i]&&c[i](e[r],a)&&(s.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:s}var Ooe={modes:{index(t,e,r,n){const a=pi(e,t),s=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?zN(t,a,s,n,i):WN(t,a,s,!1,n,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=pi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?zN(t,a,s,n,i):WN(t,a,s,!1,n,i);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=pi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return zN(t,a,s,n,i)},nearest(t,e,r,n){const a=pi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return WN(t,a,s,r.intersect,n,i)},x(t,e,r,n){const a=pi(e,t);return e_(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=pi(e,t);return e_(t,a,"y",r.intersect,n)}}};const r6=["left","top","right","bottom"];function Yu(t,e){return t.filter(r=>r.pos===e)}function t_(t,e){return t.filter(r=>r6.indexOf(r.pos)===-1&&r.box.axis===e)}function Ku(t,e){return t.sort((r,n)=>{const a=e?n:r,s=e?r:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function _oe(t){const e=[];let r,n,a,s,i,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:s,options:{stack:i,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:l});return e}function $oe(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:s}=r;if(!n||!r6.includes(a))continue;const i=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return e}function Roe(t,e){const r=$oe(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let s,i,l;for(s=0,i=t.length;s<i;++s){l=t[s];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function Moe(t){const e=_oe(t),r=Ku(e.filter(u=>u.box.fullSize),!0),n=Ku(Yu(e,"left"),!0),a=Ku(Yu(e,"right")),s=Ku(Yu(e,"top"),!0),i=Ku(Yu(e,"bottom")),l=t_(e,"x"),c=t_(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(c).concat(i).concat(l),chartArea:Yu(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:s.concat(i).concat(l)}}function r_(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function n6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Loe(t,e,r,n){const{pos:a,box:s}=r,i=t.maxPadding;if(!Ye(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[a]+=r.size}s.getPadding&&n6(i,s.getPadding());const l=Math.max(0,e.outerWidth-r_(i,t,"left","right")),c=Math.max(0,e.outerHeight-r_(i,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function Foe(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function Boe(t,e){const r=e.maxPadding;function n(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(i=>{s[i]=Math.max(e[i],r[i])}),s}return n(t?["left","right"]:["top","bottom"])}function wd(t,e,r,n){const a=[];let s,i,l,c,u,d;for(s=0,i=t.length,u=0;s<i;++s){l=t[s],c=l.box,c.update(l.width||e.w,l.height||e.h,Boe(l.horizontal,e));const{same:f,other:m}=Loe(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&wd(a,e,r,n)||d}function Jh(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function n_(t,e,r,n){const a=r.padding;let{x:s,y:i}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;zf(u.start)&&(i=u.start),c.fullSize?Jh(c,a.left,i,r.outerWidth-a.right-a.left,m):Jh(c,e.left+u.placed,i,f,m),u.start=i,u.placed+=f,i=c.bottom}else{const f=e.h*d,m=u.size||c.width;zf(u.start)&&(s=u.start),c.fullSize?Jh(c,s,a.top,m,r.outerHeight-a.bottom-a.top):Jh(c,s,e.top+u.placed,m,f),u.start=s,u.placed+=f,s=c.right}}e.x=s,e.y=i}var Mr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=Fr(t.options.layout.padding),s=Math.max(e-a.width,0),i=Math.max(r-a.height,0),l=Moe(t.boxes),c=l.vertical,u=l.horizontal;dt(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=c.reduce((y,g)=>g.box.options&&g.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},a);n6(m,Fr(n));const p=Object.assign({maxPadding:m,w:s,h:i,x:a.left,y:a.top},a),h=Roe(c.concat(u),f);wd(l.fullSize,p,f,h),wd(c,p,f,h),wd(u,p,f,h)&&wd(c,p,f,h),Foe(p),n_(l.leftAndTop,p,f,h),p.x+=p.w,p.y+=p.h,n_(l.rightAndBottom,p,f,h),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},dt(l.chartArea,y=>{const g=y.box;Object.assign(g,t.chartArea),g.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class a6{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class qoe extends a6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Xp="$chartjs",Voe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},a_=t=>t===null||t==="";function Uoe(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Xp]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",a_(a)){const s=qO(t,"width");s!==void 0&&(t.width=s)}if(a_(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=qO(t,"height");s!==void 0&&(t.height=s)}return t}const s6=zse?{passive:!0}:!1;function zoe(t,e,r){t&&t.addEventListener(e,r,s6)}function Woe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,s6)}function Hoe(t,e){const r=Voe[t.type]||t.type,{x:n,y:a}=pi(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Ox(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Goe(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Ox(l.addedNodes,n),i=i&&!Ox(l.removedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Yoe(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Ox(l.removedNodes,n),i=i&&!Ox(l.addedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Gf=new Map;let s_=0;function o6(){const t=window.devicePixelRatio;t!==s_&&(s_=t,Gf.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Koe(t,e){Gf.size||window.addEventListener("resize",o6),Gf.set(t,e)}function Joe(t){Gf.delete(t),Gf.size||window.removeEventListener("resize",o6)}function Xoe(t,e,r){const n=t.canvas,a=n&&vD(n);if(!a)return;const s=$q((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||s(u,d)});return i.observe(a),Koe(t,s),i}function HN(t,e,r){r&&r.disconnect(),e==="resize"&&Joe(t)}function Qoe(t,e,r){const n=t.canvas,a=$q(s=>{t.ctx!==null&&r(Hoe(s,t))},t);return zoe(n,e,a),a}class Zoe extends a6{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Uoe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Xp])return!1;const n=r[Xp].initial;["height","width"].forEach(s=>{const i=n[s];He(i)?r.removeAttribute(s):r.setAttribute(s,i)});const a=n.style||{};return Object.keys(a).forEach(s=>{r.style[s]=a[s]}),r.width=r.width,delete r[Xp],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),i={attach:Goe,detach:Yoe,resize:Xoe}[r]||Qoe;a[r]=i(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:HN,detach:HN,resize:HN}[r]||Woe)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return Use(e,r,n,a)}isAttached(e){const r=e&&vD(e);return!!(r&&r.isConnected)}}function eie(t){return!xD()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?qoe:Zoe}var Tp;let Fs=(Tp=class{constructor(){he(this,"x");he(this,"y");he(this,"active",!1);he(this,"options");he(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Bc(this.x)&&Bc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}},he(Tp,"defaults",{}),he(Tp,"defaultRoutes"),Tp);function tie(t,e){const r=t.options.ticks,n=rie(t),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?aie(e):[],i=s.length,l=s[0],c=s[i-1],u=[];if(i>a)return sie(e,u,s,i/a),u;const d=nie(s,e,a);if(i>0){let f,m;const p=i>1?Math.round((c-l)/(i-1)):null;for(Xh(e,u,d,He(p)?0:l-p,l),f=0,m=i-1;f<m;f++)Xh(e,u,d,s[f],s[f+1]);return Xh(e,u,d,c,He(p)?e.length:c+p),u}return Xh(e,u,d),u}function rie(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function nie(t,e,r){const n=oie(t),a=e.length/r;if(!n)return Math.max(a,1);const s=Hae(n);for(let i=0,l=s.length-1;i<l;i++){const c=s[i];if(c>a)return c}return Math.max(a,1)}function aie(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function sie(t,e,r,n){let a=0,s=r[0],i;for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}function Xh(t,e,r,n,a){const s=Me(n,0),i=Math.min(Me(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=s;d<0;)l++,d=Math.round(s+l*r);for(u=Math.max(s,0);u<i;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*r))}function oie(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const iie=t=>t==="left"?"right":t==="right"?"left":t,o_=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,i_=(t,e)=>Math.min(e||t,t);function l_(t,e){const r=[],n=t.length/e,a=t.length;let s=0;for(;s<a;s+=n)r.push(t[Math.floor(s)]);return r}function lie(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),s=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-s,i-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<s-l||c>i+l)))return c}function cie(t,e){dt(t,r=>{const n=r.gc,a=n.length/2;let s;if(a>e){for(s=0;s<a;++s)delete r.data[n[s]];n.splice(0,a)}})}function Ju(t){return t.drawTicks?t.tickLength:0}function c_(t,e){if(!t.display)return 0;const r=dr(t.font,e),n=Fr(t.padding);return(_t(t.text)?t.text.length:1)*r.lineHeight+n.height}function uie(t,e){return Ko(t,{scale:e,type:"scale"})}function die(t,e,r){return Ko(t,{tick:r,index:e,type:"tick"})}function fie(t,e,r){let n=mD(t);return(r&&e!=="right"||!r&&e==="right")&&(n=iie(n)),n}function mie(t,e,r,n){const{top:a,left:s,bottom:i,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,p,h;const y=i-a,g=l-s;if(t.isHorizontal()){if(p=Or(n,s,l),Ye(r)){const b=Object.keys(r)[0],v=r[b];h=d[b].getPixelForValue(v)+y-e}else r==="center"?h=(u.bottom+u.top)/2+y-e:h=o_(t,r,e);m=l-s}else{if(Ye(r)){const b=Object.keys(r)[0],v=r[b];p=d[b].getPixelForValue(v)-g+e}else r==="center"?p=(u.left+u.right)/2-g+e:p=o_(t,r,e);h=Or(n,i,a),f=r==="left"?-Zt:Zt}return{titleX:p,titleY:h,maxWidth:m,rotation:f}}class wl extends Fs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=gn(e,Number.POSITIVE_INFINITY),r=gn(r,Number.NEGATIVE_INFINITY),n=gn(n,Number.POSITIVE_INFINITY),a=gn(a,Number.NEGATIVE_INFINITY),{min:gn(e,n),max:gn(r,a),minDefined:Ht(e),maxDefined:Ht(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),i;if(a&&s)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)i=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,i.min)),s||(n=Math.max(n,i.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:gn(r,gn(n,r)),max:gn(n,gn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:s,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jse(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?l_(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=tie(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wt(this.options.afterUpdate,[this])}beforeSetDimensions(){wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=wt(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=i_(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation;let i=a,l,c,u;if(!this._isVisible()||!r.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,p=yr(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:p/(n-1),f+6>l&&(l=p/(n-(e.offset?.5:1)),c=this.maxHeight-Ju(e.grid)-r.padding-c_(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),i=dD(Math.min(Math.asin(yr((d.highest.height+6)/l,-1,1)),Math.asin(yr(c/u,-1,1))-Math.asin(yr(m/u,-1,1)))),i=Math.max(a,Math.min(s,i))),this.labelRotation=i}afterCalculateLabelRotation(){wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:s}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=c_(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Ju(s)+c):(e.height=this.maxHeight,e.width=Ju(s)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),p=n.padding*2,h=ua(this.labelRotation),y=Math.cos(h),g=Math.sin(h);if(l){const b=n.mirror?0:g*f.width+y*m.height;e.height=Math.min(this.maxHeight,e.height+b+p)}else{const b=n.mirror?0:y*f.width+g*m.height;e.width=Math.min(this.maxWidth,e.width+b+p)}this._calculatePadding(u,d,g,y)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:s,padding:i},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,p=0;c?u?(m=a*e.width,p=n*r.height):(m=n*e.height,p=a*r.width):s==="start"?p=r.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,p=r.width/2),this.paddingLeft=Math.max((m-d+i)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+i)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)He(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=l_(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:s}=this,i=[],l=[],c=Math.floor(r/i_(r,n));let u=0,d=0,f,m,p,h,y,g,b,v,j,C,x;for(f=0;f<r;f+=c){if(h=e[f].label,y=this._resolveTickFontOptions(f),a.font=g=y.string,b=s[g]=s[g]||{data:{},gc:[]},v=y.lineHeight,j=C=0,!He(h)&&!_t(h))j=Ex(a,b.data,b.gc,j,h),C=v;else if(_t(h))for(m=0,p=h.length;m<p;++m)x=h[m],!He(x)&&!_t(x)&&(j=Ex(a,b.data,b.gc,j,x),C+=v);i.push(j),l.push(C),u=Math.max(j,u),d=Math.max(C,d)}cie(s,r);const N=i.indexOf(u),S=l.indexOf(d),A=I=>({width:i[I]||0,height:l[I]||0});return{first:A(0),last:A(r-1),widest:A(N),highest:A(S),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return Jae(this._alignToPixels?oi(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=die(this.getContext(),e,n))}return this.$context||(this.$context=uie(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ua(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,l=s?s.widest.width+i:0,c=s?s.highest.height+i:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:s,position:i,border:l}=a,c=s.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=Ju(s),p=[],h=l.setContext(this.getContext()),y=h.display?h.width:0,g=y/2,b=function(L){return oi(n,L,y)};let v,j,C,x,N,S,A,I,k,D,_,M;if(i==="top")v=b(this.bottom),S=this.bottom-m,I=v-g,D=b(e.top)+g,M=e.bottom;else if(i==="bottom")v=b(this.top),D=e.top,M=b(e.bottom)-g,S=v+g,I=this.top+m;else if(i==="left")v=b(this.right),N=this.right-m,A=v-g,k=b(e.left)+g,_=e.right;else if(i==="right")v=b(this.left),k=e.left,_=b(e.right)-g,N=v+g,A=this.left+m;else if(r==="x"){if(i==="center")v=b((e.top+e.bottom)/2+.5);else if(Ye(i)){const L=Object.keys(i)[0],V=i[L];v=b(this.chart.scales[L].getPixelForValue(V))}D=e.top,M=e.bottom,S=v+g,I=S+m}else if(r==="y"){if(i==="center")v=b((e.left+e.right)/2);else if(Ye(i)){const L=Object.keys(i)[0],V=i[L];v=b(this.chart.scales[L].getPixelForValue(V))}N=v-g,A=N-m,k=e.left,_=e.right}const P=Me(a.ticks.maxTicksLimit,f),O=Math.max(1,Math.ceil(f/P));for(j=0;j<f;j+=O){const L=this.getContext(j),V=s.setContext(L),$=l.setContext(L),R=V.lineWidth,W=V.color,Z=$.dash||[],G=$.dashOffset,U=V.tickWidth,ae=V.tickColor,xe=V.tickBorderDash||[],se=V.tickBorderDashOffset;C=lie(this,j,c),C!==void 0&&(x=oi(n,C,R),u?N=A=k=_=x:S=I=D=M=x,p.push({tx1:N,ty1:S,tx2:A,ty2:I,x1:k,y1:D,x2:_,y2:M,width:R,color:W,borderDash:Z,borderDashOffset:G,tickWidth:U,tickColor:ae,tickBorderDash:xe,tickBorderDashOffset:se}))}return this._ticksLength=f,this._borderValue=v,p}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:s}=n,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=s,m=Ju(n.grid),p=m+d,h=f?-d:p,y=-ua(this.labelRotation),g=[];let b,v,j,C,x,N,S,A,I,k,D,_,M="middle";if(a==="top")N=this.bottom-h,S=this._getXAxisLabelAlignment();else if(a==="bottom")N=this.top+h,S=this._getXAxisLabelAlignment();else if(a==="left"){const O=this._getYAxisLabelAlignment(m);S=O.textAlign,x=O.x}else if(a==="right"){const O=this._getYAxisLabelAlignment(m);S=O.textAlign,x=O.x}else if(r==="x"){if(a==="center")N=(e.top+e.bottom)/2+p;else if(Ye(a)){const O=Object.keys(a)[0],L=a[O];N=this.chart.scales[O].getPixelForValue(L)+p}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")x=(e.left+e.right)/2-p;else if(Ye(a)){const O=Object.keys(a)[0],L=a[O];x=this.chart.scales[O].getPixelForValue(L)}S=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?M="top":c==="end"&&(M="bottom"));const P=this._getLabelSizes();for(b=0,v=l.length;b<v;++b){j=l[b],C=j.label;const O=s.setContext(this.getContext(b));A=this.getPixelForTick(b)+s.labelOffset,I=this._resolveTickFontOptions(b),k=I.lineHeight,D=_t(C)?C.length:1;const L=D/2,V=O.color,$=O.textStrokeColor,R=O.textStrokeWidth;let W=S;i?(x=A,S==="inner"&&(b===v-1?W=this.options.reverse?"left":"right":b===0?W=this.options.reverse?"right":"left":W="center"),a==="top"?u==="near"||y!==0?_=-D*k+k/2:u==="center"?_=-P.highest.height/2-L*k+k:_=-P.highest.height+k/2:u==="near"||y!==0?_=k/2:u==="center"?_=P.highest.height/2-L*k:_=P.highest.height-D*k,f&&(_*=-1),y!==0&&!O.showLabelBackdrop&&(x+=k/2*Math.sin(y))):(N=A,_=(1-D)*k/2);let Z;if(O.showLabelBackdrop){const G=Fr(O.backdropPadding),U=P.heights[b],ae=P.widths[b];let xe=_-G.top,se=0-G.left;switch(M){case"middle":xe-=U/2;break;case"bottom":xe-=U;break}switch(S){case"center":se-=ae/2;break;case"right":se-=ae;break;case"inner":b===v-1?se-=ae:b>0&&(se-=ae/2);break}Z={left:se,top:xe,width:ae+G.width,height:U+G.height,color:O.backdropColor}}g.push({label:C,font:I,textOffset:_,options:{rotation:y,color:V,strokeColor:$,strokeWidth:R,textAlign:W,textBaseline:M,translation:[x,N],backdrop:Z}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ua(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,i=this._getLabelSizes(),l=e+s,c=i.widest.width;let u,d;return r==="left"?a?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:s,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,s,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,i=a.length;s<i;++s){const c=a[s];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=oi(e,this.left,i)-i/2,d=oi(e,this.right,l)+l/2,f=m=c):(f=oi(e,this.top,i)-i/2,m=oi(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&_0(n,a);const s=this.getLabelItems(e);for(const i of s){const l=i.options,c=i.font,u=i.label,d=i.textOffset;ll(n,u,0,d,c,l)}a&&$0(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const s=dr(n.font),i=Fr(n.padding),l=n.align;let c=s.lineHeight/2;r==="bottom"||r==="center"||Ye(r)?(c+=i.bottom,_t(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=i.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=mie(this,c,r,l);ll(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:fie(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Me(e.grid&&e.grid.z,-1),a=Me(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==wl.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,i;for(s=0,i=r.length;s<i;++s){const l=r[s];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return dr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Qh{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;gie(r)&&(n=this.register(r));const a=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,hie(e,i,n),this.override&&Rt.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in Rt[a]&&(delete Rt[a][n],this.override&&delete il[n])}}function hie(t,e,r){const n=Uf(Object.create(null),[r?Rt.get(r):{},Rt.get(e),t.defaults]);Rt.set(e,n),t.defaultRoutes&&pie(e,t.defaultRoutes),t.descriptors&&Rt.describe(e,t.descriptors)}function pie(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),s=[t].concat(n).join("."),i=e[r].split("."),l=i.pop(),c=i.join(".");Rt.route(s,a,c,l)})}function gie(t){return"id"in t&&"defaults"in t}class yie{constructor(){this.controllers=new Qh(pa,"datasets",!0),this.elements=new Qh(Fs,"elements"),this.plugins=new Qh(Object,"plugins"),this.scales=new Qh(wl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):dt(a,i=>{const l=n||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,r,n){const a=uD(e);wt(n["before"+a],[],n),r[e](n),wt(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Ia=new yie;class bie{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,n,a){a=a||{};for(const s of e){const i=s.plugin,l=i[n],c=[r,a,s.options];if(wt(l,c,i)===!1&&a.cancelable)return!1}return!0}invalidate(){He(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Me(n.options&&n.options.plugins,{}),s=xie(n);return a===!1&&!r?[]:jie(e,s,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(s,i)=>s.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function xie(t){const e={},r=[],n=Object.keys(Ia.plugins.items);for(let s=0;s<n.length;s++)r.push(Ia.getPlugin(n[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const i=a[s];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function vie(t,e){return!e&&t===!1?null:t===!0?{}:t}function jie(t,{plugins:e,localIds:r},n,a){const s=[],i=t.getContext();for(const l of e){const c=l.id,u=vie(n[c],a);u!==null&&s.push({plugin:l,options:wie(t.config,{plugin:l,local:r[c]},u,i)})}return s}function wie(t,{plugin:e,local:r},n,a){const s=t.pluginScopeKeys(e),i=t.getOptionScopes(n,s);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function eA(t,e){const r=Rt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Nie(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function Cie(t,e){return t===e?"_index_":"_value_"}function u_(t){if(t==="x"||t==="y"||t==="r")return t}function Sie(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function tA(t,...e){if(u_(t))return t;for(const r of e){const n=r.axis||Sie(r.position)||t.length>1&&u_(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function d_(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Aie(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return d_(t,"x",r[0])||d_(t,"y",r[0])}return{}}function Iie(t,e){const r=il[t.type]||{scales:{}},n=e.scales||{},a=eA(t.type,e),s=Object.create(null);return Object.keys(n).forEach(i=>{const l=n[i];if(!Ye(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=tA(i,l,Aie(i,t),Rt.scales[l.type]),u=Cie(c,a),d=r.scales||{};s[i]=zd(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||eA(l,e),d=(il[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=Nie(f,c),p=i[m+"AxisID"]||m;s[p]=s[p]||Object.create(null),zd(s[p],[{axis:m},n[p],d[f]])})}),Object.keys(s).forEach(i=>{const l=s[i];zd(l,[Rt.scales[l.type],Rt.scale])}),s}function i6(t){const e=t.options||(t.options={});e.plugins=Me(e.plugins,{}),e.scales=Iie(t,e)}function l6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function kie(t){return t=t||{},t.data=l6(t.data),i6(t),t}const f_=new Map,c6=new Set;function Zh(t,e){let r=f_.get(t);return r||(r=e(),f_.set(t,r),c6.add(r)),r}const Xu=(t,e,r)=>{const n=Mo(e,r);n!==void 0&&t.add(n)};class Tie{constructor(e){this._config=kie(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=l6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),i6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Zh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Zh(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Zh(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Zh(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:s}=this,i=this._cachedScopes(e,n),l=i.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>Xu(c,e,f))),d.forEach(f=>Xu(c,a,f)),d.forEach(f=>Xu(c,il[s]||{},f)),d.forEach(f=>Xu(c,Rt,f)),d.forEach(f=>Xu(c,XS,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),c6.has(r)&&i.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,il[r]||{},Rt.datasets[r]||{},{type:r},Rt,XS]}resolveNamedOptions(e,r,n,a=[""]){const s={$shared:!0},{resolver:i,subPrefixes:l}=m_(this._resolverCache,e,a);let c=i;if(Eie(i,r)){s.$shared=!1,n=Lo(n)?n():n;const u=this.createResolver(e,n,l);c=qc(i,n,u)}for(const u of r)s[u]=c[u];return s}createResolver(e,r,n=[""],a){const{resolver:s}=m_(this._resolverCache,e,n);return Ye(r)?qc(s,r,void 0,a):s}}function m_(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let s=n.get(a);return s||(s={resolver:gD(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,s)),s}const Die=t=>Ye(t)&&Object.getOwnPropertyNames(t).some(e=>Lo(t[e]));function Eie(t,e){const{isScriptable:r,isIndexable:n}=qq(t);for(const a of e){const s=r(a),i=n(a),l=(i||s)&&t[a];if(s&&(Lo(l)||Die(l))||i&&_t(l))return!0}return!1}var Pie="4.5.0";const Oie=["top","bottom","left","right","chartArea"];function h_(t,e){return t==="top"||t==="bottom"||Oie.indexOf(t)===-1&&e==="x"}function p_(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function g_(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),wt(r&&r.onComplete,[t],e)}function _ie(t){const e=t.chart,r=e.options.animation;wt(r&&r.onProgress,[t],e)}function u6(t){return xD()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Qp={},y_=t=>{const e=u6(t);return Object.values(Qp).filter(r=>r.canvas===e).pop()};function $ie(t,e,r){const n=Object.keys(t);for(const a of n){const s=+a;if(s>=e){const i=t[a];delete t[a],(r>0||s>e)&&(t[s+r]=i)}}}function Rie(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class Zs{static register(...e){Ia.add(...e),b_()}static unregister(...e){Ia.remove(...e),b_()}constructor(e,r){const n=this.config=new Tie(r),a=u6(e),s=y_(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||eie(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,i.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Mae(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ese(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],Qp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}es.listen(this,"complete",g_),es.listen(this,"progress",_ie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return He(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ia}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():BO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return MO(this.canvas,this.ctx),this}stop(){return es.stop(this),this}resize(e,r){es.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,r,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,BO(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),wt(n.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};dt(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((i,l)=>(i[l]=!1,i),{});let s=[];r&&(s=s.concat(Object.keys(r).map(i=>{const l=r[i],c=tA(i,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),dt(s,i=>{const l=i.options,c=l.id,u=tA(c,l),d=Me(l.type,i.dtype);(l.position===void 0||h_(l.position,u)!==h_(i.dposition))&&(l.position=i.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=Ia.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),dt(a,(i,l)=>{i||delete n[l]}),dt(n,i=>{Mr.configure(this,i,i.options),Mr.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(p_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const s=r[n];let i=this.getDatasetMeta(n);const l=s.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=l,i.indexAxis=s.indexAxis||eA(l,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const c=Ia.getController(l),{datasetElementType:u,dataElementType:d}=Rt.datasets[l];Object.assign(c,{dataElementType:Ia.getElement(d),datasetElementType:u&&Ia.getElement(u)}),i.controller=new c(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){dt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),a||dt(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(p_("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){dt(this.scales,e=>{Mr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!kO(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of r){const i=n==="_removeElements"?-s:s;$ie(e,a,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(i=>i[0]===s).map((i,l)=>l+","+i.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!kO(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Mr.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],dt(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Lo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(es.has(this)?this.attached&&!es.running(this)&&es.start(this):(this.draw(),g_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,s;for(a=0,s=r.length;a<s;++a){const i=r[a];(!e||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=Qq(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&_0(r,a),e.controller.draw(),a&&$0(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ms(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const s=Ooe.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Ko(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,a);zf(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),es.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),MO(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Qp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,i)=>{r.addEventListener(this,s,i),e[s]=i},a=(s,i,l)=>{s.offsetX=i,s.offsetY=l,this._eventHandler(s)};dt(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let i;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){dt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},dt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let s,i,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const u=i&&this.getDatasetMeta(i.datasetIndex).controller;u&&u[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:i})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[i],index:i}});!kx(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),i=s(r,e),l=n?e:s(e,r);i.length&&this.updateHoverStyle(i,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:s}=this,i=r,l=this._getActiveElements(e,a,n,i),c=Uae(e),u=Rie(e,this._lastEvent,n,c);n&&(this._lastEvent=null,wt(s.onHover,[e,l,this],this),c&&wt(s.onClick,[e,l,this],this));const d=!kx(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}he(Zs,"defaults",Rt),he(Zs,"instances",Qp),he(Zs,"overrides",il),he(Zs,"registry",Ia),he(Zs,"version",Pie),he(Zs,"getChart",y_);function b_(){return dt(Zs.instances,t=>t._plugins.invalidate())}function Mie(t,e,r){const{startAngle:n,x:a,y:s,outerRadius:i,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/i,_r(n-r));if(t.beginPath(),t.arc(a,s,i-u/2,n+f/2,r-f/2),l>0){const m=Math.min(u/l,_r(n-r));t.arc(a,s,l+u/2,r-m/2,n+m/2,!0)}else{const m=Math.min(u/2,i*_r(n-r));if(d==="round")t.arc(a,s,m,r-tt/2,n+tt/2,!0);else if(d==="bevel"){const p=2*m*m,h=-p*Math.cos(r+tt/2)+a,y=-p*Math.sin(r+tt/2)+s,g=p*Math.cos(n+tt/2)+a,b=p*Math.sin(n+tt/2)+s;t.lineTo(h,y),t.lineTo(g,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Lie(t,e,r){const{startAngle:n,pixelMargin:a,x:s,y:i,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(s,i,l,n-u,r+u),c>a?(u=a/c,t.arc(s,i,c,r+u,n-u,!0)):t.arc(s,i,a,r+Zt,n-Zt),t.closePath(),t.clip()}function Fie(t){return pD(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Bie(t,e,r,n){const a=Fie(t.options.borderRadius),s=(r-e)/2,i=Math.min(s,n*e/2),l=c=>{const u=(r-Math.min(s,c))*n/2;return yr(c,0,Math.min(s,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:yr(a.innerStart,0,i),innerEnd:yr(a.innerEnd,0,i)}}function Ol(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function _x(t,e,r,n,a,s){const{x:i,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let p=0;const h=a-c;if(n){const O=d>0?d-n:0,L=f>0?f-n:0,V=(O+L)/2,$=V!==0?h*V/(V+n):h;p=(h-$)/2}const y=Math.max(.001,h*f-r/tt)/f,g=(h-y)/2,b=c+g+p,v=a-g-p,{outerStart:j,outerEnd:C,innerStart:x,innerEnd:N}=Bie(e,m,f,v-b),S=f-j,A=f-C,I=b+j/S,k=v-C/A,D=m+x,_=m+N,M=b+x/D,P=v-N/_;if(t.beginPath(),s){const O=(I+k)/2;if(t.arc(i,l,f,I,O),t.arc(i,l,f,O,k),C>0){const R=Ol(A,k,i,l);t.arc(R.x,R.y,C,k,v+Zt)}const L=Ol(_,v,i,l);if(t.lineTo(L.x,L.y),N>0){const R=Ol(_,P,i,l);t.arc(R.x,R.y,N,v+Zt,P+Math.PI)}const V=(v-N/m+(b+x/m))/2;if(t.arc(i,l,m,v-N/m,V,!0),t.arc(i,l,m,V,b+x/m,!0),x>0){const R=Ol(D,M,i,l);t.arc(R.x,R.y,x,M+Math.PI,b-Zt)}const $=Ol(S,b,i,l);if(t.lineTo($.x,$.y),j>0){const R=Ol(S,I,i,l);t.arc(R.x,R.y,j,b-Zt,I)}}else{t.moveTo(i,l);const O=Math.cos(I)*f+i,L=Math.sin(I)*f+l;t.lineTo(O,L);const V=Math.cos(k)*f+i,$=Math.sin(k)*f+l;t.lineTo(V,$)}t.closePath()}function qie(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l}=e;let c=e.endAngle;if(s){_x(t,e,r,n,c,a);for(let u=0;u<s;++u)t.fill();isNaN(l)||(c=i+(l%Pt||Pt))}return _x(t,e,r,n,c,a),t.fill(),c}function Vie(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m,borderRadius:p}=c,h=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,h?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let y=e.endAngle;if(s){_x(t,e,r,n,y,a);for(let g=0;g<s;++g)t.stroke();isNaN(l)||(y=i+(l%Pt||Pt))}h&&Lie(t,e,y),c.selfJoin&&y-i>=tt&&p===0&&d!=="miter"&&Mie(t,e,y),s||(_x(t,e,r,n,y,a),t.stroke())}class Nd extends Fs{constructor(r){super();he(this,"circumference");he(this,"endAngle");he(this,"fullCircles");he(this,"innerRadius");he(this,"outerRadius");he(this,"pixelMargin");he(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.getProps(["x","y"],a),{angle:i,distance:l}=Eq(s,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),p=(this.options.spacing+this.options.borderWidth)/2,h=Me(m,u-c),y=Wf(i,c,u)&&c!==u,g=h>=Pt||y,b=ds(l,d+p,f+p);return g&&b}getCenterPoint(r){const{x:n,y:a,startAngle:s,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(s+i)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Pt?Math.floor(a/Pt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(tt,a||0)),d=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,qie(r,this,d,i,l),Vie(r,this,d,i,l),r.restore()}}he(Nd,"id","arc"),he(Nd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),he(Nd,"defaultRoutes",{backgroundColor:"backgroundColor"}),he(Nd,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function d6(t,e,r=e){t.lineCap=Me(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Me(r.borderDash,e.borderDash)),t.lineDashOffset=Me(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Me(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Me(r.borderWidth,e.borderWidth),t.strokeStyle=Me(r.borderColor,e.borderColor)}function Uie(t,e,r){t.lineTo(r.x,r.y)}function zie(t){return t.stepped?fse:t.tension||t.cubicInterpolationMode==="monotone"?mse:Uie}function f6(t,e,r={}){const n=t.length,{start:a=0,end:s=n-1}=r,{start:i,end:l}=e,c=Math.max(a,i),u=Math.min(s,l),d=a<i&&s<i||a>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function Wie(t,e,r,n){const{points:a,options:s}=e,{count:i,start:l,loop:c,ilen:u}=f6(a,r,n),d=zie(s);let{move:f=!0,reverse:m}=n||{},p,h,y;for(p=0;p<=u;++p)h=a[(l+(m?u-p:p))%i],!h.skip&&(f?(t.moveTo(h.x,h.y),f=!1):d(t,y,h,m,s.stepped),y=h);return c&&(h=a[(l+(m?u:0))%i],d(t,y,h,m,s.stepped)),!!c}function Hie(t,e,r,n){const a=e.points,{count:s,start:i,ilen:l}=f6(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,p,h,y,g,b;const v=C=>(i+(u?l-C:C))%s,j=()=>{y!==g&&(t.lineTo(d,g),t.lineTo(d,y),t.lineTo(d,b))};for(c&&(p=a[v(0)],t.moveTo(p.x,p.y)),m=0;m<=l;++m){if(p=a[v(m)],p.skip)continue;const C=p.x,x=p.y,N=C|0;N===h?(x<y?y=x:x>g&&(g=x),d=(f*d+C)/++f):(j(),t.lineTo(C,x),h=N,f=0,y=g=x),b=x}j()}function rA(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Hie:Wie}function Gie(t){return t.stepped?Wse:t.tension||t.cubicInterpolationMode==="monotone"?Hse:gi}function Yie(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),d6(t,e.options),t.stroke(a)}function Kie(t,e,r,n){const{segments:a,options:s}=e,i=rA(e);for(const l of a)d6(t,s,l.style),t.beginPath(),i(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Jie=typeof Path2D=="function";function Xie(t,e,r,n){Jie&&!e.options.segment?Yie(t,e,r,n):Kie(t,e,r,n)}class uo extends Fs{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Mse(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Qse(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],s=this.points,i=Xq(this,{property:r,start:a,end:a});if(!i.length)return;const l=[],c=Gie(n);let u,d;for(u=0,d=i.length;u<d;++u){const{start:f,end:m}=i[u],p=s[f],h=s[m];if(p===h){l.push(p);continue}const y=Math.abs((a-p[r])/(h[r]-p[r])),g=c(p,h,y,n.stepped);g[r]=e[r],l.push(g)}return l.length===1?l[0]:l}pathSegment(e,r,n){return rA(this)(e,this,r,n)}path(e,r,n){const a=this.segments,s=rA(this);let i=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)i&=s(e,this,l,{start:r,end:r+n-1});return!!i}draw(e,r,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Xie(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}he(uo,"id","line"),he(uo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),he(uo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),he(uo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function x_(t,e,r,n){const a=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<a.radius+a.hitRadius}class Zp extends Fs{constructor(r){super();he(this,"parsed");he(this,"skip");he(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.options,{x:i,y:l}=this.getProps(["x","y"],a);return Math.pow(r-i,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return x_(this,r,"x",n)}inYRange(r,n){return x_(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!ms(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,QS(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}he(Zp,"id","point"),he(Zp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),he(Zp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function m6(t,e){const{x:r,y:n,base:a,width:s,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=i/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=s/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function fo(t,e,r,n){return t?0:yr(e,r,n)}function Qie(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,s=Bq(n);return{t:fo(a.top,s.top,0,r),r:fo(a.right,s.right,0,e),b:fo(a.bottom,s.bottom,0,r),l:fo(a.left,s.left,0,e)}}function Zie(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=$i(a),i=Math.min(e,r),l=t.borderSkipped,c=n||Ye(a);return{topLeft:fo(!c||l.top||l.left,s.topLeft,0,i),topRight:fo(!c||l.top||l.right,s.topRight,0,i),bottomLeft:fo(!c||l.bottom||l.left,s.bottomLeft,0,i),bottomRight:fo(!c||l.bottom||l.right,s.bottomRight,0,i)}}function ele(t){const e=m6(t),r=e.right-e.left,n=e.bottom-e.top,a=Qie(t,r/2,n/2),s=Zie(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function GN(t,e,r,n){const a=e===null,s=r===null,l=t&&!(a&&s)&&m6(t,n);return l&&(a||ds(e,l.left,l.right))&&(s||ds(r,l.top,l.bottom))}function tle(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function rle(t,e){t.rect(e.x,e.y,e.w,e.h)}function YN(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,i=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+i,radius:t.radius}}class eg extends Fs{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:i}=ele(this),l=tle(i.radius)?Hf:rle;e.save(),(i.w!==s.w||i.h!==s.h)&&(e.beginPath(),l(e,YN(i,r,s)),e.clip(),l(e,YN(s,-r,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,YN(s,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return GN(this,e,r,n)}inXRange(e,r){return GN(this,e,null,r)}inYRange(e,r){return GN(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+a)/2:r,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}he(eg,"id","bar"),he(eg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),he(eg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var nle=Object.freeze({__proto__:null,ArcElement:Nd,BarElement:eg,LineElement:uo,PointElement:Zp});const nA=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],v_=nA.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function h6(t){return nA[t%nA.length]}function p6(t){return v_[t%v_.length]}function ale(t,e){return t.borderColor=h6(e),t.backgroundColor=p6(e),++e}function sle(t,e){return t.backgroundColor=t.data.map(()=>h6(e++)),e}function ole(t,e){return t.backgroundColor=t.data.map(()=>p6(e++)),e}function ile(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof Ii?e=sle(r,e):a instanceof Yd?e=ole(r,e):a&&(e=ale(r,e))}}function j_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function lle(t){return t&&(t.borderColor||t.backgroundColor)}function cle(){return Rt.borderColor!=="rgba(0,0,0,0.1)"||Rt.backgroundColor!=="rgba(0,0,0,0.1)"}var ule={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:s}=a,i=j_(n)||lle(a)||s&&j_(s)||cle();if(!r.forceOverride&&i)return;const l=ile(t);n.forEach(l)}};function dle(t,e,r,n,a){const s=a.samples||n;if(s>=r)return t.slice(e,e+r);const i=[],l=(r-2)/(s-2);let c=0;const u=e+r-1;let d=e,f,m,p,h,y;for(i[c++]=t[d],f=0;f<s-2;f++){let g=0,b=0,v;const j=Math.floor((f+1)*l)+1+e,C=Math.min(Math.floor((f+2)*l)+1,r)+e,x=C-j;for(v=j;v<C;v++)g+=t[v].x,b+=t[v].y;g/=x,b/=x;const N=Math.floor(f*l)+1+e,S=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:A,y:I}=t[d];for(p=h=-1,v=N;v<S;v++)h=.5*Math.abs((A-g)*(t[v].y-I)-(A-t[v].x)*(b-I)),h>p&&(p=h,m=t[v],y=v);i[c++]=m,d=y}return i[c++]=t[u],i}function fle(t,e,r,n){let a=0,s=0,i,l,c,u,d,f,m,p,h,y;const g=[],b=e+r-1,v=t[e].x,C=t[b].x-v;for(i=e;i<e+r;++i){l=t[i],c=(l.x-v)/C*n,u=l.y;const x=c|0;if(x===d)u<h?(h=u,f=i):u>y&&(y=u,m=i),a=(s*a+l.x)/++s;else{const N=i-1;if(!He(f)&&!He(m)){const S=Math.min(f,m),A=Math.max(f,m);S!==p&&S!==N&&g.push({...t[S],x:a}),A!==p&&A!==N&&g.push({...t[A],x:a})}i>0&&N!==p&&g.push(t[N]),g.push(l),d=x,s=0,h=y=u,f=m=p=i}}return g}function g6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function w_(t){t.data.datasets.forEach(e=>{g6(e)})}function mle(t,e){const r=e.length;let n=0,a;const{iScale:s}=t,{min:i,max:l,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(n=yr(fs(e,s.axis,i).lo,0,r-1)),u?a=yr(fs(e,s.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var hle={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){w_(t);return}const n=t.width;t.data.datasets.forEach((a,s)=>{const{_data:i,indexAxis:l}=a,c=t.getDatasetMeta(s),u=i||a.data;if(jd([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=mle(c,u);const p=r.threshold||4*n;if(m<=p){g6(a);return}He(i)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let h;switch(r.algorithm){case"lttb":h=dle(u,f,m,n,r);break;case"min-max":h=fle(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=h})},destroy(t){w_(t)}};function ple(t,e,r){const n=t.segments,a=t.points,s=e.points,i=[];for(const l of n){let{start:c,end:u}=l;u=L0(c,u,a);const d=aA(r,a[c],a[u],l.loop);if(!e.segments){i.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=Xq(e,d);for(const m of f){const p=aA(r,s[m.start],s[m.end],m.loop),h=Jq(l,a,p);for(const y of h)i.push({source:y,target:m,start:{[r]:N_(d,p,"start",Math.max)},end:{[r]:N_(d,p,"end",Math.min)}})}}return i}function aA(t,e,r,n){if(n)return;let a=e[t],s=r[t];return t==="angle"&&(a=_r(a),s=_r(s)),{property:t,start:a,end:s}}function gle(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:i,end:l})=>{l=L0(i,l,a);const c=a[i],u=a[l];n!==null?(s.push({x:c.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:c.y}),s.push({x:r,y:u.y}))}),s}function L0(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function N_(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function y6(t,e){let r=[],n=!1;return _t(t)?(n=!0,r=t):r=gle(t,e),r.length?new uo({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function C_(t){return t&&t.fill!==!1}function yle(t,e,r){let a=t[e].fill;const s=[e];let i;if(!r)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!Ht(a))return a;if(i=t[a],!i)return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function ble(t,e,r){const n=wle(t);if(Ye(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Ht(a)&&Math.floor(a)===a?xle(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function xle(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function vle(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ye(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function jle(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ye(t)?n=t.value:n=e.getBaseValue(),n}function wle(t){const e=t.options,r=e.fill;let n=Me(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Nle(t){const{scale:e,index:r,line:n}=t,a=[],s=n.segments,i=n.points,l=Cle(e,r);l.push(y6({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){const u=s[c];for(let d=u.start;d<=u.end;d++)Sle(a,i[d],l)}return new uo({points:a,options:{}})}function Cle(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const s=n[a];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function Sle(t,e,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:i,last:l,point:c}=Ale(s,e,"x");if(!(!c||i&&l)){if(i)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function Ale(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],s=t.segments,i=t.points;let l=!1,c=!1;for(let u=0;u<s.length;u++){const d=s[u],f=i[d.start][r],m=i[d.end][r];if(ds(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class b6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:s,radius:i}=this;return r=r||{start:0,end:Pt},e.arc(a,s,i,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,s=e.angle;return{x:r+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function Ile(t){const{chart:e,fill:r,line:n}=t;if(Ht(r))return kle(e,r);if(r==="stack")return Nle(t);if(r==="shape")return!0;const a=Tle(t);return a instanceof b6?a:y6(a,n)}function kle(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function Tle(t){return(t.scale||{}).getPointPositionForValue?Ele(t):Dle(t)}function Dle(t){const{scale:e={},fill:r}=t,n=vle(r,e);if(Ht(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function Ele(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,i=jle(r,e,s),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,s);return new b6({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(i)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,i));return l}function KN(t,e,r){const n=Ile(e),{chart:a,index:s,line:i,scale:l,axis:c}=e,u=i.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:p=f}=d||{},h=a.getDatasetMeta(s),y=Qq(a,h);n&&i.points.length&&(_0(t,r),Ple(t,{line:i,target:n,above:m,below:p,area:r,scale:l,axis:c,clip:y}),$0(t))}function Ple(t,e){const{line:r,target:n,above:a,below:s,area:i,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save();let d=s;s!==a&&(u==="x"?(S_(t,n,i.top),JN(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),S_(t,n,i.bottom)):u==="y"&&(A_(t,n,i.left),JN(t,{line:r,target:n,color:s,scale:l,property:u,clip:c}),t.restore(),t.save(),A_(t,n,i.right),d=a)),JN(t,{line:r,target:n,color:d,scale:l,property:u,clip:c}),t.restore()}function S_(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[L0(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function A_(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[L0(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(r,d.y),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(r,f.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function JN(t,e){const{line:r,target:n,property:a,color:s,scale:i,clip:l}=e,c=ple(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:p=s}={}}=u,h=n!==!0;t.save(),t.fillStyle=p,Ole(t,i,l,h&&aA(a,f,m)),t.beginPath();const y=!!r.pathSegment(t,u);let g;if(h){y?t.closePath():I_(t,n,m,a);const b=!!n.pathSegment(t,d,{move:y,reverse:!0});g=y&&b,g||I_(t,n,f,a)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function Ole(t,e,r,n){const a=e.chart.chartArea,{property:s,start:i,end:l}=n||{};if(s==="x"||s==="y"){let c,u,d,f;s==="x"?(c=i,u=a.top,d=l,f=a.bottom):(c=a.left,u=i,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function I_(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var _le={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let s,i,l,c;for(i=0;i<n;++i)s=t.getDatasetMeta(i),l=s.dataset,c=null,l&&l.options&&l instanceof uo&&(c={visible:t.isDatasetVisible(i),index:i,fill:ble(l,i,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(i=0;i<n;++i)c=a[i],!(!c||c.fill===!1)&&(c.fill=yle(a,i,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let i=a.length-1;i>=0;--i){const l=a[i].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&KN(t.ctx,l,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const s=n[a].$filler;C_(s)&&KN(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!C_(n)||r.drawTime!=="beforeDatasetDraw"||KN(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const k_=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},$le=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let T_=class extends Fs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=wt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=dr(n.font),s=a.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=k_(n,s);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(i,s,l,c)+10):(d=this.maxHeight,u=this._fitCols(i,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:s,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,p=-d;return this.legendItems.forEach((h,y)=>{const g=n+r/2+s.measureText(h.text).width;(y===0||u[u.length-1]+g+2*l>i)&&(f+=d,u[u.length-(y>0?0:1)]=0,p+=d,m++),c[y]={left:0,top:p,row:m,width:g,height:a},u[u.length-1]+=g+l}),f}_fitCols(e,r,n,a){const{ctx:s,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=i-e;let f=l,m=0,p=0,h=0,y=0;return this.legendItems.forEach((g,b)=>{const{itemWidth:v,itemHeight:j}=Rle(n,r,s,g,a);b>0&&p+j+2*l>d&&(f+=m+l,u.push({width:m,height:p}),h+=m+l,y++,m=p=0),c[b]={left:h,top:p,col:y,width:v,height:j},m=Math.max(m,v),p+=j+l}),f+=m,u.push({width:m,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:s}}=this,i=uc(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=Or(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=Or(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=i.leftForLtr(i.x(c),u.width),c+=u.width+a}else{let l=0,c=Or(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=Or(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=i.leftForLtr(i.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;_0(e,this),this._draw(),$0(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:s,labels:i}=e,l=Rt.color,c=uc(e.rtl,this.left,this.width),u=dr(i.font),{padding:d}=i,f=u.size,m=f/2;let p;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:h,boxHeight:y,itemHeight:g}=k_(i,f),b=function(N,S,A){if(isNaN(h)||h<=0||isNaN(y)||y<0)return;a.save();const I=Me(A.lineWidth,1);if(a.fillStyle=Me(A.fillStyle,l),a.lineCap=Me(A.lineCap,"butt"),a.lineDashOffset=Me(A.lineDashOffset,0),a.lineJoin=Me(A.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=Me(A.strokeStyle,l),a.setLineDash(Me(A.lineDash,[])),i.usePointStyle){const k={radius:y*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:I},D=c.xPlus(N,h/2),_=S+m;Fq(a,k,D,_,i.pointStyleWidth&&h)}else{const k=S+Math.max((f-y)/2,0),D=c.leftForLtr(N,h),_=$i(A.borderRadius);a.beginPath(),Object.values(_).some(M=>M!==0)?Hf(a,{x:D,y:k,w:h,h:y,radius:_}):a.rect(D,k,h,y),a.fill(),I!==0&&a.stroke()}a.restore()},v=function(N,S,A){ll(a,A.text,N,S+g/2,u,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},j=this.isHorizontal(),C=this._computeTitleHeight();j?p={x:Or(s,this.left+d,this.right-n[0]),y:this.top+d+C,line:0}:p={x:this.left+d,y:Or(s,this.top+C+d,this.bottom-r[0].height),line:0},Gq(this.ctx,e.textDirection);const x=g+d;this.legendItems.forEach((N,S)=>{a.strokeStyle=N.fontColor,a.fillStyle=N.fontColor;const A=a.measureText(N.text).width,I=c.textAlign(N.textAlign||(N.textAlign=i.textAlign)),k=h+m+A;let D=p.x,_=p.y;c.setWidth(this.width),j?S>0&&D+k+d>this.right&&(_=p.y+=x,p.line++,D=p.x=Or(s,this.left+d,this.right-n[p.line])):S>0&&_+x>this.bottom&&(D=p.x=D+r[p.line].width+d,p.line++,_=p.y=Or(s,this.top+C+d,this.bottom-r[p.line].height));const M=c.x(D);if(b(M,_,N),D=tse(I,D+h+m,j?D+k:this.right,e.rtl),v(c.x(D),_,N),j)p.x+=k+d;else if(typeof N.text!="string"){const P=u.lineHeight;p.y+=x6(N,P)+d}else p.y+=x}),Yq(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=dr(r.font),a=Fr(r.padding);if(!r.display)return;const s=uc(e.rtl,this.left,this.width),i=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=Or(e.align,f,this.right-m);else{const h=this.columnSizes.reduce((y,g)=>Math.max(y,g.height),0);d=u+Or(e.align,this.top,this.bottom-h-e.labels.padding-this._computeTitleHeight())}const p=Or(l,f,f+m);i.textAlign=s.textAlign(mD(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=n.string,ll(i,r.text,p,d,n)}_computeTitleHeight(){const e=this.options.title,r=dr(e.font),n=Fr(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,s;if(ds(e,this.left,this.right)&&ds(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],ds(e,a.left,a.left+a.width)&&ds(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Fle(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,s=$le(a,n);a&&!s&&wt(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&wt(r.onHover,[e,n,this],this)}else n&&wt(r.onClick,[e,n,this],this)}};function Rle(t,e,r,n,a){const s=Mle(n,t,e,r),i=Lle(a,n,e.lineHeight);return{itemWidth:s,itemHeight:i}}function Mle(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((s,i)=>s.length>i.length?s:i)),e+r.size/2+n.measureText(a).width}function Lle(t,e,r){let n=t;return typeof e.text!="string"&&(n=x6(e,r)),n}function x6(t,e){const r=t.text?t.text.length:0;return e*r}function Fle(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Ble={id:"legend",_element:T_,start(t,e,r){const n=t.legend=new T_({ctx:t.ctx,options:r,chart:t});Mr.configure(t,n,r),Mr.addBox(t,n)},stop(t){Mr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Mr.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Fr(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:i&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class wD extends Fs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=_t(n.text)?n.text.length:1;this._padding=Fr(n.padding);const s=a*dr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:s,options:i}=this,l=i.align;let c=0,u,d,f;return this.isHorizontal()?(d=Or(l,n,s),f=r+e,u=s-n):(i.position==="left"?(d=n+e,f=Or(l,a,r),c=tt*-.5):(d=s-e,f=Or(l,r,a),c=tt*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=dr(r.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(s);ll(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:mD(r.align),textBaseline:"middle",translation:[i,l]})}}function qle(t,e){const r=new wD({ctx:t.ctx,options:e,chart:t});Mr.configure(t,r,e),Mr.addBox(t,r),t.titleBlock=r}var Vle={id:"title",_element:wD,start(t,e,r){qle(t,r)},stop(t){const e=t.titleBlock;Mr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Mr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ep=new WeakMap;var Ule={id:"subtitle",start(t,e,r){const n=new wD({ctx:t.ctx,options:r,chart:t});Mr.configure(t,n,r),Mr.addBox(t,n),ep.set(t,n)},stop(t){Mr.removeBox(t,ep.get(t)),ep.delete(t)},beforeUpdate(t,e,r){const n=ep.get(t);Mr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cd={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,s=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,i,l;for(s=0,i=t.length;s<i;++s){const c=t[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=JS(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Sa(t,e){return e&&(_t(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ts(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function zle(t,e){const{element:r,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:i,value:l}=s.getLabelAndValue(a);return{chart:t,label:i,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function D_(t,e){const r=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:i,boxHeight:l}=e,c=dr(e.bodyFont),u=dr(e.titleFont),d=dr(e.footerFont),f=s.length,m=a.length,p=n.length,h=Fr(e.padding);let y=h.height,g=0,b=n.reduce((C,x)=>C+x.before.length+x.lines.length+x.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),b){const C=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;y+=p*C+(b-p)*c.lineHeight+(b-1)*e.bodySpacing}m&&(y+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let v=0;const j=function(C){g=Math.max(g,r.measureText(C).width+v)};return r.save(),r.font=u.string,dt(t.title,j),r.font=c.string,dt(t.beforeBody.concat(t.afterBody),j),v=e.displayColors?i+2+e.boxPadding:0,dt(n,C=>{dt(C.before,j),dt(C.lines,j),dt(C.after,j)}),v=0,r.font=d.string,dt(t.footer,j),r.restore(),g+=h.width,{width:g,height:y}}function Wle(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Hle(t,e,r,n){const{x:a,width:s}=n,i=r.caretSize+r.caretPadding;if(t==="left"&&a+s+i>e.width||t==="right"&&a-s-i<0)return!0}function Gle(t,e,r,n){const{x:a,width:s}=r,{width:i,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=s/2?u="left":a>=i-s/2&&(u="right"),Hle(u,t,e,r)&&(u="center"),u}function E_(t,e,r){const n=r.yAlign||e.yAlign||Wle(t,r);return{xAlign:r.xAlign||e.xAlign||Gle(t,e,r,n),yAlign:n}}function Yle(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Kle(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function P_(t,e,r,n){const{caretSize:a,caretPadding:s,cornerRadius:i}=t,{xAlign:l,yAlign:c}=r,u=a+s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:p}=$i(i);let h=Yle(e,l);const y=Kle(e,c,u);return c==="center"?l==="left"?h+=u:l==="right"&&(h-=u):l==="left"?h-=Math.max(d,m)+a:l==="right"&&(h+=Math.max(f,p)+a),{x:yr(h,0,n.width-e.width),y:yr(y,0,n.height-e.height)}}function tp(t,e,r){const n=Fr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function O_(t){return Sa([],ts(t))}function Jle(t,e,r){return Ko(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function __(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const v6={beforeTitle:Xa,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Xa,beforeBody:Xa,beforeLabel:Xa,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return He(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Xa,afterBody:Xa,beforeFooter:Xa,footer:Xa,afterFooter:Xa};function Jr(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?v6[e].call(r,n):a}var IC;let $_=(IC=class extends Fs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new Zq(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Jle(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Jr(n,"beforeTitle",this,e),s=Jr(n,"title",this,e),i=Jr(n,"afterTitle",this,e);let l=[];return l=Sa(l,ts(a)),l=Sa(l,ts(s)),l=Sa(l,ts(i)),l}getBeforeBody(e,r){return O_(Jr(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return dt(e,s=>{const i={before:[],lines:[],after:[]},l=__(n,s);Sa(i.before,ts(Jr(l,"beforeLabel",this,s))),Sa(i.lines,Jr(l,"label",this,s)),Sa(i.after,ts(Jr(l,"afterLabel",this,s))),a.push(i)}),a}getAfterBody(e,r){return O_(Jr(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Jr(n,"beforeFooter",this,e),s=Jr(n,"footer",this,e),i=Jr(n,"afterFooter",this,e);let l=[];return l=Sa(l,ts(a)),l=Sa(l,ts(s)),l=Sa(l,ts(i)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],s=[],i=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(zle(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),dt(l,d=>{const f=__(e.callbacks,d);a.push(Jr(f,"labelColor",this,d)),s.push(Jr(f,"labelPointStyle",this,d)),i.push(Jr(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let s,i=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{const l=Cd[n.position].call(this,a,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const c=this._size=D_(this,n),u=Object.assign({},l,c),d=E_(this.chart,n,u),f=P_(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:s}=this,{caretSize:i,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=$i(l),{x:m,y:p}=e,{width:h,height:y}=r;let g,b,v,j,C,x;return s==="center"?(C=p+y/2,a==="left"?(g=m,b=g-i,j=C+i,x=C-i):(g=m+h,b=g+i,j=C-i,x=C+i),v=g):(a==="left"?b=m+Math.max(c,d)+i:a==="right"?b=m+h-Math.max(u,f)-i:b=this.caretX,s==="top"?(j=p,C=j-i,g=b-i,v=b+i):(j=p+y,C=j+i,g=b+i,v=b-i),x=j),{x1:g,x2:b,x3:v,y1:j,y2:C,y3:x}}drawTitle(e,r,n){const a=this.title,s=a.length;let i,l,c;if(s){const u=uc(n.rtl,this.x,this.width);for(e.x=tp(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",i=dr(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=i.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,s){const i=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=s,d=dr(s.bodyFont),f=tp(this,"left",s),m=a.x(f),p=c<d.lineHeight?(d.lineHeight-c)/2:0,h=r.y+p;if(s.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=a.leftForLtr(m,u)+u/2,b=h+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,QS(e,y,g,b),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,QS(e,y,g,b)}else{e.lineWidth=Ye(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const y=a.leftForLtr(m,u),g=a.leftForLtr(a.xPlus(m,1),u-2),b=$i(i.borderRadius);Object.values(b).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Hf(e,{x:y,y:h,w:u,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Hf(e,{x:g,y:h+1,w:u-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,h,u,c),e.strokeRect(y,h,u,c),e.fillStyle=i.backgroundColor,e.fillRect(g,h+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:s,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=dr(n.bodyFont);let m=f.lineHeight,p=0;const h=uc(n.rtl,this.x,this.width),y=function(A){r.fillText(A,h.x(e.x+p),e.y+m/2),e.y+=m+s},g=h.textAlign(i);let b,v,j,C,x,N,S;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,e.x=tp(this,g,n),r.fillStyle=n.bodyColor,dt(this.beforeBody,y),p=l&&g!=="right"?i==="center"?u/2+d:u+2+d:0,C=0,N=a.length;C<N;++C){for(b=a[C],v=this.labelTextColors[C],r.fillStyle=v,dt(b.before,y),j=b.lines,l&&j.length&&(this._drawColorBox(r,e,C,h,n),m=Math.max(f.lineHeight,c)),x=0,S=j.length;x<S;++x)y(j[x]),m=f.lineHeight;dt(b.after,y)}p=0,m=f.lineHeight,dt(this.afterBody,y),e.y-=s}drawFooter(e,r,n){const a=this.footer,s=a.length;let i,l;if(s){const c=uc(n.rtl,this.x,this.width);for(e.x=tp(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",i=dr(n.footerFont),r.fillStyle=n.footerColor,r.font=i.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:s,yAlign:i}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:h}=$i(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),i==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-h),r.quadraticCurveTo(l+u,c+d,l+u-h,c+d),i==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+p,c+d),r.quadraticCurveTo(l,c+d,l,c+d-p),i==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const i=Cd[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=D_(this,e),c=Object.assign({},i,this._size),u=E_(r,e,c),d=P_(e,c,u,r);(a._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=Fr(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),Gq(e,r.textDirection),s.y+=i.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),Yq(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!kx(n,a),i=this._positionChanged(a,r);(s||i)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],i=this._getActiveElements(e,s,r,n),l=this._positionChanged(i,e),c=r||!kx(i,s)||l;return c&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:n,caretY:a,options:s}=this,i=Cd[s.position].call(this,e,r);return i!==!1&&(n!==i.x||a!==i.y)}},he(IC,"positioners",Cd),IC);var Xle={id:"tooltip",_element:$_,positioners:Cd,afterInit(t,e,r){r&&(t.tooltip=new $_({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:v6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Qle=Object.freeze({__proto__:null,Colors:ule,Decimation:hle,Filler:_le,Legend:Ble,SubTitle:Ule,Title:Vle,Tooltip:Xle});const Zle=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function ece(t,e,r,n){const a=t.indexOf(e);if(a===-1)return Zle(t,e,r,n);const s=t.lastIndexOf(e);return a!==s?r:a}const tce=(t,e)=>t===null?null:yr(Math.round(t),0,e);function R_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class sA extends wl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(He(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:ece(n,e,Me(r,e),this._addedLabels),tce(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=r;i++)a.push({value:i});return a}getLabelForValue(e){return R_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}he(sA,"id","category"),he(sA,"defaults",{ticks:{callback:R_}});function rce(t,e){const r=[],{bounds:a,step:s,min:i,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,p=s||1,h=d-1,{min:y,max:g}=e,b=!He(i),v=!He(l),j=!He(u),C=(g-y)/(f+1);let x=DO((g-y)/h/p)*p,N,S,A,I;if(x<1e-14&&!b&&!v)return[{value:y},{value:g}];I=Math.ceil(g/x)-Math.floor(y/x),I>h&&(x=DO(I*x/h/p)*p),He(c)||(N=Math.pow(10,c),x=Math.ceil(x*N)/N),a==="ticks"?(S=Math.floor(y/x)*x,A=Math.ceil(g/x)*x):(S=y,A=g),b&&v&&s&&Yae((l-i)/s,x/1e3)?(I=Math.round(Math.min((l-i)/x,d)),x=(l-i)/I,S=i,A=l):j?(S=b?i:S,A=v?l:A,I=u-1,x=(A-S)/I):(I=(A-S)/x,Wd(I,Math.round(I),x/1e3)?I=Math.round(I):I=Math.ceil(I));const k=Math.max(EO(x),EO(S));N=Math.pow(10,He(c)?k:c),S=Math.round(S*N)/N,A=Math.round(A*N)/N;let D=0;for(b&&(m&&S!==i?(r.push({value:i}),S<i&&D++,Wd(Math.round((S+D*x)*N)/N,i,M_(i,C,t))&&D++):S<i&&D++);D<I;++D){const _=Math.round((S+D*x)*N)/N;if(v&&_>l)break;r.push({value:_})}return v&&m&&A!==l?r.length&&Wd(r[r.length-1].value,l,M_(l,C,t))?r[r.length-1].value=l:r.push({value:l}):(!v||A===l)&&r.push({value:A}),r}function M_(t,e,{horizontal:r,minRotation:n}){const a=ua(n),s=(r?Math.sin(a):Math.cos(a))||.001,i=.75*e*(""+t).length;return Math.min(e/s,i)}class $x extends wl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return He(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const i=c=>a=r?a:c,l=c=>s=n?s:c;if(e){const c=Ma(a),u=Ma(s);c<0&&u<0?l(0):c>0&&u>0&&i(0)}if(a===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||i(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,i=rce(a,s);return e.bounds==="ticks"&&Dq(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Qm(e,this.chart.options.locale,this.options.ticks.format)}}class oA extends $x{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ht(e)?e:0,this.max=Ht(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ua(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}he(oA,"id","linear"),he(oA,"defaults",{ticks:{callback:O0.formatters.numeric}});const Yf=t=>Math.floor(co(t)),li=(t,e)=>Math.pow(10,Yf(t)+e);function L_(t){return t/Math.pow(10,Yf(t))===1}function F_(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function nce(t,e){const r=e-t;let n=Yf(r);for(;F_(t,e,n)>10;)n++;for(;F_(t,e,n)<10;)n--;return Math.min(n,Yf(t))}function ace(t,{min:e,max:r}){e=gn(t.min,e);const n=[],a=Yf(e);let s=nce(e,r),i=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((e-c)*i)/i,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,s)),m=gn(t.min,Math.round((c+d+f*Math.pow(10,s))*i)/i);for(;m<r;)n.push({value:m,major:L_(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,i=s>=0?1:i),m=Math.round((c+d+f*Math.pow(10,s))*i)/i;const p=gn(t.max,m);return n.push({value:p,major:L_(p),significand:f}),n}class iA extends wl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=$x.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Ht(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ht(e)?Math.max(0,e):null,this.max=Ht(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ht(this._userMin)&&(this.min=e===li(this.min,0)?li(this.min,-1):li(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const s=l=>n=e?n:l,i=l=>a=r?a:l;n===a&&(n<=0?(s(1),i(10)):(s(li(n,-1)),i(li(a,1)))),n<=0&&s(li(a,-1)),a<=0&&i(li(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=ace(r,this);return e.bounds==="ticks"&&Dq(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Qm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=co(e),this._valueRange=co(this.max)-co(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(co(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}he(iA,"id","logarithmic"),he(iA,"defaults",{ticks:{callback:O0.formatters.logarithmic,major:{enabled:!0}}});function lA(t){const e=t.ticks;if(e.display&&t.display){const r=Fr(e.backdropPadding);return Me(e.font&&e.font.size,Rt.font.size)+r.height}return 0}function sce(t,e,r){return r=_t(r)?r:[r],{w:dse(t,e.string,r),h:r.length*e.lineHeight}}function B_(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function oce(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,i=t.options.pointLabels,l=i.centerPointLabels?tt/s:0;for(let c=0;c<s;c++){const u=i.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=dr(u.font),m=sce(t.ctx,f,t._pointLabels[c]);n[c]=m;const p=_r(t.getIndexAngle(c)+l),h=Math.round(dD(p)),y=B_(h,d.x,m.w,0,180),g=B_(h,d.y,m.h,90,270);ice(r,e,p,y,g)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=uce(t,n,a)}function ice(t,e,r,n,a){const s=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/i,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/i,t.b=Math.max(t.b,e.b+c))}function lce(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:s,padding:i,size:l}=r,c=t.getPointPosition(e,n+a+i,s),u=Math.round(dD(_r(c.angle+Zt))),d=mce(c.y,l.h,u),f=dce(u),m=fce(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function cce(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:s}=t;return!(ms({x:r,y:n},e)||ms({x:r,y:s},e)||ms({x:a,y:n},e)||ms({x:a,y:s},e))}function uce(t,e,r){const n=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:i,display:l}=s.pointLabels,c={extra:lA(s)/2,additionalAngle:i?tt/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=lce(t,d,c);n.push(f),l==="auto"&&(f.visible=cce(f,u),f.visible&&(u=f))}return n}function dce(t){return t===0||t===180?"center":t<180?"left":"right"}function fce(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function mce(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function hce(t,e,r){const{left:n,top:a,right:s,bottom:i}=r,{backdropColor:l}=e;if(!He(l)){const c=$i(e.borderRadius),u=Fr(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=s-n+u.width,p=i-a+u.height;Object.values(c).some(h=>h!==0)?(t.beginPath(),Hf(t,{x:d,y:f,w:m,h:p,radius:c}),t.fill()):t.fillRect(d,f,m,p)}}function pce(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const s=t._pointLabelItems[a];if(!s.visible)continue;const i=n.setContext(t.getPointLabelContext(a));hce(r,i,s);const l=dr(i.font),{x:c,y:u,textAlign:d}=s;ll(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:i.color,textAlign:d,textBaseline:"middle"})}}function j6(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Pt);else{let s=t.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=t.getPointPosition(i,e),a.lineTo(s.x,s.y)}}function gce(t,e,r,n,a){const s=t.ctx,i=e.circular,{color:l,lineWidth:c}=e;!i&&!n||!l||!c||r<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),j6(t,r,i,n),s.closePath(),s.stroke(),s.restore())}function yce(t,e,r){return Ko(t,{label:r,index:e,type:"pointLabel"})}class Sd extends $x{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Fr(lA(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Ht(e)&&!isNaN(e)?e:0,this.max=Ht(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/lA(this.options))}generateTickLabels(e){$x.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=wt(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?oce(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Pt/(this._pointLabels.length||1),n=this.options.startAngle||0;return _r(e*r+ua(n))}getDistanceFromCenterForValue(e){if(He(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(He(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return yce(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Zt+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),j6(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:s}=r,i=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&pce(this,i),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),p=a.setContext(m),h=s.setContext(m);gce(this,p,c,i,h)}}),n.display){for(e.save(),l=i-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=dr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,i=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=Fr(u.backdropPadding);e.fillRect(-i/2-f.left,-s-d.size/2-f.top,i+f.width,d.size+f.height)}ll(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}he(Sd,"id","radialLinear"),he(Sd,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:O0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),he(Sd,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),he(Sd,"descriptors",{angleLines:{_fallback:"grid"}});const F0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},en=Object.keys(F0);function q_(t,e){return t-e}function V_(t,e){if(He(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts;let i=e;return typeof n=="function"&&(i=n(i)),Ht(i)||(i=typeof n=="string"?r.parse(i,n):r.parse(i)),i===null?null:(a&&(i=a==="week"&&(Bc(s)||s===!0)?r.startOf(i,"isoWeek",s):r.startOf(i,a)),+i)}function U_(t,e,r,n){const a=en.length;for(let s=en.indexOf(t);s<a-1;++s){const i=F0[en[s]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(l*i.size))<=n)return en[s]}return en[a-1]}function bce(t,e,r,n,a){for(let s=en.length-1;s>=en.indexOf(r);s--){const i=en[s];if(F0[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return en[r?en.indexOf(r):0]}function xce(t){for(let e=en.indexOf(t)+1,r=en.length;e<r;++e)if(F0[en[e]].common)return en[e]}function z_(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=fD(r,e),s=r[n]>=e?r[n]:r[a];t[s]=!0}}function vce(t,e,r,n){const a=t._adapter,s=+a.startOf(e[0].value,n),i=e[e.length-1].value;let l,c;for(l=s;l<=i;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function W_(t,e,r){const n=[],a={},s=e.length;let i,l;for(i=0;i<s;++i)l=e[i],a[l]=i,n.push({value:l,major:!1});return s===0||!r?n:vce(t,n,a,r)}class Kf extends wl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new koe._date(e.adapters.date);a.init(r),zd(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:V_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:i,maxDefined:l}=this.getUserBounds();function c(u){!i&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Ht(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=Ht(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,i=this.max,l=Qae(a,s,i);return this._unit=r.unit||(n.autoSkip?U_(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):bce(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:xce(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),W_(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=yr(r,0,i),n=yr(n,0,i),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,i=s.unit||U_(s.minUnit,r,n,this._getLabelCapacity(r)),l=Me(a.ticks.stepSize,1),c=i==="week"?s.isoWeekday:!1,u=Bc(c)||c===!0,d={};let f=r,m,p;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":i),e.diff(n,r,i)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+i);const h=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,p=0;m<n;m=+e.add(m,l,i),p++)z_(d,m,h);return(m===n||a.bounds==="ticks"||p===1)&&z_(d,m,h),Object.keys(d).sort(q_).map(y=>+y)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,s=this._unit,i=r||a[s];return this._adapter.format(e,i)}_tickFormatFunction(e,r,n,a){const s=this.options,i=s.ticks.callback;if(i)return wt(i,[e,r,n],this);const l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],p=u&&f&&m&&m.major;return this._adapter.format(e,a||(p?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=ua(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),i=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*i,h:n*i+l*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,W_(this,[e],this._majorUnit),a),i=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(V_(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Oq(e.sort(q_))}}he(Kf,"id","time"),he(Kf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function rp(t,e,r){let n=0,a=t.length-1,s,i,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=fs(t,"pos",e)),{pos:s,time:l}=t[n],{pos:i,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=fs(t,"time",e)),{time:s,pos:l}=t[n],{time:i,pos:c}=t[a]);const u=i-s;return u?l+(c-l)*(e-s)/u:l}class cA extends Kf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=rp(r,this.min),this._tableRange=rp(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],s=[];let i,l,c,u,d;for(i=0,l=e.length;i<l;++i)u=e[i],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(i=0,l=a.length;i<l;++i)d=a[i+1],c=a[i-1],u=a[i],Math.round((d+c)/2)!==u&&s.push({time:u,pos:i/(l-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(rp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return rp(this._table,n*this._tableRange+this._minPos,!0)}}he(cA,"id","timeseries"),he(cA,"defaults",Kf.defaults);var jce=Object.freeze({__proto__:null,CategoryScale:sA,LinearScale:oA,LogarithmicScale:iA,RadialLinearScale:Sd,TimeScale:Kf,TimeSeriesScale:cA});const wce=[Ioe,nle,Qle,jce];Zs.register(...wce);const Nce=[{name:"Settings",icon:o.jsx(u3,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:o.jsx(cJ,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:o.jsx(kJ,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:o.jsx(DP,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:o.jsx(DP,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:o.jsx(PS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:o.jsx(d3,{className:"h-6 w-6"}),path:"/reports/bir"}];function Cce(){const{user:t}=q(n=>n.auth),[e,r]=w.useState(!0);return w.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Nce.map(n=>o.jsxs(Ld,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[o.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),o.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function Nl(t){this._maxSize=t,this.clear()}Nl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Nl.prototype.get=function(t){return this._values[t]};Nl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Sce=/[^.^\]^[]+|(?=\[\]|\.\.)/g,w6=/^\d+$/,Ace=/^\d/,Ice=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,kce=/^\s*(['"]?)(.*?)(\1)\s*$/,ND=512,H_=new Nl(ND),G_=new Nl(ND),Y_=new Nl(ND),Mi={Cache:Nl,split:uA,normalizePath:XN,setter:function(t){var e=XN(t);return G_.get(t)||G_.set(t,function(n,a){for(var s=0,i=e.length,l=n;s<i-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[s++]]}l[e[s]]=a})},getter:function(t,e){var r=XN(t);return Y_.get(t)||Y_.set(t,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!e)a=a[r[s++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(CD(r)||w6.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Tce(Array.isArray(t)?t:uA(t),e,r)}};function XN(t){return H_.get(t)||H_.set(t,uA(t).map(function(e){return e.replace(kce,"$2")}))}function uA(t){return t.match(Sce)||[""]}function Tce(t,e,r){var n=t.length,a,s,i,l;for(s=0;s<n;s++)a=t[s],a&&(Pce(a)&&(a='"'+a+'"'),l=CD(a),i=!l&&/^\d+$/.test(a),e.call(r,a,l,i,s,t))}function CD(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Dce(t){return t.match(Ace)&&!t.match(w6)}function Ece(t){return Ice.test(t)}function Pce(t){return!CD(t)&&(Dce(t)||Ece(t))}const Oce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,B0=t=>t.match(Oce)||[],q0=t=>t[0].toUpperCase()+t.slice(1),SD=(t,e)=>B0(t).join(e).toLowerCase(),N6=t=>B0(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),_ce=t=>q0(N6(t)),$ce=t=>SD(t,"_"),Rce=t=>SD(t,"-"),Mce=t=>q0(SD(t," ")),Lce=t=>B0(t).map(q0).join(" ");var QN={words:B0,upperFirst:q0,camelCase:N6,pascalCase:_ce,snakeCase:$ce,kebabCase:Rce,sentenceCase:Mce,titleCase:Lce},AD={exports:{}};AD.exports=function(t){return C6(Fce(t),t)};AD.exports.array=C6;function C6(t,e){var r=t.length,n=new Array(r),a={},s=r,i=Bce(e),l=qce(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(t[s],s,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var p=i.get(u)||new Set;if(p=Array.from(p),d=p.length){f.add(u);do{var h=p[--d];c(h,l.get(h),f)}while(d);f.delete(u)}n[--r]=u}}}function Fce(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function Bce(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function qce(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Vce=AD.exports;const Uce=it(Vce),zce=Object.prototype.toString,Wce=Error.prototype.toString,Hce=RegExp.prototype.toString,Gce=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Yce=/^Symbol\((.*)\)(.*)$/;function Kce(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function K_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return Kce(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Gce.call(t).replace(Yce,"Symbol($1)");const n=zce.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Wce.call(t)+"]":n==="RegExp"?Hce.call(t):null}function xs(t,e){let r=K_(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let s=K_(this[n],e);return s!==null?s:a},2)}function S6(t){return t==null?[]:[].concat(t)}let A6,I6,k6,Jce=/\$\{\s*(\w+)\s*\}/g;A6=Symbol.toStringTag;class J_{constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[A6]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],S6(e).forEach(s=>{if(Ur.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}I6=Symbol.hasInstance;k6=Symbol.toStringTag;class Ur extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(Jce,(a,s)=>xs(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,s){const i=new J_(e,r,n,a);if(s)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[k6]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ur)}static[I6](e){return J_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ka={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${xs(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${xs(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${xs(r,!0)}\``+a}},Xr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ks={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},dA={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},fA={isValue:"${path} field must be ${value}"},tg={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},rg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Xce={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${xs(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${xs(r,!0)}\``}return Ur.formatError(ka.notType,t)}};Object.assign(Object.create(null),{mixed:ka,string:Xr,number:Ks,date:dA,object:tg,array:rg,boolean:fA,tuple:Xce});const V0=t=>t&&t.__isYupSchema__;class Rx{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new Rx(e,(l,c)=>{var u;let d=i(...l)?a:s;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!V0(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const np={context:"$",value:"."};function cl(t,e){return new Jo(t,e)}class Jo{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===np.context,this.isValue=this.key[0]===np.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?np.context:this.isValue?np.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Mi.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Jo.prototype.__isYupRef=!0;const da=t=>t==null;function _l(t){function e({value:r,path:n="",options:a,originalValue:s,schema:i},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:p}=t;let{parent:h,context:y,abortEarly:g=i.spec.abortEarly,disableStackTrace:b=i.spec.disableStackTrace}=a;const v={value:r,parent:h,context:y};function j(D={}){const _=T6(Object.assign({value:r,originalValue:s,label:i.spec.label,path:D.path||n,spec:i.spec,disableStackTrace:D.disableStackTrace||b},f,D.params),v),M=new Ur(Ur.formatError(D.message||m,_),r,_.path,D.type||u,_.disableStackTrace);return M.params=_,M}const C=g?l:c;let x={path:n,parent:h,type:u,from:a.from,createError:j,resolve(D){return D6(D,v)},options:a,originalValue:s,schema:i};const N=D=>{Ur.isError(D)?C(D):D?c(null):C(j())},S=D=>{Ur.isError(D)?C(D):l(D)};if(p&&da(r))return N(!0);let I;try{var k;if(I=d.call(x,r,x),typeof((k=I)==null?void 0:k.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${x.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(N,S)}}catch(D){S(D);return}N(I)}return e.OPTIONS=t,e}function T6(t,e){if(!t)return t;for(const r of Object.keys(t))t[r]=D6(t[r],e);return t}function D6(t,e){return Jo.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function Qce(t,e,r,n=r){let a,s,i;return e?(Mi.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}s=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:s}):{parent:a,parentPath:e,schema:t}}class Mx extends Set{describe(){const e=[];for(const r of this.values())e.push(Jo.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Mx(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function Zl(t,e=new Map){if(V0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=Zl(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,Zl(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(Zl(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=Zl(a,e)}else throw Error(`Unable to clone ${t}`);return r}function Zce(t){if(!(t!=null&&t.length))return;const e=[];let r="",n=!1,a=!1;for(let s=0;s<t.length;s++){const i=t[s];if(i==="["&&!a){r&&(e.push(...r.split(".").filter(Boolean)),r=""),n=!0;continue}if(i==="]"&&!a){r&&(/^\d+$/.test(r)?e.push(r):e.push(r.replace(/^"|"$/g,"")),r=""),n=!1;continue}if(i==='"'){a=!a;continue}if(i==="."&&!n&&!a){r&&(e.push(r),r="");continue}r+=i}return r&&e.push(...r.split(".").filter(Boolean)),e}function eue(t,e){const r=e?`${e}.${t.path}`:t.path;return t.errors.map(n=>({message:n,path:Zce(r)}))}function E6(t,e){var r;if(!((r=t.inner)!=null&&r.length)&&t.errors.length)return eue(t,e);const n=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(a=>E6(a,n))}class En{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Mx,this._blacklist=new Mx,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ka.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Zl(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(a&&da(s))return s;let i=xs(e),l=xs(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,s)=>s.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:s,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:s,value:c,originalValue:i,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:s,value:i,originalValue:l,path:c,options:u}=e,d=y=>{a||(a=!0,r(y,i))},f=y=>{a||(a=!0,n(y,i))},m=s.length,p=[];if(!m)return f([]);let h={value:i,originalValue:l,path:c,options:u,schema:this};for(let y=0;y<s.length;y++){const g=s[y];g(h,d,function(v){v&&(Array.isArray(v)?p.push(...v):p.push(v)),--m<=0&&f(p)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:s,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,p)=>this.resolve(d)._validate(u,d,m,p)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((i,l)=>a._validate(e,r,(c,u)=>{Ur.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Ur(c,u,void 0,void 0,s)):i(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Ur.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Ur(l,e,void 0,void 0,i);s=c}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Ur.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Ur.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):Zl(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=_l({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=_l({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=ka.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ka.notNull){return this.nullability(!1,e)}required(e=ka.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=ka.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=_l(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=S6(e).map(s=>new Jo(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new Rx(a,r):Rx.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=_l({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=ka.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=_l({message:r,name:"oneOf",skipAbsent:!0,test(a){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(e,r=ka.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=_l({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:s,nullable:i}=r.spec;return{meta:a,label:n,optional:s,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.filter((c,u,d)=>d.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&e?T6(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await e.validate(n,{abortEarly:!1})}}catch(a){if(a instanceof Ur)return{issues:E6(a)};throw a}}}}}En.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])En.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:s,schema:i}=Qce(this,e,r,n.context);return i[t](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])En.prototype[t]=En.prototype.oneOf;for(const t of["not","nope"])En.prototype[t]=En.prototype.notOneOf;function Fo(){return new P6}class P6 extends En{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=fA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return da(r)||r===!0}})}isFalse(e=fA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return da(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Fo.prototype=P6.prototype;const tue=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function rue(t){const e=mA(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function mA(t){var e,r;const n=tue.exec(t);return n?{year:Qa(n[1]),month:Qa(n[2],1)-1,day:Qa(n[3],1),hour:Qa(n[4]),minute:Qa(n[5]),second:Qa(n[6]),millisecond:n[7]?Qa(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Qa(n[10]),minuteOffset:Qa(n[11])}:null}function Qa(t,e=0){return Number(t)||e}let nue=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,aue=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,sue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,oue="^\\d{4}-\\d{2}-\\d{2}",iue="\\d{2}:\\d{2}:\\d{2}",lue="(([+-]\\d{2}(:?\\d{2})?)|Z)",cue=new RegExp(`${oue}T${iue}(\\.\\d+)?${lue}$`),uue=t=>da(t)||t===t.trim(),due={}.toString();function E(){return new O6}class O6 extends En{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===due?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||ka.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Xr.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Xr.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Xr.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||Xr.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=Xr.email){return this.matches(nue,{name:"email",message:e,excludeEmptyString:!0})}url(e=Xr.url){return this.matches(aue,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Xr.uuid){return this.matches(sue,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(cue,{name:"datetime",message:r||Xr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Xr.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=mA(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||Xr.datetime_precision,params:{precision:a},skipAbsent:!0,test:s=>{if(!s||a==null)return!0;const i=mA(s);return i?i.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Xr.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:uue})}lowercase(e=Xr.lowercase){return this.transform(r=>da(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>da(r)||r===r.toLowerCase()})}uppercase(e=Xr.uppercase){return this.transform(r=>da(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>da(r)||r===r.toUpperCase()})}}E.prototype=O6.prototype;let fue=t=>t!=+t;function Y(){return new _6}class _6 extends En{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!fue(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=Ks.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=Ks.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=Ks.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=Ks.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Ks.positive){return this.moreThan(0,e)}negative(e=Ks.negative){return this.lessThan(0,e)}integer(e=Ks.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>da(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>da(a)?a:Math[e](a))}}Y.prototype=_6.prototype;let $6=new Date(""),mue=t=>Object.prototype.toString.call(t)==="[object Date]";function Le(){return new Zm}class Zm extends En{constructor(){super({type:"date",check(e){return mue(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=rue(e),isNaN(e)?Zm.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Jo.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=dA.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=dA.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}Zm.INVALID_DATE=$6;Le.prototype=Zm.prototype;Le.INVALID_DATE=$6;function hue(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([i,l])=>`${i}-${l}`));function s(i,l){let c=Mi.split(i)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),Jo.isRef(l)&&l.isSibling?s(l.path,i):V0(l)&&"deps"in l&&l.deps.forEach(c=>s(c,i))}return Uce.array(Array.from(n),r).reverse()}function X_(t,e){let r=1/0;return t.some((n,a)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=a,!0}),r}function R6(t){return(e,r)=>X_(t,e)-X_(t,r)}const M6=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function ng(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=ng(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=ng(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(ng)}):"optional"in t?t.optional():t}const pue=(t,e)=>{const r=[...Mi.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=Mi.getter(Mi.join(r),!0)(t);return!!(a&&n in a)};let Q_=t=>Object.prototype.toString.call(t)==="[object Object]";function Z_(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const gue=R6([]);function ie(t){return new L6(t)}class L6 extends En{constructor(e){super({type:"object",check(r){return Q_(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=gue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=s[f],p=f in a;if(m){let h,y=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:y,context:r.context,parent:c});let g=m instanceof En?m.spec:void 0,b=g==null?void 0:g.strict;if(g!=null&&g.strip){d=d||f in a;continue}h=!r.__validating||!b?m.cast(a[f],u):a[f],h!==void 0&&(c[f]=h)}else p&&!i&&(c[f]=a[f]);(p!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:s=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...s],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!Q_(u)){a(c,u);return}i=i||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||Jo.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];n[a]=i===void 0?s:i}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const s=this.fields[n];let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=hue(e,r),n._sortErrors=R6(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return ng(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=Mi.getter(e,!0);return this.transform(s=>{if(!s)return s;let i=s;return pue(s,e)&&(i=Object.assign({},s),n||delete i[e],i[r]=a(s)),i})}json(){return this.transform(M6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||tg.exact,test(r){if(r==null)return!0;const n=Z_(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=tg.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=Z_(this.schema,a);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=tg.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(QN.camelCase)}snakeCase(){return this.transformKeys(QN.snakeCase)}constantCase(){return this.transformKeys(e=>QN.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,i]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),n.fields[s]=i.describe(l)}return n}}ie.prototype=L6.prototype;function Gt(t){return new F6(t)}class F6 extends En{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const s=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==i&&(a=!0),c});return a?s:n}_validate(e,r={},n,a){var s;let i=this.innerType,l=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let p=0;p<u.length;p++){var m;f[p]=i.asNestedTest({options:r,index:p,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,p=>a(p.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(M6)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!V0(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+xs(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=rg.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||rg.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||rg.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,s)=>!e(n,a,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let s=e;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}Gt.prototype=F6.prototype;function yue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const bue=w.forwardRef(yue);function xue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const vue=w.forwardRef(xue);function jue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const wue=w.forwardRef(jue);function Nue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const Cue=w.forwardRef(Nue);function Sue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),w.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Aue=w.forwardRef(Sue);function Iue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const kue=w.forwardRef(Iue);function Tue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Due=w.forwardRef(Tue);function Eue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Pue=w.forwardRef(Eue);function Oue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const _ue=w.forwardRef(Oue);function ye({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:s=!1,onRowClick:i=null,emptyMessage:l="No data available"}){const[c,u]=w.useState(1),[d,f]=w.useState(10),[m,p]=w.useState(""),[h,y]=w.useState({key:null,direction:"asc"}),g=Array.isArray(e)?e:[],v=[...g.filter(I=>Object.values(I).some(k=>k!=null&&k.toString().toLowerCase().includes(m.toLowerCase())))].sort((I,k)=>{if(!h.key)return 0;const D=I[h.key],_=k[h.key];return D==null?1:_==null?-1:typeof D=="string"&&typeof _=="string"?h.direction==="asc"?D.localeCompare(_):_.localeCompare(D):h.direction==="asc"?D-_:_-D}),j=Math.ceil(v.length/d),C=v.slice((c-1)*d,c*d),x=I=>{let k="asc";h.key===I&&h.direction==="asc"&&(k="desc"),y({key:I,direction:k})},N=I=>{u(I)},S=I=>{f(Number(I.target.value)),u(1)},A=I=>{p(I.target.value),u(1)};return s?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):g.length===0?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:l})]})}):o.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(kue,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:m,onChange:A})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[o.jsx("thead",{className:"bg-neutral-50",children:o.jsxs("tr",{children:[t.map(I=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>I.sortable!==!1&&x(I.key),children:o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:I.header}),I.sortable!==!1&&o.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",o.jsx(wue,{className:`h-3 w-3 ${h.key===I.key&&h.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),o.jsx(vue,{className:`h-3 w-3 -mt-1 ${h.key===I.key&&h.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},I.key)),a.length>0&&o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",children:o.jsx("span",{children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:C.map((I,k)=>o.jsxs("tr",{className:i?"hover:bg-neutral-50 cursor-pointer":"",onClick:i?()=>i(I):void 0,children:[t.map(D=>o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${D.className||"text-neutral-500"}`,children:D.render?D.render(I[D.key],I):I[D.key]},`${I.id||k}-${D.key}`)),typeof a=="function"?(()=>{const D=a(I);return(D==null?void 0:D.length)>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:D.map((_,M)=>o.jsx("button",{onClick:P=>{P.stopPropagation(),_.onClick(I)},className:_.className||"text-primary-600 hover:text-primary-900",title:_.title,children:_.icon?o.jsx(_.icon,{className:"h-5 w-5","aria-hidden":"true"}):_.label},M))})})():a.length>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map((D,_)=>o.jsx("button",{onClick:M=>{M.stopPropagation(),D.onClick(I)},className:(D==null?void 0:D.className)||"text-primary-600 hover:text-primary-900",title:D==null?void 0:D.title,children:D!=null&&D.icon?o.jsx(D.icon,{className:"h-5 w-5","aria-hidden":"true"}):D==null?void 0:D.label},_))})]},I.id||k))})]})}),r&&j>0&&o.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[o.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:Math.min((c-1)*d+1,v.length)})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(c*d,v.length)})," ","of ",o.jsx("span",{className:"font-medium",children:v.length})," results"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),o.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:d,onChange:S,children:[5,10,25,50].map(I=>o.jsx("option",{value:I,children:I},I))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>N(c-1),disabled:c===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx($ue,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>N(c+1),disabled:c===j,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Rue,{className:"h-5 w-5"})})]})]})]})]})}function $ue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function Rue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function oe({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:s=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return o.jsx(Wp.Root,{show:t,as:w.Fragment,children:o.jsx(kN,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-2",children:[o.jsx(Wp.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx(kN.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),o.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),o.jsx(Wp.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left  shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[o.jsx(kN.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),o.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(m3,{className:"h-6 w-6","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),s&&o.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:s})]})})]})})})}const U0="https://staging-engine.testthelink.online",Mue=[],Lue={departments:Mue,department:null,isLoading:!1,error:null},sr=F("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${U0}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ag=F("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${U0}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),sg=F("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${U0}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),og=F("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${U0}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),B6=ve({name:"departments",initialState:Lue,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(sr.pending,e=>{e.isLoading=!0}).addCase(sr.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(sr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ag.pending,e=>{e.isLoading=!0}).addCase(ag.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sg.pending,e=>{e.isLoading=!0}).addCase(sg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(og.pending,e=>{e.isLoading=!0}).addCase(og.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:b8e,resetDepartmentState:x8e}=B6.actions,Fue=B6.reducer;function we(t){const{selectedRole:e}=q(n=>n.auth);return w.useMemo(()=>!e||e.Description==="Administration"?{View:!0,Add:!0,Edit:!0,Delete:!0,Print:!0,Mayor:!0}:e.ModuleAccesses?e.ModuleAccesses.find(a=>a.ModuleID===t)||{}:{},[e,t])}function Bue(){const t=ce(),{departments:e,isLoading:r,error:n}=q(S=>S.departments),{Add:a,Edit:s,Delete:i}=we(39),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null);w.useEffect(()=>{t(sr())},[t]);const y=ie().shape({Code:E().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(S){return S?!e.some(I=>I.Code.trim().toLowerCase()===S.trim().toLowerCase()&&(!u||I.ID!==u.ID)):!0}),Name:E().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(S){return S?!e.some(I=>I.Name.trim().toLowerCase()===S.trim().toLowerCase()&&(!u||I.ID!==u.ID)):!0})}),g=()=>{d(null),c(!0)},b=S=>{d(S),c(!0)},v=S=>{h(S),m(!0)},j=()=>{p&&(t(og(p.ID)),m(!1),h(null))},C=(S,{resetForm:A})=>{t(u?sg({...S,ID:u.ID}):ag(S)),c(!1),A()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],N=S=>{const A=[];return s&&A.push({icon:Ie,title:"Edit",onClick:()=>b(S),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),i&&S.ID>4&&A.push({icon:Fe,title:"Delete",onClick:()=>v(S),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),A};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Departments"}),o.jsx("p",{children:"Manage LGU departments and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:N,loading:r})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Department":"Add Department",children:o.jsx(Re,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:y,onSubmit:C,children:({values:S,errors:A,touched:I,handleChange:k,handleBlur:D,isSubmitting:_})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:S.Code,onChange:k,onBlur:D,error:A.Code,touched:I.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:S.Name,onChange:k,onBlur:D,error:A.Name,touched:I.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:_,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.departmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}const z0="https://staging-engine.testthelink.online",que=[],Vue={currencies:que,currency:null,isLoading:!1,error:null},ig=F("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${z0}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),lg=F("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${z0}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),cg=F("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${z0}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ug=F("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${z0}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),q6=ve({name:"currencies",initialState:Vue,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(ig.pending,e=>{e.isLoading=!0}).addCase(ig.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lg.pending,e=>{e.isLoading=!0}).addCase(lg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cg.pending,e=>{e.isLoading=!0}).addCase(cg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ug.pending,e=>{e.isLoading=!0}).addCase(ug.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:v8e,resetCurrencyState:j8e}=q6.actions,Uue=q6.reducer,zue=(t=[],e=null)=>ie().shape({Code:E().required("Code is required").max(3,"Code must be exactly 3 characters").min(3,"Code must be exactly 3 characters").matches(/^[A-Z]{3}$/,"Code must be 3 uppercase letters (ISO 4217)").test("unique-code","Code already exists",function(r){if(!r)return!0;const n=r.trim().toUpperCase();return!t.some(s=>s.Code.trim().toUpperCase()===n&&(!e||s.ID!==e.ID))}),Name:E().required("Name is required").max(100,"Name must be at most 100 characters").test("unique-name","Name already exists",function(r){if(!r)return!0;const n=r.trim().toLowerCase();return!t.some(s=>s.Name.trim().toLowerCase()===n&&(!e||s.ID!==e.ID))})});function Wue(){const t=ce(),{currencies:e,isLoading:r,error:n}=q(N=>N.currencies),{Add:a,Edit:s,Delete:i}=we(37),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null);w.useEffect(()=>{t(ig())},[t]);const y=()=>{d(null),c(!0)},g=N=>{d(N),c(!0)},b=N=>{h(N),m(!0)},v=async()=>{try{p&&(t(ug(p.ID)),m(!1),h(null)),B.success("Currency deleted successfully.")}catch(N){console.error("Failed to delete currency:",N),B.error("Failed to delete currency. Please try again.")}},j=(N,{resetForm:S})=>{try{t(u?cg({...N,ID:u.ID}):lg(N)),B.success("Currency saved successfully.")}catch(A){console.error("Failed to save currency:",A),B.error("Failed to save currency. Please try again.")}finally{c(!1),S()}},C=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],x=[s&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Fe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Currencies"}),o.jsx("p",{children:"Manage LGU currencies and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:x,loading:r})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Currency":"Add Currency",children:o.jsx(Re,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:zue(e,u),onSubmit:j,children:({values:N,errors:S,touched:A,handleChange:I,handleBlur:k,isSubmitting:D})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:N.Code,onChange:I,onBlur:k,error:S.Code,touched:A.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:N.Name,onChange:I,onBlur:k,error:S.Name,touched:A.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:D,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const W0="https://staging-engine.testthelink.online",Hue=[],Gue={subdepartments:Hue,subdepartment:null,isLoading:!1,error:null},Co=F("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${W0}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),dg=F("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${W0}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),fg=F("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${W0}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),mg=F("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${W0}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),V6=ve({name:"subdepartments",initialState:Gue,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(Co.pending,e=>{e.isLoading=!0}).addCase(Co.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(Co.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dg.pending,e=>{e.isLoading=!0}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fg.pending,e=>{e.isLoading=!0}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mg.pending,e=>{e.isLoading=!0}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:w8e,resetSubdepartmentState:N8e}=V6.actions,Yue=V6.reducer;var U6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e$=z.createContext&&z.createContext(U6),Kue=["attr","size","title"];function Jue(t,e){if(t==null)return{};var r=Xue(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lx.apply(this,arguments)}function t$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(r),!0).forEach(function(n){Que(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Que(t,e,r){return e=Zue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zue(t){var e=ede(t,"string");return typeof e=="symbol"?e:e+""}function ede(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z6(t){return t&&t.map((e,r)=>z.createElement(e.tag,Fx({key:r},e.attr),z6(e.child)))}function ID(t){return e=>z.createElement(tde,Lx({attr:Fx({},t.attr)},e),z6(t.child))}function tde(t){var e=r=>{var{attr:n,size:a,title:s}=t,i=Jue(t,Kue),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),z.createElement("svg",Lx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Fx(Fx({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&z.createElement("title",null,s),t.children)};return e$!==void 0?z.createElement(e$.Consumer,null,r=>e(r)):e(U6)}function rde(t){return ID({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function nde(t){return ID({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function ade(t){return ID({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const yt=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:s=!1,onSelect:i,selectedValue:l})=>{const[c,u]=w.useState(""),d=c===""?t:t.filter(m=>{var p;return(p=m==null?void 0:m.label)==null?void 0:p.toLowerCase().includes(c.toLowerCase())}),f=()=>{i(""),u("")};return o.jsx("div",{className:"w-full form-group",children:o.jsx(Dl,{value:l,onChange:i,children:({open:m})=>o.jsxs(o.Fragment,{children:[o.jsxs(Dl.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left shadow-sm sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[o.jsx(Dl.Input,{className:"w-full py-2.5 pl-3 pr-10 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:p=>{var h;return((h=t.find(y=>y.value===p))==null?void 0:h.label)||""},onChange:p=>u(p.target.value)}),o.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&o.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(ade,{className:"h-4 w-4"})}),o.jsx(Dl.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(rde,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),o.jsx(Dl.Options,{className:"absolute z-[500] mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?o.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(p=>o.jsx(Dl.Option,{className:({active:h,selected:y})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${h?"bg-blue-50 text-blue-700":""}
                         ${y?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:p.value,children:o.jsx("span",{children:p.label})},p.value))})]})]})})})};function sde(){const t=ce(),{subdepartments:e,isLoading:r}=q(A=>A.subdepartments||{}),{departments:n}=q(A=>A.departments),{Add:a,Edit:s,Delete:i}=we(76),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null);w.useEffect(()=>{t(Co()),t(sr())},[t]);const y=ie().shape({Code:E().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(A){if(!A||!this.parent.DepartmentID)return!0;const I=A.trim().toLowerCase();return!(e==null?void 0:e.some(D=>D.Code.trim().toLowerCase()===I&&D.DepartmentID===this.parent.DepartmentID&&(!u||D.ID!==u.ID)))}),Name:E().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(A){if(!A||!this.parent.DepartmentID)return!0;const I=A.trim().toLowerCase();return!(e==null?void 0:e.some(D=>D.Name.trim().toLowerCase()===I&&D.DepartmentID===this.parent.DepartmentID&&(!u||D.ID!==u.ID)))}),DepartmentID:Y().required("Department is required")}),g=e.map(A=>{var I;return{...A,departmentName:((I=n.find(k=>k.ID===A.DepartmentID))==null?void 0:I.Name)||"N/A"}}),b=()=>{d(null),c(!0)},v=A=>{d(A),c(!0)},j=A=>{h(A),m(!0)},C=async()=>{try{p&&(await t(mg(p.ID)).unwrap(),B.success("Subdepartment deleted successfully."))}catch(A){console.error("Failed to delete subdepartment:",A),B.error("Failed to delete subdepartment. Please try again.")}finally{h(null),m(!1)}},x=async(A,{resetForm:I})=>{var _;const k=((_=n.find(M=>M.ID===Number(A.DepartmentID)))==null?void 0:_.Name)||"",D={...A,departmentName:k};try{t(u?fg({...D,ID:u.ID}):dg(D)),B.success("Subdepartment saved successfully.")}catch(M){console.log(M),B.error("Failed to save subdepartment. Please try again.")}finally{c(!1),I()}},N=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],S=[s&&{icon:Ie,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Fe,title:"Delete",onClick:j,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Subdepartments"}),o.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N,data:g,actions:S,loading:r})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Subdepartment":"Add Subdepartment",children:o.jsx(Re,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||"",DepartmentID:(u==null?void 0:u.DepartmentID)||""},validationSchema:y,onSubmit:x,children:({values:A,errors:I,touched:k,handleChange:D,handleBlur:_,isSubmitting:M,setFieldValue:P})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:A.Code,onChange:D,onBlur:_,error:I.Code,touched:k.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:A.Name,onChange:D,onBlur:_,error:I.Name,touched:k.Name}),o.jsx(yt,{label:"Department",name:"DepartmentID",type:"select",required:!0,selectedValue:A.DepartmentID,onSelect:O=>P("DepartmentID",O),onBlur:_,error:I.DepartmentID,touched:k.DepartmentID,options:n.map(O=>({value:O.ID,label:O.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:M,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.subdepartmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:C,className:"btn btn-danger",children:"Delete"})]})]})]})}const H0="https://staging-engine.testthelink.online",ode=[],ide={users:ode,user:null,isLoading:!1,error:null},Kd=F("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${H0}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),hg=F("users/addUser",async(t,e)=>{try{const r=await fetch(`${H0}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),pg=F("users/updateUser",async(t,e)=>{try{const r=await fetch(`${H0}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),gg=F("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${H0}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),W6=ve({name:"users",initialState:ide,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(Kd.pending,e=>{e.isLoading=!0}).addCase(Kd.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(Kd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hg.pending,e=>{e.isLoading=!0}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pg.pending,e=>{e.isLoading=!0}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gg.pending,e=>{e.isLoading=!0}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:C8e,resetUserState:S8e}=W6.actions,lde=W6.reducer,G0="https://staging-engine.testthelink.online",cde=[],ude={employees:cde,employee:null,isLoading:!1,error:null},cn=F("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${G0}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),yg=F("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${G0}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),bg=F("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${G0}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),xg=F("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${G0}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),H6=ve({name:"employees",initialState:ude,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(cn.pending,e=>{e.isLoading=!0}).addCase(cn.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(cn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yg.pending,e=>{e.isLoading=!0}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(bg.pending,e=>{e.isLoading=!0}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xg.pending,e=>{e.isLoading=!0}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:A8e,resetEmployeeState:I8e}=H6.actions,dde=H6.reducer,Y0="https://staging-engine.testthelink.online",fde=[],So=F("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Y0}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),vg=F("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${Y0}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),hA=F("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${Y0}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jg=F("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${Y0}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mde=ve({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(So.pending,e=>{e.isLoading=!0,e.error=null}).addCase(So.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(So.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=fde}).addCase(vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(hA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),hde=mde.reducer,pde=ie().shape({UserName:E().required("User name is required"),UserAccessID:E().required("User Access is required"),Password:E().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:E().oneOf([cl("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:E().required("Choose Employee is required")});function gde(){const t=ce(),{users:e,isLoading:r}=q(L=>L.users),{Add:n,Edit:a,Delete:s}=we(82),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null),[h,y]=w.useState(!1),[g,b]=w.useState(null),{userroles:v,isLoading:j}=q(L=>L.userroles),C=v.map(L=>({value:L.ID,label:L.Description})),{employees:x,isLoading:N}=q(L=>L.employees),S=x.map(L=>({value:L.ID,label:`${L.FirstName} ${L.LastName}`}));w.useEffect(()=>{t(Kd()),t(cn()),t(So())},[t]);const A=()=>{u(null),l(!0)},I=L=>{u(L),l(!0)},k=L=>{p(L),f(!0)},D=async()=>{try{m&&(await t(gg(m.ID)).unwrap(),f(!1),p(null),B.success("User deleted successfully"))}catch(L){console.error("Failed to delete user:",L),B.error("Failed to delete user")}},_=async(L,{resetForm:V,setErrors:$,setSubmitting:R})=>{const W={EmployeeID:L.EmployeeID,UserName:L.UserName,Password:L.Password,UserAccessArray:[L.UserAccessID]};console.log("Payload:",W);try{c?await t(pg({...W,ID:c.ID})).unwrap():await t(hg(W)).unwrap(),t(Kd()),B.success("User saved successfully.")}catch(Z){console.log(Z),$({general:"Unexpected error occurred."}),B.error("Failed to save user. Please try again.")}finally{V(),l(!1),R(!1)}},M=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0,render:(L,V)=>{var $;return o.jsx("span",{children:L||(($=V==null?void 0:V.accessList)==null?void 0:$.map(R=>R.Description).join(", "))||"N/A"})}}],P=[a&&{icon:Ie,title:"Edit",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:k,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],O=e.map(L=>{var V;return{...L,UserAccessValue:(V=v.find($=>$.ID===L.UserAccessID))==null?void 0:V.Description}});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Users"}),o.jsx("p",{children:"Manage system users and their access rights"})]}),n&&o.jsxs("button",{type:"button",onClick:A,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:M,data:O,actions:P,loading:r||j||N})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit User":"Add User",children:o.jsx(Re,{initialValues:{UserName:(c==null?void 0:c.UserName)||"",UserAccessID:(c==null?void 0:c.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(c==null?void 0:c.EmployeeID)||""},validationSchema:pde,onSubmit:_,children:({values:L,errors:V,touched:$,handleChange:R,handleBlur:W,isSubmitting:Z})=>o.jsxs(Be,{className:"space-y-4",children:[V.general&&o.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:V.general}),o.jsx(T,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:L.UserName,onChange:R,onBlur:W,error:V.UserName,touched:$.UserName}),o.jsx(T,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:L.UserAccessID,onChange:R,onBlur:W,error:V.UserAccessID,touched:$.UserAccessID,options:C}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:L.Password,onChange:R,onBlur:W,error:V.Password,touched:$.Password}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:L.ConfirmPassword,onChange:R,onBlur:W,error:V.ConfirmPassword,touched:$.ConfirmPassword}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:L.EmployeeID,onChange:R,onBlur:W,error:V.EmployeeID,touched:$.EmployeeID,options:S}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:Z,className:"btn btn-primary",children:Z?"Saving...":c?"Update":"Save"})]})]})})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",o.jsx("span",{className:"font-medium",children:m==null?void 0:m.UserName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:D,className:"btn btn-danger",children:"Delete"})]})]})]})}const K0="https://staging-engine.testthelink.online",yde=[],bde={accounts:yde,account:null,isLoading:!1,error:null},xr=F("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${K0}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),wg=F("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${K0}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ng=F("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${K0}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cg=F("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${K0}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),G6=ve({name:"chartOfAccounts",initialState:bde,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(xr.pending,e=>{e.isLoading=!0}).addCase(xr.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(xr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wg.pending,e=>{e.isLoading=!0}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ng.pending,e=>{e.isLoading=!0}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:k8e,resetAccountState:T8e}=G6.actions,xde=G6.reducer,J0="https://staging-engine.testthelink.online",vde=[],jde={accountGroups:vde,accountGroup:null,isLoading:!1,error:null},Li=F("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${J0}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Sg=F("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${J0}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ag=F("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${J0}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ig=F("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${J0}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Y6=ve({name:"accountGroups",initialState:jde,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Li.pending,e=>{e.isLoading=!0}).addCase(Li.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(Li.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sg.pending,e=>{e.isLoading=!0}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ag.pending,e=>{e.isLoading=!0}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ig.pending,e=>{e.isLoading=!0}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:D8e,resetAccountGroupState:E8e}=Y6.actions,wde=Y6.reducer,X0="https://staging-engine.testthelink.online",Nde=[],Cde={majorAccountGroups:Nde,majorAccountGroup:null,isLoading:!1,error:null},Fi=F("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${X0}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),kg=F("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${X0}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Tg=F("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${X0}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Dg=F("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${X0}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),K6=ve({name:"majorAccountGroups",initialState:Cde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Fi.pending,e=>{e.isLoading=!0}).addCase(Fi.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(Fi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(kg.pending,e=>{e.isLoading=!0}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Tg.pending,e=>{e.isLoading=!0}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Dg.pending,e=>{e.isLoading=!0}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:P8e,resetMajorAccountGroupState:O8e}=K6.actions,Sde=K6.reducer,Q0="https://staging-engine.testthelink.online",Ade=[],Ide={subMajorAccountGroups:Ade,subMajorAccountGroup:null,isLoading:!1,error:null},dc=F("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Q0}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),Eg=F("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Q0}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Pg=F("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Q0}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Og=F("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Q0}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),J6=ve({name:"subMajorAccountGroups",initialState:Ide,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(dc.pending,e=>{e.isLoading=!0}).addCase(dc.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(dc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Eg.pending,e=>{e.isLoading=!0}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Pg.pending,e=>{e.isLoading=!0}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Og.pending,e=>{e.isLoading=!0}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:_8e,resetSubMajorAccountGroupState:$8e}=J6.actions,kde=J6.reducer,Tde=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{const{values:n,setFieldValue:a,errors:s,touched:i}=vq(),l=(c,u)=>{const d=u.find(f=>f.ID===c);return d?d.Code:""};return w.useEffect(()=>{if(n.AccountTypeID||n.AccountSubTypeID||n.AccountCategoryID||n.Code){const c=l(n.AccountTypeID,t),u=l(n.AccountSubTypeID,e),d=l(n.AccountCategoryID,r),f=`${c}-${u}-${d}-${n.Code}`;a("AccountCode",f)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),o.jsx(T,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:i.AccountCode&&s.AccountCode,touched:i.AccountCode})},Dde=ie().shape({AccountCode:E().required("Account no is required").max(30,"Account no must be at most 30 characters"),Code:E().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:E().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:E().max(250,"Description must be at most 250 characters"),AccountTypeID:E().required("Account group is required"),AccountSubTypeID:E().required("Major account group is required"),AccountCategoryID:E().required("Sub Major account group is required"),NormalBalance:E().required("Normal balance is required")});function Ede({initialData:t,onClose:e}){const r=ce(),{accountGroups:n}=q(d=>d.accountGroups),{majorAccountGroups:a}=q(d=>d.majorAccountGroups),{subMajorAccountGroups:s}=q(d=>d.subMajorAccountGroups),[i,l]=w.useState(!1);w.useEffect(()=>{r(Li()),r(Fi()),r(dc())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=async d=>{l(!0);const f=t?Ng({...d,ID:t.ID}):wg(d);r(f).unwrap().then(()=>{B.success("Account updated successfully"),r(xr()),e()}).catch(m=>{console.error("Error submitting account:",m),B.error("Failed to submit account. Please try again.")}).finally(()=>{l(!1)})};return o.jsx(Re,{initialValues:c,validationSchema:Dde,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isValid:y,setFieldValue:g})=>{var b;return o.jsxs(Be,{className:"space-y-4",children:[o.jsx("div",{className:"",children:o.jsx(Tde,{accountGroups:n,majorAccountGroups:a,subMajorAccountGroups:s})}),console.log("values",d,f),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:p,onBlur:h,error:f.Code,touched:m.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:p,onBlur:h,error:f.Name,touched:m.Name}),o.jsx(yt,{label:"Account Group",options:n.map(v=>({label:`${v.Name} (${v.Code})`,value:v.ID})),placeholder:"Select Account Group",onSelect:v=>{g("AccountTypeID",v||"")},selectedValue:d.AccountTypeID||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),o.jsx(yt,{label:"Major Account Group",options:a.map(v=>({label:`${v.Name} (${v.Code})`,value:v.ID})),placeholder:"Select Major Account Group",onSelect:v=>{g("AccountSubTypeID",v||"")},selectedValue:((b=a.find(v=>v.ID===d.AccountSubTypeID))==null?void 0:b.ID)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),o.jsx(yt,{label:"Sub Major Account Group",options:s.map(v=>({label:`${v.Name} (${v.Code})`,value:v.ID})),placeholder:"Select Sub Major Account Group",onSelect:v=>{g("AccountCategoryID",v||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:p,onBlur:h,error:f.Description,touched:m.Description,rows:2}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx(T,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:p,onBlur:h,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i||!y,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ode=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),r$=t=>{const e=Ode(t);return e.charAt(0).toUpperCase()+e.slice(1)},X6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),_de=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $de={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,...$de,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:X6("lucide",a),...!s&&!_de(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(t,e)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(Rde,{ref:s,iconNode:e,className:X6(`lucide-${Pde(r$(t))}`,`lucide-${t}`,n),...a}));return r.displayName=r$(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Q6=rr("building",Mde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kD=rr("calendar",Lde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M20 4L9 15",key:"1qkx8z"}],["path",{d:"M21 19L3 19",key:"100sma"}],["path",{d:"M9 15L4 10",key:"9zxff7"}]],Bde=rr("check-line",Fde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],Vde=rr("circle-arrow-left",qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zde=rr("circle-x",Ude);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Z6=rr("credit-card",Wde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gde=rr("eye-off",Hde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eV=rr("eye",Yde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jde=rr("file-text",Kde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Ds=rr("paperclip",Xde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],va=rr("pencil",Qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Z0=rr("plus",Zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Bx=rr("printer",efe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rfe=rr("save",tfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],afe=rr("square-pen",nfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],er=rr("trash-2",sfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Ya=rr("trash",ofe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tV=rr("upload",ife);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ej=rr("user",lfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],TD=rr("users",cfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rV=rr("x",ufe);function dfe(){const t=ce(),{accounts:e,isLoading:r}=q(x=>x.chartOfAccounts),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{Add:f,Edit:m,Delete:p}=we(31);w.useEffect(()=>{t(xr())},[t]);const h=()=>{i(null),a(!0)},y=x=>{i(x),a(!0)},g=x=>{d(x),c(!0)},b=async()=>{if(u)try{await t(Cg(u.ID)).unwrap(),c(!1),d(null),B.success("Account deleted successfully")}catch(x){console.error("Failed to delete account:",x),B.error("Failed to delete account. Please try again.")}},v=()=>{a(!1),i(null)},j=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],C=[m&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},p&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Chart of Accounts"}),o.jsx("p",{children:"Manage account codes and their settings"})]}),o.jsx("div",{className:"flex gap-4 items-center ",children:f&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r})}),o.jsx(oe,{isOpen:n,onClose:v,title:s?"Edit Account":"Add Account",size:"lg",children:o.jsx(Ede,{initialData:s,onClose:v})}),o.jsxs(oe,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const ffe=ie().shape({Code:E().required("Code is required").max(10,"Code must be at most 10 characters"),Name:E().required("Name is required").max(100,"Name must be at most 100 characters")});function mfe(){const t=ce(),{accountGroups:e,isLoading:r,error:n}=q(N=>N.accountGroups),{Add:a,Edit:s,Delete:i}=we(88),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null);w.useEffect(()=>{t(Li())},[t]);const y=()=>{d(null),c(!0)},g=N=>{d(N),c(!0)},b=N=>{h(N),m(!0)},v=async()=>{try{p&&(await t(Ig(p.ID)).unwrap(),B.success("Account group deleted successfully"),m(!1),h(null))}catch(N){console.error("Failed to delete account group:",N),B.error("Failed to delete account group. Please try again.")}},j=async(N,{resetForm:S})=>{try{u?(await t(Ag({...N,ID:u.ID})).unwrap(),B.success("Account group updated successfully")):(await t(Sg(N)).unwrap(),B.success("Account group added successfully")),t(Li())}catch(A){console.error("Error submitting account group:",A),B.error("Failed to submit account group. Please try again.")}finally{c(!1),S()}},C=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],x=[s&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Fe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Types"}),o.jsx("p",{children:"Manage account types and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:x,loading:r})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Account Type":"Add Account Type",children:o.jsx(Re,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:ffe,onSubmit:j,children:({values:N,errors:S,touched:A,handleChange:I,handleBlur:k,isSubmitting:D})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:N.Code,onChange:I,onBlur:k,error:S.Code,touched:A.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:N.Name,onChange:I,onBlur:k,error:S.Name,touched:A.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:D,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const hfe=ie().shape({Code:E().required("Code is required").max(15,"Code must be at most 15 characters"),Name:E().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:Y().required("Account Type is required")});function pfe(){const t=ce(),{majorAccountGroups:e,isLoading:r}=q(S=>S.majorAccountGroups),{accountGroups:n}=q(S=>S.accountGroups),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null),{Add:m,Edit:p,Delete:h}=we(89);w.useEffect(()=>{t(Fi()),t(Li())},[t]);const y=e.map(S=>{const A=n.find(I=>I.ID===S.AccountTypeID);return{...S,accountTypeName:A?A.Name:"N/A"}}),g=()=>{l(null),s(!0)},b=S=>{l(S),s(!0)},v=S=>{f(S),u(!0)},j=()=>{try{d&&(t(Dg(d.ID)),B.success("Major account group deleted successfully"))}catch(S){console.error("Failed to delete major account group:",S),B.error("Failed to delete major account group. Please try again.")}finally{u(!1),f(null)}},C=async(S,{resetForm:A})=>{var D;const I=((D=n.find(_=>_.ID===Number(S.AccountTypeID)))==null?void 0:D.Name)||"",k={...S,accountTypeName:I};try{i?(await t(Tg({...k,ID:i.ID})).unwrap(),B.success("Major account group updated successfully")):(await t(kg(k)).unwrap(),B.success("Major account group added successfully")),t(Fi())}catch(_){console.error("Failed to save major account group:",_),B.error("Failed to save major account group. Please try again.")}s(!1),A()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],N=[p&&{icon:Ie,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},h&&{icon:Fe,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Sub-Types"}),o.jsx("p",{children:"Manage account sub-types and their details"})]}),m&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:y,actions:N,loading:r})}),o.jsx(oe,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:o.jsx(Re,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:hfe,onSubmit:C,children:({values:S,errors:A,touched:I,handleChange:k,handleBlur:D,isSubmitting:_})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:k,onBlur:D,error:A.Code,touched:I.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:k,onBlur:D,error:A.Name,touched:I.Name}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:S.AccountTypeID,onChange:k,onBlur:D,error:A.AccountTypeID,touched:I.AccountTypeID,options:n.map(M=>({value:M.ID,label:M.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:_,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}const gfe=ie().shape({Code:E().required("Code is required").max(15,"Code must be at most 15 characters"),Name:E().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:Y().required("Account Sub Type is required")});function yfe(){const t=ce(),{subMajorAccountGroups:e,isLoading:r}=q(S=>S.subMajorAccountGroups),{majorAccountGroups:n}=q(S=>S.majorAccountGroups),{Add:a,Edit:s,Delete:i}=we(90),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null);w.useEffect(()=>{t(dc()),t(Fi())},[t]);const y=e.map(S=>{const A=n.find(I=>I.ID===S.AccountSubTypeID);return{...S,accountSubTypeName:A?A.Name:"N/A"}}),g=()=>{d(null),c(!0)},b=S=>{d(S),c(!0)},v=S=>{h(S),m(!0)},j=async()=>{try{p&&(await t(Og(p.ID)).unwrap(),m(!1),h(null),B.success("Sub major account group deleted successfully"))}catch(S){console.error("Failed to delete sub major account group:",S),B.error("Failed to delete sub major account group. Please try again.")}},C=async(S,{resetForm:A})=>{var D;const I=((D=n.find(_=>_.ID===Number(S.AccountSubTypeID)))==null?void 0:D.Name)||"",k={...S,accountSubTypeName:I};try{u?(await t(Pg({...k,ID:u.ID})).unwrap(),B.success("Sub major account group updated successfully")):(await t(Eg(k)).unwrap(),B.success("Sub major account group added successfully")),t(dc())}catch(_){console.error("Failed to save sub major account group:",_),B.error("Failed to save sub major account group. Please try again.")}finally{c(!1),A()}},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Type",sortable:!0}],N=[s&&{icon:Ie,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Fe,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return console.log({currentSubMajorAccountGroup:u,majorAccountGroups:n}),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Category"}),o.jsx("p",{children:"Manage account categories and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:y,actions:N,loading:r})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Account Category":"Add Account Category",children:o.jsx(Re,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||"",AccountSubTypeID:(u==null?void 0:u.AccountSubTypeID.toString())||""},validationSchema:gfe,onSubmit:C,children:({values:S,errors:A,touched:I,handleChange:k,handleBlur:D,isSubmitting:_})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:k,onBlur:D,error:A.Code,touched:I.Code}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:k,onBlur:D,error:A.Name,touched:I.Name}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:S.AccountSubTypeID,onChange:k,onBlur:D,error:A.AccountSubTypeID,touched:I.AccountSubTypeID,options:n.map(M=>({value:M.ID,label:M.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:_,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}function bfe({initialData:t,onSubmit:e,onClose:r,provinces:n=[],municipalities:a=[],barangays:s=[],regionOptions:i=[],provinceOptions:l=[],municipalityOptions:c=[],barangayOptions:u=[],industryOptions:d=[],taxCodeOptions:f=[],vendorTypeOptions:m=[],paymentTermsOptions:p=[],modeOfPaymentOptions:h=[]}){const y=ie({Code:E().required("Code is required"),TIN:E().required("TIN is required"),Name:E().required("Name is required"),PhoneNumber:E(),MobileNumber:E().required("Mobile number is required"),EmailAddress:E().email("Invalid email").required("Email is required"),Website:E(),RegionID:E().required("Region is required"),ProvinceID:E().required("Province is required"),MunicipalityID:E().required("Municipality is required"),BarangayID:E().required("Barangay is required"),StreetAddress:E().required("Street address is required"),ZIPCode:E().required("Zip code is required"),TypeID:E().required("Vendor type is required"),RDO:E().required("Revenue District Office is required"),IndustryTypeID:E().required("Industry is required"),TaxCodeID:E().required("Tax code is required"),PaymentTermsID:E().required("Payment terms are required"),Vatable:Fo(),PaymentMethodID:E().required("Mode of payment is required"),ContactPerson:E().required("Contact person is required"),DeliveryLeadTime:Y().required("Delivery lead time is required").typeError("Must be a number")}),g=at({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:y,onSubmit:S=>{e(S)}}),{values:b,handleChange:v,handleBlur:j,errors:C,touched:x,setFieldValue:N}=g;return w.useEffect(()=>{const S=s.find(A=>A.ID.toString()===b.BarangayID);S&&(S.MunicipalityCode&&N("MunicipalityID",S.MunicipalityCode),S.ProvinceCode&&N("ProvinceID",S.ProvinceCode),S.RegionCode&&N("RegionID",S.RegionCode))},[b.BarangayID]),w.useEffect(()=>{const S=a.find(A=>A.ID.toString()===b.MunicipalityID);S&&(S.ProvinceCode&&N("ProvinceID",S.ProvinceCode),S.RegionCode&&N("RegionID",S.RegionCode))},[b.MunicipalityID]),w.useEffect(()=>{const S=n.find(A=>A.ID.toString()===b.ProvinceID);S&&S.RegionCode&&N("RegionID",S.RegionCode)},[b.ProvinceID]),o.jsxs("form",{onSubmit:g.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:b.Code,onChange:v,onBlur:j,error:C.Code,touched:x.Code,required:!0}),o.jsx(T,{label:"TIN",name:"TIN",type:"text",value:b.TIN,onChange:v,onBlur:j,error:C.TIN,touched:x.TIN,required:!0})]}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:b.Name,onChange:v,onBlur:j,error:C.Name,touched:x.Name,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Phone Number",name:"PhoneNumber",type:"text",value:b.PhoneNumber,onChange:v,onBlur:j}),o.jsx(T,{label:"Mobile Number",name:"MobileNumber",type:"text",value:b.MobileNumber,onChange:v,onBlur:j,error:C.MobileNumber,touched:x.MobileNumber,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Email",name:"EmailAddress",type:"email",value:b.EmailAddress,onChange:v,onBlur:j,error:C.EmailAddress,touched:x.EmailAddress,required:!0}),o.jsx(T,{label:"Website",name:"Website",type:"text",value:b.Website,onChange:v,onBlur:j})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Region",name:"RegionID",type:"select",options:i,value:b.RegionID,onChange:v,onBlur:j,error:C.RegionID,touched:x.RegionID,required:!0}),o.jsx(T,{label:"Province",name:"ProvinceID",type:"select",options:l,value:b.ProvinceID,onChange:v,onBlur:j,error:C.ProvinceID,touched:x.ProvinceID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Municipality",name:"MunicipalityID",type:"select",options:c,value:b.MunicipalityID,onChange:v,onBlur:j,error:C.MunicipalityID,touched:x.MunicipalityID,required:!0}),o.jsx(T,{label:"Barangay",name:"BarangayID",type:"select",options:u,value:b.BarangayID,onChange:v,onBlur:j,error:C.BarangayID,touched:x.BarangayID,required:!0})]}),o.jsx(T,{label:"Street Address",name:"StreetAddress",type:"textarea",value:b.StreetAddress,onChange:v,onBlur:j,error:C.StreetAddress,touched:x.StreetAddress,required:!0}),o.jsx(T,{label:"Zip Code",name:"ZIPCode",type:"text",value:b.ZIPCode,onChange:v,onBlur:j,error:C.ZIPCode,touched:x.ZIPCode,required:!0}),o.jsx("hr",{className:"border-t border-neutral-300 my-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Vendor Type",name:"TypeID",type:"select",options:m,value:b.TypeID,onChange:v,onBlur:j,error:C.TypeID,touched:x.TypeID,required:!0}),o.jsx(T,{label:"Revenue District Office",name:"RDO",type:"text",value:b.RDO,onChange:v,onBlur:j,error:C.RDO,touched:x.RDO,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Industry",name:"IndustryTypeID",type:"select",options:d,value:b.IndustryTypeID,onChange:v,onBlur:j,error:C.IndustryTypeID,touched:x.IndustryTypeID,required:!0}),o.jsx(T,{label:"Tax Code",name:"TaxCodeID",type:"select",options:f,value:b.TaxCodeID,onChange:v,onBlur:j,error:C.TaxCodeID,touched:x.TaxCodeID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:p,value:b.PaymentTermsID,onChange:v,onBlur:j,error:C.PaymentTermsID,touched:x.PaymentTermsID,required:!0}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:b.Vatable,onChange:v,onBlur:j}),o.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:h,value:b.PaymentMethodID,onChange:v,onBlur:j,error:C.PaymentMethodID,touched:x.PaymentMethodID,required:!0}),o.jsx(T,{label:"Contact Person",name:"ContactPerson",type:"text",value:b.ContactPerson,onChange:v,onBlur:j,error:C.ContactPerson,touched:x.ContactPerson,required:!0})]}),o.jsx(T,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:b.DeliveryLeadTime,onChange:v,onBlur:j,error:C.DeliveryLeadTime,touched:x.DeliveryLeadTime,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g.isSubmitting,children:g.isSubmitting?"Saving...":"Save"})]})]})}const tj="https://staging-engine.testthelink.online",xfe=[],La=F("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tj}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_g=F("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${tj}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),pA=F("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${tj}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$g=F("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${tj}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),vfe=ve({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(La.pending,e=>{e.isLoading=!0,e.error=null}).addCase(La.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(La.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=xfe}).addCase(_g.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(pA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase($g.pending,e=>{e.isLoading=!0,e.error=null}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),jfe=vfe.reducer,rj="https://staging-engine.testthelink.online",wfe=[],Ao=F("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rj}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Rg=F("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${rj}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gA=F("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${rj}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Mg=F("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${rj}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Nfe=ve({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ao.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ao.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(Ao.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=wfe}).addCase(Rg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(gA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(Mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),Cfe=Nfe.reducer,nj="https://staging-engine.testthelink.online",Sfe=[],Io=F("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nj}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Lg=F("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${nj}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),yA=F("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${nj}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fg=F("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${nj}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Afe=ve({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Io.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Io.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(Io.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=Sfe}).addCase(Lg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(yA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(Fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),Ife=Afe.reducer,aj="https://staging-engine.testthelink.online",kfe=[],ko=F("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aj}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Bg=F("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${aj}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),bA=F("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${aj}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),qg=F("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${aj}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Tfe=ve({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ko.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ko.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(ko.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=kfe}).addCase(Bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(bA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),Dfe=Tfe.reducer,sj="https://staging-engine.testthelink.online",Efe=[],To=F("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vg=F("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${sj}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xA=F("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${sj}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ug=F("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${sj}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Pfe=ve({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(To.pending,e=>{e.isLoading=!0,e.error=null}).addCase(To.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(To.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=Efe}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(xA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),Ofe=Pfe.reducer,oj="https://staging-engine.testthelink.online",_fe=[],fc=F("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),zg=F("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${oj}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vA=F("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${oj}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Wg=F("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${oj}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$fe=ve({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(fc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fc.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(fc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=_fe}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(vA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),Rfe=$fe.reducer,ij="https://staging-engine.testthelink.online",Mfe=[],Bi=F("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Hg=F("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${ij}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),jA=F("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${ij}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Gg=F("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${ij}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Lfe=ve({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Bi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bi.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(Bi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=Mfe}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(jA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),Ffe=Lfe.reducer,lj="https://staging-engine.testthelink.online",Bfe=[],Kn=F("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Yg=F("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${lj}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wA=F("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${lj}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Kg=F("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${lj}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),qfe=ve({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Kn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kn.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(Kn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=Bfe}).addCase(Yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(wA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(Kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),Vfe=qfe.reducer,cj="https://staging-engine.testthelink.online",Ufe=[],qi=F("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cj}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Jg=F("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${cj}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NA=F("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${cj}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Xg=F("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${cj}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),zfe=ve({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(qi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qi.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(qi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=Ufe}).addCase(Jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(NA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(Xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),Wfe=zfe.reducer,uj="https://staging-engine.testthelink.online",Hfe=[],Vi=F("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uj}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Qg=F("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${uj}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),CA=F("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${uj}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Zg=F("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${uj}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Gfe=ve({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Vi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vi.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(Vi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=Hfe}).addCase(Qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(CA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(Zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),Yfe=Gfe.reducer;function Kfe(){const t=ce(),{vendorDetails:e,isLoading:r}=q(U=>U.vendorDetails),{Add:n,Edit:a,Delete:s}=we(91),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null),{regions:h}=q(U=>U.regions),{provinces:y}=q(U=>U.provinces),{municipalities:g}=q(U=>U.municipalities),{barangays:b}=q(U=>U.barangays),{vendorTypes:v}=q(U=>U.vendorTypes),{industries:j}=q(U=>U.industries),{taxCodes:C}=q(U=>U.taxCodes),{paymentTerms:x}=q(U=>U.paymentTerms),{modeOfPayments:N}=q(U=>U.modeOfPayments);w.useEffect(()=>{t(La()),t(Ao()),t(Io()),t(ko()),t(To()),t(fc()),t(Bi()),t(Kn()),t(qi()),t(Vi())},[t]);const S=h.map(U=>({value:U.ID,label:U.Name})),A=y.map(U=>({value:U.ID,label:U.Name})),I=g.map(U=>({value:U.ID,label:U.Name})),k=b.map(U=>({value:U.ID,label:U.Name})),D=v.map(U=>({value:U.ID,label:U.Name})),_=j.map(U=>({value:U.ID,label:U.Name})),M=C.map(U=>({value:U.ID,label:U.Code})),P=x.map(U=>({value:U.ID,label:U.Name})),O=N.map(U=>({value:U.ID,label:U.Name})),L=()=>{u(null),l(!0)},V=U=>{u(U),l(!0)},$=U=>{p(U),f(!0)},R=async()=>{if(m)try{await t($g(m.ID)).unwrap(),f(!1),p(null),B.success("Vendor details deleted successfully")}catch(U){console.error("Failed to delete vendor details:",U)}},W=async U=>{try{c?(await t(pA({...U,ID:c.ID})).unwrap(),B.success("Vendor details updated successfully")):(await t(_g(U)).unwrap(),B.success("Vendor details added successfully")),t(La())}catch(ae){console.error("Failed to save vendor details:",ae),B.error("Failed to save vendor details. Please try again.")}finally{l(!1)}},Z=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Vendor",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:U=>{const ae=x.find(xe=>xe.ID==U);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:U=>{const ae=N.find(xe=>xe.ID==U);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Time (no. of Days)",sortable:!0,render:U=>U||"0"},{key:"TIN",header:"TIN",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:U=>U?"Yes":"No"},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:U=>{const ae=C.find(xe=>xe.ID==U);return(ae==null?void 0:ae.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:U=>{const ae=v.find(xe=>xe.ID==U);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:U=>{const ae=j.find(xe=>xe.ID==U);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone Number",sortable:!0},{key:"MobileNumber",header:"Mobile Number",sortable:!0},{key:"EmailAddress",header:"Email Address",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:U=>U||"No website"},{key:"StreetAddress",header:"StreetAddress",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:U=>{const ae=b.find(xe=>xe.ID==U);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:U=>{const ae=g.find(xe=>xe.ID==U);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:U=>{const ae=y.find(xe=>xe.ID==U);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:U=>{const ae=h.find(xe=>xe.ID==U);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"ZIPCode",header:"ZIPCode",sortable:!0}],G=[a&&{icon:Ie,title:"Edit",onClick:V,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:$,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Details"}),o.jsx("p",{children:"Manage Vendor Details"})]}),n&&o.jsxs("button",{type:"button",onClick:L,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:Z,data:e,actions:G,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Details":"Add Vendor Details",children:o.jsx(bfe,{initialData:c,onClose:()=>l(!1),onSubmit:W,provinces:y,municipalities:g,barangays:b,regionOptions:S,provinceOptions:A,municipalityOptions:I,barangayOptions:k,vendorTypeOptions:D,industryOptions:_,taxCodeOptions:M,paymentTermsOptions:P,modeOfPaymentOptions:O})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:R,className:"btn btn-danger",children:"Delete"})]})]})]})}function Jfe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:E().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const dj="https://staging-engine.testthelink.online",Xfe=[],Jd=F("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dj}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ey=F("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${dj}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),SA=F("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${dj}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ty=F("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${dj}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Qfe=ve({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Jd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jd.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Jd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=Xfe}).addCase(ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(SA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),Zfe=Qfe.reducer;function eme(){const t=ce(),{vendorCustomerTypes:e,isLoading:r}=q(x=>x.vendorCustomerTypes),{Add:n,Edit:a,Delete:s}=we(91),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Jd())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(ty(m.ID)).unwrap(),f(!1),p(null),B.success("Vendor customer type deleted successfully")}catch(x){console.error("Failed to delete vendor customer type:",x),B.error("Failed to delete vendor customer type. Please try again.")}},v=async x=>{try{c?(await t(SA({...x,ID:c.ID})).unwrap(),B.success("Vendor customer type updated successfully")):(await t(ey(x)).unwrap(),B.success("Vendor customer type saved successfully")),t(Jd())}catch(N){console.error("Failed to save vendor customer type:",N),B.error("Failed to save vendor customer type. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Customer Types"}),o.jsx("p",{children:"Manage Vendor Customer Types"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:o.jsx(Jfe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function tme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:E().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function rme(){const t=ce(),{vendorTypes:e,isLoading:r}=q(x=>x.vendorTypes),{Add:n,Edit:a,Delete:s}=we(92),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(fc())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Wg(m.ID)).unwrap(),f(!1),p(null),B.success("Vendor type deleted successfully")}catch(x){console.error("Failed to delete vendor type:",x),B.error("Failed to delete vendor type. Please try again.")}},v=async x=>{try{c?(await t(vA({...x,ID:c.ID})).unwrap(),B.success("Vendor type updated successfully")):(await t(zg(x)).unwrap(),B.success("Vendor type saved successfully")),t(fc())}catch(N){console.error("Failed to save vendor type:",N),B.error("Failed to save vendor type. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Types"}),o.jsx("p",{children:"Manage Vendor Types"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Type":"Add Vendor Type",children:o.jsx(tme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function nme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Description:E().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const fj="https://staging-engine.testthelink.online",ame=[],Ui=F("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fj}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ry=F("modules/addModule",async(t,e)=>{try{const r=await fetch(`${fj}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),AA=F("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${fj}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ny=F("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${fj}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),sme=ve({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ui.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ui.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(Ui.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=ame}).addCase(ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(AA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),ome=sme.reducer;function ime(){const t=ce(),{modules:e,isLoading:r}=q(v=>v.modules),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Ui())},[t]);const f=()=>{i(null),a(!0)},m=v=>{i(v),console.log("Edit module:",v),a(!0)},p=v=>{d(v),c(!0)},h=async()=>{if(u)try{await t(ny(u.ID)).unwrap(),c(!1),d(null),B.success("Module deleted successfully")}catch(v){console.error("Failed to delete module:",v),B.error("Failed to delete module. Please try again.")}},y=async v=>{try{s?(await t(AA({...v,ID:s.ID})).unwrap(),t(Ui()),B.success("Module updated successfully")):(await t(ry(v)).unwrap(),t(Ui()),B.success("Module saved successfully"))}catch(j){console.error("Failed to save module:",j),B.error("Failed to save module. Please try again.")}finally{a(!1)}},g=[{key:"Description",header:"Name",sortable:!0}],b=[{icon:Ie,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Modules"}),o.jsx("p",{children:"Manage Modules"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:g,data:e,actions:b,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),o.jsx(oe,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Module":"Add Module",children:o.jsx(nme,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(oe,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.Description,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const mj="https://staging-engine.testthelink.online",lme=[],zi=F("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mj}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ay=F("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${mj}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),IA=F("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${mj}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),sy=F("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${mj}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),cme=ve({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(zi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zi.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(zi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=lme}).addCase(ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase(IA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),ume=cme.reducer,hj="https://staging-engine.testthelink.online",dme=[],mc=F("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hj}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),oy=F("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${hj}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kA=F("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${hj}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),iy=F("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${hj}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),fme=ve({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(mc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mc.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(mc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=dme}).addCase(oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(kA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),mme=fme.reducer,pj="https://staging-engine.testthelink.online",hme=[],Wi=F("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pj}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ly=F("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${pj}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),TA=F("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${pj}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),cy=F("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${pj}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),pme=ve({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Wi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wi.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Wi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=hme}).addCase(ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(TA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),gme=pme.reducer,yme=ie().shape({FirstName:E().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:E().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:E().max(100,"Middle name must be at most 100 characters"),Birthday:Le().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:E().required("Gender is required"),StreetAddress:E().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:E().required("Contact number is required"),EmailAddress:E().email("Invalid email address").required("Email is required"),IDNumber:Y(),DepartmentID:Y().required("Department is required"),PositionID:E().required("Position is required"),NationalityID:E().required("Nationality is required"),EmploymentStatusID:E().required("Employment status is required"),DateHired:Le().required("Date hired is required"),TIN:E().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),GSIS:E(),Philhealth:E(),Pagibig:E(),Active:E().required("Status is required"),ZIPCode:E().max(6,"ZIP code must be at most 6 characters"),Region:E().required("Region is required"),Province:E().required("Province is required"),Municipality:E().required("Municipality is required"),Barangay:E().required("Barangay is required")});function bme({initialData:t,onClose:e}){const r=ce();w.useEffect(()=>{r(sr()),r(zi()),r(mc()),r(Ao()),r(Io()),r(ko()),r(To()),r(Wi())},[r]);const{regions:n}=q(k=>k.regions),{provinces:a}=q(k=>k.provinces),{municipalities:s}=q(k=>k.municipalities),{barangays:i}=q(k=>k.barangays),{nationalities:l}=q(k=>k.nationalities),c=l==null?void 0:l.map(k=>({value:k.ID,label:k.Name})),u=n.map(k=>({value:k.ID.toString(),label:k.Name})),d=a.map(k=>({value:k.ID.toString(),label:k.Name})),f=s.map(k=>({value:k.ID.toString(),label:k.Name})),m=i.map(k=>({value:k.ID.toString(),label:k.Name})),{departments:p,isLoading:h}=q(k=>k.departments),y=p.map(k=>({value:k.ID,label:k.Name})),{positions:g,isLoading:b}=q(k=>k.positions),v=g.map(k=>({value:k.ID,label:k.Name})),{employmentStatuses:j,isLoading:C}=q(k=>k.employmentStatuses),x=j.map(k=>({value:k.ID,label:k.Name})),[N,S]=w.useState(!1);console.log(t);const A=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",IDNumber:"",NationalityID:"",Nationality:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:1,ZIPCode:"",Region:"",Province:"",Municipality:"",Barangay:""},I=k=>{var P;S(!0);const D=((P=p.find(O=>O.value===Number(k.DepartmentID)))==null?void 0:P.label)||"",_={...k,DepartmentID:Number(k.DepartmentID),departmentName:D},M=t?bg({..._,id:t.id,employeeCode:t.employeeCode}):yg(_);r(M).unwrap().then(()=>{t?B.success("Employee updated successfully."):B.success("Employee added successfully."),r(cn())}).catch(O=>{console.error("Error submitting employee:",O),B.error("Failed to submit employee. Please try again.")}).finally(()=>{e(),S(!1)})};return o.jsx(Re,{initialValues:A,validationSchema:yme,onSubmit:I,enableReinitialize:!0,children:({values:k,errors:D,touched:_,handleChange:M,handleBlur:P,isValid:O,setFieldValue:L,submitCount:V})=>(w.useEffect(()=>{const $=i.find(R=>R.ID.toString()===k.Barangay);if($){const{MunicipalityCode:R,ProvinceCode:W,RegionCode:Z}=$;R&&L("Municipality",R),W&&L("Province",W),Z&&L("Region",Z)}},[k.Barangay]),w.useEffect(()=>{const $=s.find(R=>R.ID.toString()===k.Municipality);if($){const{ProvinceCode:R,RegionCode:W}=$;R&&L("Province",R),W&&L("Region",W)}},[k.Municipality]),w.useEffect(()=>{const $=a.find(R=>R.ID.toString()===k.Province);if($){const{RegionCode:R}=$;R&&L("Region",R)}},[k.Province]),o.jsxs(Be,{className:"space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(T,{label:"First name",name:"FirstName",type:"text",required:!0,value:k.FirstName,onChange:M,onBlur:P,error:D.FirstName,touched:_.FirstName}),o.jsx(T,{label:"Middle name",name:"MiddleName",type:"text",value:k.MiddleName,onChange:M,onBlur:P,error:D.MiddleName,touched:_.MiddleName}),o.jsx(T,{label:"Last name",name:"LastName",type:"text",required:!0,value:k.LastName,onChange:M,onBlur:P,error:D.LastName,touched:_.LastName}),o.jsx(T,{label:"Gender",name:"Gender",type:"select",required:!0,value:k.Gender,onChange:M,onBlur:P,error:D.Gender,touched:_.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),o.jsx(T,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:k.Birthday,onChange:M,onBlur:P,error:D.Birthday,touched:_.Birthday})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Address Information"}),o.jsx(T,{label:"Region",name:"Region",type:"select",required:!0,options:u,value:k.Region||"",onChange:M}),o.jsx(T,{label:"Province",name:"Province",type:"select",required:!0,options:d,value:k.Province||"",onChange:M}),o.jsx(T,{label:"Municipality",name:"Municipality",type:"select",required:!0,options:f,value:k.Municipality||"",onChange:M}),o.jsx(T,{label:"Barangay",name:"Barangay",type:"select",required:!0,options:m,value:k.Barangay||"",onChange:M}),o.jsx(T,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:k.StreetAddress||"",onChange:M,onBlur:P,error:D.StreetAddress,touched:_.StreetAddress})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Contact Information"}),o.jsx(yt,{label:"Nationality",name:"NationalityID",type:"select",options:c,required:!0,placeholder:"Select Nationality",onSelect:$=>{const R=c.find(W=>W.value===$);L("NationalityID",$||""),L("Nationality",(R==null?void 0:R.label)||"")},className:"w-full",selectedValue:k.NationalityID,error:D.Nationality,touched:_.Nationality}),o.jsx(T,{label:"Zip Code",name:"ZIPCode",type:"text",value:k.ZIPCode||"",onChange:M,onBlur:P,error:D.ZIPCode,touched:_.ZIPCode}),o.jsx(T,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:k.MobileNumber||"",onChange:M,onBlur:P,error:D.MobileNumber,touched:_.MobileNumber}),o.jsx(T,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:k.EmailAddress||"",onChange:M,onBlur:P,error:D.EmailAddress,touched:_.EmailAddress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(T,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:k.EmergencyContact||"",onChange:M,onBlur:P,error:D.EmergencyContact,touched:_.EmergencyContact}),o.jsx(T,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:k.EmergencyNumber||"",onChange:M,onBlur:P,error:D.EmergencyNumber,touched:_.EmergencyNumber})]})]})]})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(T,{label:"ID Number",name:"IDNumber",type:"text",value:k.IDNumber||"",onChange:M}),o.jsx(T,{label:"TIN",name:"TIN",type:"text",value:k.TIN||"",onChange:M,onBlur:P,error:D.TIN,touched:_.TIN})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(T,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:k.Pagibig||"",onChange:M,onBlur:P,error:D.Pagibig,touched:_.Pagibig}),o.jsx(T,{label:"GSIS",name:"GSIS",type:"text",value:k.GSIS||"",onChange:M,onBlur:P,error:D.GSIS,touched:_.GSIS})]}),o.jsx(T,{label:"Philhealth",name:"Philhealth",type:"text",value:k.Philhealth||"",onChange:M,onBlur:P,error:D.Philhealth,touched:_.Philhealth}),o.jsx(T,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:k.DepartmentID||"",onChange:M,onBlur:P,error:D.DepartmentID,touched:_.DepartmentID,options:y,disabled:h})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(T,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:k.DateHired||"",onChange:M,onBlur:P,error:D.DateHired,touched:_.DateHired}),o.jsx(T,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:k.EmploymentStatusID||"",onChange:M,onBlur:P,error:D.EmploymentStatusID,touched:_.EmploymentStatusID,options:x,disabled:C})]}),o.jsx(T,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:k.EmploymentStatusDate||"",onChange:M,readOnly:!0}),o.jsx(T,{label:"Position",name:"PositionID",type:"select",required:!0,value:k.PositionID||"",onChange:M,onBlur:P,error:D.PositionID,touched:_.PositionID,options:v,disabled:b}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[[k.FirstName,k.MiddleName,k.LastName].filter(Boolean).join(" "),k.TIN&&` - ${k.TIN}`,k.DepartmentID&&` - ${k.DepartmentID}`]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:N,className:"btn btn-primary",children:N?"Saving...":t?"Update":"Save"})]}),V>0&&Object.keys(D).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(D).map(([$,R])=>o.jsx("li",{children:R},$))})]})]}))})}function xme(){const t=ce(),{employees:e,isLoading:r}=q(x=>x.employees),{Add:n,Edit:a,Delete:s}=we(43),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(cn())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{try{m&&(t(xg(m.ID)),f(!1),p(null),B.success("Employee deleted successfully"))}catch(x){console.error("Failed to delete employee:",x),B.error("Failed to delete employee. Please try again.")}},v=()=>{l(!1),u(null)},j=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"FirstName",header:"First Name",sortable:!0},{key:"MiddleName",header:"Middle Name",sortable:!0},{key:"LastName",header:"Last Name",sortable:!0},{key:"Department",header:"Department",sortable:!0,render:x=>(x==null?void 0:x.Name)||""},{key:"Position",header:"Position",sortable:!0,render:x=>(x==null?void 0:x.Name)||""},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:x=>(x==null?void 0:x.Name)||""}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employees"}),o.jsx("p",{children:"Manage employee information and records"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r})}),o.jsx(oe,{isOpen:i,onClose:v,title:c?"Edit Employee":"Add Employee",size:"lg",children:o.jsx(bme,{initialData:c,onClose:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",o.jsxs("span",{className:"font-medium",children:[m==null?void 0:m.FirstName," ",m==null?void 0:m.LastName]}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function vme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:E().required("Employment Status is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function jme(){const t=ce(),{employmentStatuses:e,isLoading:r}=q(x=>x.employmentStatuses),{Add:n,Edit:a,Delete:s}=we(93),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(mc())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(iy(m.ID)).unwrap(),f(!1),p(null),B.success("Employment status deleted successfully")}catch(x){console.error("Failed to delete employment status:",x),B.error("Failed to delete employment status. Please try again.")}},v=async x=>{try{c?(await t(kA({...x,ID:c.ID})).unwrap(),B.success("Employment status updated successfully")):(await t(oy(x)).unwrap(),B.success("Employment status saved successfully")),t(mc())}catch(N){console.error("Failed to save employment status:",N),B.error("Failed to save employment status. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Employment Status",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employment Status"}),o.jsx("p",{children:"Manage Employment Statuses"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Employment Status":"Add Employment Status",children:o.jsx(vme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function wme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:E().required("Position is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Nme(){const t=ce(),{positions:e,isLoading:r}=q(x=>x.positions),{Add:n,Edit:a,Delete:s}=we(36),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(zi())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(sy(m.ID)).unwrap(),f(!1),p(null),B.success("Position deleted successfully")}catch(x){console.error("Failed to delete position:",x),B.error("Failed to delete position. Please try again.")}},v=async x=>{try{c?(await t(IA({...x,ID:c.ID})).unwrap(),B.success("Position updated successfully")):(await t(ay(x)).unwrap(),B.success("Position saved successfully")),t(zi())}catch(N){console.error("Failed to save position:",N),B.error("Failed to save position. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Position",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Position"}),o.jsx("p",{children:"Manage Positions"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Position":"Add Position",children:o.jsx(wme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Cme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Description:E().required("User Role is required")}),a=at({initialValues:t||{Description:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Sme(){const t=ce(),{userroles:e,isLoading:r}=q(x=>x.userroles),{Add:n,Edit:a,Delete:s}=we(84),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(So())},[t]);const h=()=>{u(null),l(!0)},y=x=>{if(x.Description=="Administrator"){B.error("The 'Administrator' role cannot be edited.");return}u(x),l(!0)},g=x=>{if(x.Description=="Administrator"){B.error("The 'Administrator' role cannot be deleted.");return}p(x),f(!0)},b=async()=>{if(m)try{await t(jg(m.ID)).unwrap(),f(!1),p(null),B.success("User role deleted successfully")}catch(x){console.error("Failed to delete user role:",x),B.error("Failed to delete user role. Please try again.")}},v=async x=>{try{c?(await t(hA({...x,ID:c.ID})).unwrap(),t(So()),B.success("User role updated successfully")):(await t(vg(x)).unwrap(),t(So()),B.success("User role saved successfully"))}catch(N){console.error("Failed to save user role:",N),B.error("Failed to save user role. Please try again.")}finally{l(!1)}},j=[{key:"Description",header:"User Role",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"User Roles"}),o.jsx("p",{children:"Manage User Roles"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit User Role":"Add User Role",children:o.jsx(Cme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ame({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:E().required("Nationality is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ime(){const t=ce(),{nationalities:e,isLoading:r}=q(x=>x.nationalities),{Add:n,Edit:a,Delete:s}=we(94),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Wi())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(cy(m.ID)).unwrap(),f(!1),p(null),B.success("Nationality deleted successfully")}catch(x){console.error("Failed to delete nationality:",x),B.error("Failed to delete nationality. Please try again.")}},v=async x=>{try{c?(await t(TA({...x,ID:c.ID})).unwrap(),B.success("Nationality updated successfully")):(await t(ly(x)).unwrap(),B.success("Nationality saved successfully")),t(Wi())}catch(N){console.error("Failed to save nationality:",N),B.error("Failed to save nationality. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Nationality",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Nationalities"}),o.jsx("p",{children:"Manage Nationalities"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Nationality":"Add Nationality",children:o.jsx(Ame,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const et={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};ie().shape({date:Le().required(et.required).max(new Date,et.futureDate),reference:E().max(50,"Reference number too long"),particulars:E().required(et.required).max(500,"Particulars too long"),debitEntries:Gt().of(ie().shape({accountCode:E().required("Account code is required"),amount:Y().required("Amount is required").moreThan(0,et.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:Gt().of(ie().shape({accountCode:E().required("Account code is required"),amount:Y().required("Amount is required").moreThan(0,et.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const n$=ie().shape({date:Le().required(et.required).max(new Date,et.futureDate),period:E().required(et.required),stallNumber:E().required(et.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:E().required(et.required),stallOwner:E().required(et.required).max(100,"Name too long"),amount:Y().required(et.required).moreThan(0,et.positiveNumber)});ie().shape({certificateNo:E().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Le().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:E().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:E().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:E().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:E().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:E().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:E().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:E().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:E().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Le().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:E().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:Y().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:Y().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:E().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:Y().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:Y().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:Y().min(0,"Amount cannot be negative").nullable(),purpose:E().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:Y().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:Y().min(0,"Interest cannot be negative").nullable()});ie().shape({date:Le().required(et.required).max(new Date,et.futureDate),tdNumber:E().required(et.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:E().required(et.required).max(100,"Name too long"),location:E().required(et.required).max(200,"Location too long"),basicTax:Y().required(et.required).moreThan(0,et.positiveNumber),sef:Y().required(et.required).moreThan(0,et.positiveNumber),penalty:Y().min(0,"Amount cannot be negative")});const kme=ie().shape({Name:E().required(et.required).max(100,"Name too long"),MunicipalityCode:E().required(et.required),ProvinceCode:E().required(et.required),RegionCode:E().required(et.required)}),Tme=ie().shape({Name:E().required(et.required).max(100,"Name too long"),ProvinceCode:E().required(et.required),RegionCode:E().required(et.required)}),Dme=ie().shape({Name:E().required(et.required).max(100,"Name too long"),RegionCode:E().required(et.required)}),a$=ie().shape({Name:E().required(et.required).max(100,"Name too long")});ie().shape({id:E().required("ID is required"),status:E().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Le().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:E().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Le().required("Date is required").max(new Date,"Date cannot be in the future"),agency:E().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:E().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:E().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});const ap={region:71,province:67,municipality:61,barangay:19};function Eme(){const[t,e]=w.useState("region"),[r,n]=w.useState(!1),[a,s]=w.useState(null),[i,l]=w.useState(!1),[c,u]=w.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},f=ce(),{regions:m}=q(R=>R.regions),{provinces:p}=q(R=>R.provinces),{municipalities:h}=q(R=>R.municipalities),{barangays:y}=q(R=>R.barangays);w.useEffect(()=>{f(Ao()),f(Io()),f(ko()),f(To())},[f]);const g=()=>{switch(t){case"region":return a$;case"province":return Dme;case"municipality":return Tme;case"barangay":return kme;default:return a$}},b=we(ap.region),v=we(ap.province),j=we(ap.municipality),C=we(ap.barangay),x=()=>{switch(t){case"region":return b;case"province":return v;case"municipality":return j;case"barangay":return C;default:return{Add:!1,Edit:!1,Delete:!1}}},N=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},S=()=>{switch(t){case"region":return m;case"province":return p.map(R=>({...R,RegionName:V(R.RegionCode,m)}));case"municipality":return h.map(R=>({...R,RegionName:V(R.RegionCode,m),ProvinceName:V(R.ProvinceCode,p)}));case"barangay":return y.map(R=>({...R,RegionName:V(R.RegionCode,m),ProvinceName:V(R.ProvinceCode,p),MunicipalityName:V(R.MunicipalityCode,h)}));default:return[]}},A=()=>{switch(t){case"region":return Rg;case"province":return Lg;case"municipality":return Bg;case"barangay":return Vg;default:return null}},I=()=>{switch(t){case"region":return gA;case"province":return yA;case"municipality":return bA;case"barangay":return xA;default:return null}},k=()=>{switch(t){case"region":return Mg;case"province":return Fg;case"municipality":return qg;case"barangay":return Ug;default:return null}},D=[x().Edit&&{icon:Ie,title:"Edit",onClick:R=>M(R),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},x().Delete&&{icon:Fe,title:"Delete",onClick:R=>P(R),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],_=()=>{s(null),n(!0)},M=R=>{s(R),n(!0)},P=R=>{u(R),l(!0)},O=async()=>{try{c&&(await f(k()(c.ID)).unwrap(),l(!1),u(null),B.success("Location deleted successfully"))}catch(R){console.error("Failed to delete location:",R),B.error("Failed to delete location. Please try again.")}};w.useEffect(()=>{r&&L.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const L=at({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:g(),onSubmit:async(R,{setSubmitting:W})=>{const Z=a?I():A(),G=a?{...a,...R}:R;try{await f(Z(G)).unwrap(),B.success("Location saved successfully")}catch(U){console.error("Failed to save location:",U),B.error("Failed to save location. Please try again.")}finally{n(!1),W(!1)}}}),V=(R,W)=>{const Z=W.find(G=>G.ID.toString()===R.toString());return Z?Z.Name:""},$=()=>{const R={formik:L,onChange:L.handleChange,onBlur:L.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return o.jsx(T,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:L.values.Name,error:L.errors.Name,touched:L.touched.Name,...R});case"province":return o.jsxs(o.Fragment,{children:[o.jsx(T,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:L.values.Name,error:L.errors.Name,touched:L.touched.Name,...R}),o.jsx(T,{label:"Region",name:"RegionCode",type:"select",options:m.map(W=>({value:W.ID,label:W.Name})),value:L.values.RegionCode,error:L.errors.RegionCode,touched:L.touched.RegionCode,...R})]});case"municipality":return o.jsxs(o.Fragment,{children:[o.jsx(T,{label:"Municipality",name:"Name",type:"text",value:L.values.Name,error:L.errors.Name,touched:L.touched.Name,placeholder:"Enter municipality name",...R}),o.jsx(T,{label:"Province",name:"ProvinceCode",type:"select",options:p.map(W=>({value:W.ID,label:W.Name})),value:L.values.ProvinceCode,error:L.errors.ProvinceCode,touched:L.touched.ProvinceCode,onChange:W=>{const Z=W.target.value,G=p.find(U=>U.ID.toString()===Z.toString());L.setFieldValue("ProvinceCode",Z),G&&L.setFieldValue("RegionCode",G.RegionCode)},onBlur:L.handleBlur,required:!0}),o.jsx(T,{label:"Region",name:"RegionCode",type:"text",value:V(L.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return o.jsxs(o.Fragment,{children:[o.jsx(T,{label:"Barangay",name:"Name",type:"text",value:L.values.Name,error:L.errors.Name,touched:L.touched.Name,placeholder:"Enter barangay name",...R}),o.jsx(T,{label:"Municipality",name:"MunicipalityCode",type:"select",options:h.map(W=>({value:W.ID,label:W.Name})),value:L.values.MunicipalityCode,error:L.errors.MunicipalityCode,touched:L.touched.MunicipalityCode,onChange:W=>{const Z=W.target.value,G=h.find(U=>U.ID.toString()===Z.toString());L.setFieldValue("MunicipalityCode",Z),G&&(L.setFieldValue("ProvinceCode",G.ProvinceCode),L.setFieldValue("RegionCode",G.RegionCode))},onBlur:L.handleBlur,required:!0}),o.jsx(T,{label:"Province",name:"ProvinceCode",type:"text",value:V(L.values.ProvinceCode,p),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),o.jsx(T,{label:"Region",name:"RegionCode",type:"text",value:V(L.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Locations"}),o.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),x().Add&&o.jsxs("button",{type:"button",onClick:_,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),o.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:o.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map(R=>o.jsx("button",{onClick:()=>e(R),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===R?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[R]},R))})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N(),data:S(),actions:D,pagination:!0})}),o.jsx(oe,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:o.jsxs("form",{onSubmit:L.handleSubmit,className:"sm:p-4 space-y-4",children:[$(),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:L.isSubmitting,children:L.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:O,className:"btn btn-danger",children:"Delete"})]})]})})]})}const gj="https://staging-engine.testthelink.online",Pme=[],hc=F("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gj}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),uy=F("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${gj}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),DA=F("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${gj}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),dy=F("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${gj}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ome=ve({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(hc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(hc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=Pme}).addCase(uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(DA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(DA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),_me=Ome.reducer,yj="https://staging-engine.testthelink.online",$me=[],pc=F("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yj}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),fy=F("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${yj}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),EA=F("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${yj}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),my=F("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${yj}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Rme=ve({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(pc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(pc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=$me}).addCase(fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(EA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(my.pending,e=>{e.isLoading=!0,e.error=null}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),Mme=Rme.reducer,bj="https://staging-engine.testthelink.online",Lme=[],Fme=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],Bme=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],qme={ppes:Lme,ppe:null,isLoading:!1,error:null,categories:Fme,suppliers:Bme},gc=F("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bj}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),hy=F("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${bj}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),py=F("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${bj}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gy=F("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${bj}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),nV=ve({name:"ppes",initialState:qme,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(gc.pending,e=>{e.isLoading=!0}).addCase(gc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(gc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hy.pending,e=>{e.isLoading=!0}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(py.pending,e=>{e.isLoading=!0}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gy.pending,e=>{e.isLoading=!0}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:R8e,resetPPEResource:M8e,addCategory:L8e,addSupplier:F8e}=nV.actions,Vme=nV.reducer,Ume=ie().shape({CategoryID:E().required("Category is required"),Description:E().required("Description is required"),DepreciationRate:Y().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:Y().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:Y().typeError("Must be a number").required("Net Book Value is required"),SupplierID:E().required("Supplier is required"),PPENumber:E().required("PPE Number is required"),Unit:E().required("Unit is required"),Barcode:E().required("Barcode is required"),Quantity:Y().typeError("Must be a number").required("Quantity is required"),Cost:Y().typeError("Must be a number").required("Cost is required"),DateAcquired:E().required("Date acquired is required"),EstimatedUsefulLife:Y().typeError("Must be a number").required("Estimated useful life is required"),PONumber:E().required("PO Number is required"),PRNumber:E().required("PR Number is required"),InvoiceNumber:E().required("Invoice Number is required"),AIRNumber:E().required("AIR Number is required"),RISNumber:E().required("RIS Number is required"),Remarks:E()});function zme({initialData:t,onClose:e}){const r=ce(),[n,a]=w.useState(!1),{ppeSuppliers:s}=q(u=>u.ppeSuppliers),{ppeCategories:i}=q(u=>u.ppeCategories);w.useEffect(()=>{r(hc()),r(pc())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?py({...u,ID:t.ID}):hy(u);r(d).unwrap().then(()=>{t?B.success("PPE updated successfully"):B.success("PPE Added successfully"),r(gc()),e()}).catch(f=>{console.error("Error submitting PPE:",f),B.error("Failed to submit PPE. Please try again.")}).finally(()=>{a(!1)})};return o.jsx(Re,{initialValues:l,validationSchema:Ume,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:p,setFieldValue:h})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(T,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:p,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:i.map(y=>({value:y.ID,label:y.Name}))})}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:p,error:d.Description,touched:f.Description}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:p,error:d.DepreciationRate,touched:f.DepreciationRate}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:p,error:d.DepreciationValue,touched:f.DepreciationValue}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:p,error:d.NetBookValue,touched:f.NetBookValue}),o.jsx("div",{children:o.jsx(T,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:p,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:s.map(y=>({value:y.ID,label:y.Name}))})}),o.jsx(T,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:p,error:d.PPENumber,touched:f.PPENumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:p,error:d.Unit,touched:f.Unit}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:p,error:d.Barcode,touched:f.Barcode}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:p,error:d.Quantity,touched:f.Quantity}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:p,error:d.Cost,touched:f.Cost}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:p,error:d.DateAcquired,touched:f.DateAcquired}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:p,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),o.jsx(T,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:p,error:d.PONumber,touched:f.PONumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:p,error:d.PRNumber,touched:f.PRNumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:p,error:d.InvoiceNumber,touched:f.InvoiceNumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:p,error:d.AIRNumber,touched:f.AIRNumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:p,error:d.RISNumber,touched:f.RISNumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:p,error:d.Remarks,touched:f.Remarks,rows:2})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const Wme=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"SupplierID",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function Hme(){const t=ce(),{ppes:e,isLoading:r}=q(A=>A.ppes),{Add:n,Edit:a,Delete:s,Print:i}=we(64),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null);w.useEffect(()=>{t(gc())},[t]);const p=()=>{m(null),c(!0)},h=()=>{d(!0)},y=()=>{},g=()=>{d(!1)},b=A=>{m(A),c(!0)},v=async A=>{try{await t(gy(A.ID)).unwrap(),B.success("PPE entry deleted successfully"),t(gc())}catch(I){console.error("Failed to delete PPE entry:",I),B.error("Failed to delete PPE entry. Please try again.")}},j=()=>{c(!1),m(null)},C=Wme.map(A=>A.key==="CategoryID"?{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900",render:(I,k)=>{var D;return((D=k==null?void 0:k.Category)==null?void 0:D.Name)||"N/A"}}:A.key==="SupplierID"?{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900",render:(I,k)=>{var D;return((D=k==null?void 0:k.Supplier)==null?void 0:D.Name)||"N/A"}}:{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900"}),x=[a&&{icon:Ie,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:v,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-danger-50"}],N=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],S=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE"}),o.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[n&&o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),i&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Bx,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),i&&o.jsxs("button",{type:"button",className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Bx,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:x,loading:r})}),o.jsx(oe,{isOpen:l,onClose:j,title:f?"Edit PPE":"Add PPE",size:"lg",children:o.jsx(zme,{initialData:f,onClose:j})}),o.jsx(oe,{isOpen:u,onClose:g,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(T,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:S,value:"Juan S. Dela Cruz"})}),o.jsx("div",{className:"mb-6",children:o.jsx(T,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:N,value:"Juan S. Dela Cruz"})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:g,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:y,className:"btn btn-primary",children:"Print"})]})]})})]})}function Gme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:E().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Yme(){const t=ce(),{ppeCategories:e,isLoading:r}=q(x=>x.ppeCategories),{Add:n,Edit:a,Delete:s}=we(95),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(hc())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(dy(m.ID)).unwrap(),f(!1),p(null),B.success("PPE category deleted successfully")}catch(x){console.error("Failed to delete PPE category:",x),B.error("Failed to delete PPE category. Please try again.")}},v=async x=>{try{c?(await t(DA({...x,ID:c.ID})).unwrap(),B.success("PPE category updated successfully")):(await t(uy(x)).unwrap(),B.success("PPE category saved successfully")),t(hc())}catch(N){console.error("Failed to save PPE category:",N),B.error("Failed to save PPE category. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Categories"}),o.jsx("p",{children:"Manage PPE Categories"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit PPE Category":"Add PPE Category",children:o.jsx(Gme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Kme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:E().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Jme(){const t=ce(),{ppeSuppliers:e,isLoading:r}=q(x=>x.ppeSuppliers),{Add:n,Edit:a,Delete:s}=we(96),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(pc())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(my(m.ID)).unwrap(),f(!1),p(null),B.success("PPE supplier deleted successfully")}catch(x){console.error("Failed to delete PPE supplier:",x),B.error("Failed to delete PPE supplier. Please try again.")}},v=async x=>{try{c?(await t(EA({...x,ID:c.ID})).unwrap(),B.success("PPE supplier updated successfully")):(await t(fy(x)).unwrap(),B.success("PPE supplier saved successfully")),t(pc())}catch(N){console.error("Failed to save PPE supplier:",N),B.error("Failed to save PPE supplier. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Suppliers"}),o.jsx("p",{children:"Manage PPE Suppliers"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit PPE Supplier":"Add PPE Supplier",children:o.jsx(Kme,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const xj="https://staging-engine.testthelink.online",Xme=[],yc=F("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xj}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),yy=F("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${xj}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),PA=F("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${xj}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),by=F("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${xj}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Qme=ve({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(yc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(yc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=Xme}).addCase(yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(PA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(by.pending,e=>{e.isLoading=!0,e.error=null}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),Zme=Qme.reducer,ehe=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],the=ie().shape({});function rhe({initialData:t,onClose:e,onSubmit:r}){const[n,a]=w.useState((t==null?void 0:t.AllorMajority)||"ALL"),s=ce(),{documentDetails:i}=q(y=>y.documentDetails),{positions:l}=q(y=>y.positions),{employees:c}=q(y=>y.employees);w.useEffect(()=>{s(yc()),s(zi()),s(cn())},[s]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=w.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},p=y=>{const g=[...d];g.splice(y,1),f(g)},h=(y,g)=>{const b=[...d];b[y]=g,f(b)};return o.jsx(Re,{initialValues:u,validationSchema:the,onSubmit:(y,{setSubmitting:g})=>{if(!y.DocumentTypeID||y.SequenceLevel===""||n===""||d.length===0||d.some(j=>!j.value)||d.some(j=>!j.type)||d.some(j=>!j.amountFrom)||d.some(j=>!j.amountTo)){B.error("Please Select All Required Fields"),g(!1);return}const b=d.map(j=>({PositionorEmployee:j.type,PositionorEmployeeID:j.value,AmountFrom:j.amountFrom,AmountTo:j.amountTo})),v={...y,AllorMajority:n,approvers:b};r(v),g(!1)},enableReinitialize:!0,children:({values:y,errors:g,touched:b,handleChange:v,handleBlur:j,setFieldValue:C,isSubmitting:x})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:y.DocumentTypeID,onChange:v,onBlur:j,error:g.DocumentTypeID,touched:b.DocumentTypeID,options:i.map(N=>({value:N.ID,label:N.Name}))}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:y.SequenceLevel,onChange:v,onBlur:j,error:g.SequenceLevel,touched:b.SequenceLevel,options:ehe}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Approval Rule ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),o.jsx("span",{children:"ALL"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),o.jsx("span",{children:"Majority"}),o.jsxs("select",{name:"NumberofApprover",value:y.NumberofApprover||"",onChange:v,onBlur:j,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[o.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(N,S)=>o.jsx("option",{value:S+1,children:S+1},S+1))]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label mb-2",children:["Approvers ",o.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((N,S)=>{var A,I,k;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Position",checked:N.type==="Position",onChange:()=>h(S,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Position"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Employee",checked:N.type==="Employee",onChange:()=>h(S,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Employee"})]})]}),o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsxs("select",{className:"w-full p-2 border rounded pr-8",value:N.value,onChange:D=>h(S,{...N,value:D.target.value}),children:[o.jsx("option",{value:"",children:"Select"}),(N.type==="Position"?l:c).map(D=>o.jsx("option",{value:D.ID,children:N.type==="Position"?D.Name:`${D.FirstName} ${D.MiddleName} ${D.LastName}`},D.ID))]}),((A=N.errors)==null?void 0:A.value)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.value})]}),d.length>1&&o.jsx("button",{type:"button",onClick:()=>p(S),className:"btn btn-sm btn-error text-red-500",children:o.jsx(Fe,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:N.amountFrom,onChange:D=>h(S,{...N,amountFrom:D.target.value})}),((I=N.errors)==null?void 0:I.amountFrom)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.amountFrom})]}),o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:N.amountTo,onChange:D=>h(S,{...N,amountTo:D.target.value})}),((k=N.errors)==null?void 0:k.amountTo)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.amountTo})]})]})]}),S<d.length-1&&o.jsx("hr",{className:"mb-4 border-gray-300"})]},S)}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x,children:"Save"})]})]})})}const vj="https://staging-engine.testthelink.online",nhe=[],ahe={approvalMatrix:nhe,matrix:null,isLoading:!1,error:null},Xd=F("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),xy=F("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${vj}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vy=F("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${vj}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jy=F("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${vj}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),aV=ve({name:"approvalMatrix",initialState:ahe,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(Xd.pending,e=>{e.isLoading=!0}).addCase(Xd.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(Xd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xy.pending,e=>{e.isLoading=!0}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vy.pending,e=>{e.isLoading=!0}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jy.pending,e=>{e.isLoading=!0}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:B8e,resetMatrixState:q8e}=aV.actions,she=aV.reducer;function ohe(){const t=ce(),{approvalMatrix:e,isLoading:r,error:n}=q(N=>N.approvalMatrix),{Add:a,Edit:s,Delete:i}=we(17),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null);w.useEffect(()=>{t(Xd())},[t]);const y=()=>{d(null),c(!0)},g=N=>{var k;const S=((k=N.Approvers)==null?void 0:k.map(D=>({type:D.PositionorEmployee,value:D.PositionorEmployeeID,amountFrom:Number(D.AmountFrom),amountTo:Number(D.AmountTo)})))||[],{Approvers:A,...I}=N;d({...I,approvers:S}),c(!0)},b=N=>{h(N),m(!0)},v=async()=>{if(p)try{await t(jy(p.ID)).unwrap(),m(!1),h(null),B.success("Approval matrix deleted successfully")}catch(N){console.error("Failed to delete approval matrix:",N),B.error("Failed to delete approval matrix. Please try again.")}},j=async N=>{try{u?(await t(vy({...N,ID:u.ID})).unwrap(),B.success("Approval matrix updated successfully")):(await t(xy(N)).unwrap(),B.success("Approval matrix saved successfully")),t(Xd()),c(!1)}catch(S){console.error("Failed to submit approval matrix:",S),B.error("Failed to submit approval matrix. Please try again.")}},C=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],x=[s&&{icon:Ie,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Fe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Approval Matrix"}),o.jsx("p",{children:"Manage approval matrix for document types"})]}),a&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:x,loading:r})}),n&&o.jsx("div",{className:"text-error-600 mt-2",children:n}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Approval Matrix":"Add Approval Matrix",children:o.jsx(rhe,{initialData:u,onClose:()=>c(!1),onSubmit:j})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const jj="https://staging-engine.testthelink.online",ihe=[],lhe={banks:ihe,bank:null,isLoading:!1,error:null},Hi=F("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),wy=F("banks/addBank",async(t,e)=>{try{const r=await fetch(`${jj}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ny=F("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${jj}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cy=F("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${jj}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),sV=ve({name:"banks",initialState:lhe,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(Hi.pending,e=>{e.isLoading=!0}).addCase(Hi.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(Hi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wy.pending,e=>{e.isLoading=!0}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ny.pending,e=>{e.isLoading=!0}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cy.pending,e=>{e.isLoading=!0}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:V8e,resetBankState:U8e}=sV.actions,che=sV.reducer,uhe=ie().shape({BranchCode:E().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:E().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:E().required("Name is required").max(100,"Name must be at most 100 characters"),Address:E().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:E().required("Account number is required"),SwiftCode:E().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:E().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:Y().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:E().required("Currency is required")});function dhe({initialData:t,onClose:e}){const r=ce(),[n,a]=w.useState(!1),{currencies:s}=q(c=>c.currencies),i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?Ny({...u,ID:t.ID}):wy(u);r(d).unwrap().then(()=>{e(),B.success("Bank submitted successfully")}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1),r(Hi())})};return o.jsx(Re,{initialValues:i,validationSchema:uhe,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,setFieldValue:p})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:d.BranchCode&&u.BranchCode,touched:d.BranchCode}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:d.Branch&&u.Branch,touched:d.Branch}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:d.Name&&u.Name,touched:d.Name})]}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:d.Address&&u.Address,touched:d.Address,rows:2}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:d.AccountNumber&&u.AccountNumber,touched:d.AccountNumber}),o.jsx(T,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:d.SwiftCode&&u.SwiftCode,touched:d.SwiftCode}),o.jsx(T,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:d.IBAN&&u.IBAN,touched:d.IBAN})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:d.Balance&&u.Balance,touched:d.Balance}),o.jsx("div",{className:"space-y-2",children:o.jsx(T,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:d.CurrencyID&&u.CurrencyID,touched:d.CurrencyID,options:s.map(h=>({value:h.ID,label:h.Code+" - "+h.Name}))})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const fhe=()=>{const t=ce(),{banks:e=[],isLoading:r}=q(x=>x.banks),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{Add:f,Edit:m,Delete:p}=we(18);w.useEffect(()=>{t(Hi())},[]);const h=()=>{i(null),a(!0)},y=x=>{i(x),a(!0)},g=()=>{a(!1),i(null)},b=x=>{d(x),c(!0)},v=async()=>{if(u)try{await t(Cy(u.ID)).unwrap(),B.success("Bank deleted successfully")}catch(x){B.error(x.message||"Failed to delete bank")}finally{c(!1),d(null),t(Hi())}},j=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:x=>(x==null?void 0:x.Code)||"N/A"}],C=[m&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},p&&{icon:Fe,title:"Delete",onClick:b,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),f&&o.jsxs("button",{onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),o.jsx(oe,{isOpen:n,onClose:g,title:s?"Edit Bank":"Add Bank",size:"lg",children:o.jsx(dhe,{initialData:s,onClose:g})}),o.jsxs(oe,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})},mhe=(t=[],e=null)=>ie({Name:E().required("Name is required").test("unique-name","Name already exists",function(r){return r?!t.some(a=>a.Name.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Code:E().required("Code is required").test("unique-code","Code already exists",function(r){return r?!t.some(a=>a.Code.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Prefix:E().required("Prefix is required"),Suffix:E().required("Suffix is required"),StartNumber:Y().required("Start number is required").integer("Start number must be an integer").min(1,"Start number must be at least 1"),CurrentNumber:Y().required("Current number is required").integer("Current number must be an integer").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:E().required("Document type category is required")}),hhe=({document:t,documentList:e=[],onClose:r,documentTypeCategoryOptions:n=[]})=>{const a=ce(),s={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?(await a(PA({...l,ID:t.ID})).unwrap(),B.success("Document detail updated successfully")):(await a(yy(l)).unwrap(),B.success("Document detail added successfully")),a(yc())}catch(u){console.error("Failed to save document details:",u),B.error("Failed to save document details. Please try again.")}finally{c(!1),r()}};return o.jsx(Re,{initialValues:s,validationSchema:mhe(e,t),onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:p})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),o.jsx(T,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Prefix",name:"Prefix",type:"text",required:!0,value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),o.jsx(T,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),o.jsx(T,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(T,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:n})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":t?"Update":"Create"})]})]})})},wj="https://staging-engine.testthelink.online",phe=[],bc=F("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${wj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Sy=F("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${wj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),OA=F("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${wj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ay=F("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${wj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ghe=ve({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(bc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(bc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=phe}).addCase(Sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(OA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(Ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),yhe=ghe.reducer,bhe=()=>{const t=ce(),{documentDetails:e,isLoading:r}=q(N=>N.documentDetails),{Add:n,Edit:a,Delete:s}=we(41),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null),{documentTypeCategories:h}=q(N=>N.documentTypeCategories),y=h.map(N=>({value:N.ID,label:N.Name}));w.useEffect(()=>{t(yc()),t(bc())},[t]);const g=()=>{u(null),l(!0)},b=N=>{u(N),l(!0)},v=N=>{p(N),f(!0)},j=async()=>{if(m)try{await t(by(m.ID)).unwrap(),f(!1),p(null),B.success("Document detail deleted successfully")}catch(N){console.error("Failed to delete document detail:",N),B.error("Failed to delete document detail. Please try again.")}},C=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],x=N=>{const S=[a&&{icon:Ie,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return N.ID>32&&s&&S.push({icon:Fe,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),S};return o.jsxs("div",{className:"container mx-auto ",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),n&&o.jsxs("button",{onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),o.jsx(ye,{columns:C,data:e,actions:x,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Document Detail":"Add Document Detail",size:"lg",children:o.jsx(hhe,{document:c,documentList:e,onClose:()=>l(!1),documentTypeCategoryOptions:y})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for"," ",o.jsx("span",{className:"font-medium",children:m==null?void 0:m.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})};function xhe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:E().trim().required("Name is required").min(1,"Name cannot be empty or just spaces")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function vhe(){const t=ce(),{documentTypeCategories:e,isLoading:r}=q(x=>x.documentTypeCategories),{Add:n,Edit:a,Delete:s}=we(42),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(bc())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Ay(m.ID)).unwrap(),f(!1),p(null),B.success("Document type category deleted successfully")}catch(x){console.error("Failed to delete document type category:",x),B.error("Failed to delete document type category. Please try again.")}},v=async x=>{try{c?(await t(OA({...x,ID:c.ID})).unwrap(),B.success("Document type category updated successfully")):(await t(Sy(x)).unwrap(),B.success("Document type category added successfully")),t(bc())}catch(N){console.error("Failed to save document type category:",N),B.error("Failed to save document type category. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=x=>{const N=[];return a&&N.push({icon:Ie,title:"Edit",onClick:()=>y(x),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),s&&x.ID>1&&N.push({icon:Fe,title:"Delete",onClick:()=>g(x),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),N};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Document Type Categories"}),o.jsx("p",{children:"Manage Document Type Categories"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Document Type Category":"Add Document Type Category",children:o.jsx(xhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const Nj="https://staging-engine.testthelink.online",jhe=[],Fa=F("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Nj}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Iy=F("items/addItem",async(t,e)=>{try{const r=await fetch(`${Nj}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_A=F("items/updateItem",async(t,e)=>{try{const r=await fetch(`${Nj}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ky=F("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${Nj}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),whe=ve({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fa.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fa.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(Fa.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=jhe}).addCase(Iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(_A.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),Nhe=whe.reducer,Cj="https://staging-engine.testthelink.online",Che=[],ga=F("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Cj}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ty=F("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${Cj}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),$A=F("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${Cj}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dy=F("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${Cj}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),She=ve({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ga.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ga.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(ga.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=Che}).addCase(Ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase($A.pending,e=>{e.isLoading=!0,e.error=null}).addCase($A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),Ahe=She.reducer,Ihe=({item:t,onClose:e})=>{var d;const r=ce(),{accounts:n}=q(f=>f.chartOfAccounts),{itemUnits:a}=q(f=>f.itemUnits),{taxCodes:s}=q(f=>f.taxCodes);w.useEffect(()=>{r(ga()),r(Kn()),r(xr())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=ie({Code:E().required("Code is required"),Name:E().required("Name is required"),ChargeAccountID:E().required("Charge Account is required"),UnitID:E().required("Unit is required"),TAXCodeID:E().required("Tax Code is required"),PurchaseOrSales:E().required("Type is required"),TaxRate:Y().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:Y().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Fo().required("Vatable is required")});console.log({item:t});const c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:((d=t==null?void 0:t.TaxCode)==null?void 0:d.Rate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(f,{setSubmitting:m})=>{try{t?(await r(_A({...f,ID:t.ID})).unwrap(),B.success("Item updated successfully.")):(await r(Iy(f)).unwrap(),B.success("Item added successfully.")),r(Fa())}catch(p){console.error("Failed to save item:",p),B.error("Failed to save item. Please try again.")}finally{m(!1),e()}};return o.jsx(Re,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:f,errors:m,touched:p,handleChange:h,handleBlur:y,isSubmitting:g})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",required:!0,value:f.Code,onChange:h,onBlur:y,error:m.Code,touched:p.Code,placeholder:"Enter item code"}),o.jsx(T,{label:"Name",name:"Name",type:"text",required:!0,value:f.Name,onChange:h,onBlur:y,error:m.Name,touched:p.Name,placeholder:"Enter item name"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:f.ChargeAccountID,onChange:h,onBlur:y,error:m.ChargeAccountID,touched:p.ChargeAccountID,options:n.map(b=>({value:b.ID,label:b.Name}))}),o.jsx(T,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:f.PurchaseOrSales,onChange:h,onBlur:y,error:m.PurchaseOrSales,touched:p.PurchaseOrSales,options:i}),o.jsx(T,{label:"Unit",name:"UnitID",type:"select",required:!0,value:f.UnitID,onChange:h,onBlur:y,error:m.UnitID,touched:p.UnitID,options:a.map(b=>({value:b.ID,label:b.Code+" - "+b.Name}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:f.TAXCodeID,onChange:h,onBlur:y,error:m.TAXCodeID,touched:p.TAXCodeID,options:s.map(b=>({value:b.ID,label:b.Code}))}),o.jsx(T,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:f.TaxRate,onChange:h,onBlur:y,error:m.TaxRate,touched:p.TaxRate,readOnly:!0,className:"bg-gray-200 cursor-not-allowed"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"EWT",name:"EWT",type:"number",required:!0,value:f.EWT,onChange:h,onBlur:y,error:m.EWT,touched:p.EWT}),o.jsx("div",{className:"flex items-center mt-5",children:o.jsx(T,{label:"Vatable",name:"Vatable",type:"checkbox",checked:f.Vatable,onChange:h,onBlur:y,error:m.Vatable,touched:p.Vatable})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":t?"Update":"Create"})]})]})})},khe=()=>{const t=ce(),{items:e,isLoading:r}=q(I=>I.items),{itemUnits:n,isLoading:a}=q(I=>I.itemUnits),{taxCodes:s,isLoading:i}=q(I=>I.taxCodes),{Add:l,Edit:c,Delete:u}=we(55),[d,f]=w.useState(!1),[m,p]=w.useState(null),[h,y]=w.useState(!1),[g,b]=w.useState(null);w.useEffect(()=>{t(Fa()),t(ga()),t(Kn())},[t]);const v=()=>{p(null),f(!0)},j=I=>{p(I),f(!0)},C=I=>{b(I),y(!0)},x=async()=>{if(g)try{await t(ky(g.ID)).unwrap(),y(!1),b(null),B.success("Item deleted successfully")}catch(I){console.error("Failed to delete item:",I),B.error("Failed to delete item. Please try again.")}},N=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:I=>o.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${I===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I?"Yes":"No"})}],S=e.map(I=>{var k,D;return{...I,unitName:((k=n==null?void 0:n.find(_=>_.ID===I.UnitID))==null?void 0:k.Name)||"N/A",TAXCodeValue:((D=s==null?void 0:s.find(_=>_.ID===I.TAXCodeID))==null?void 0:D.Code)||"N/A"}}),A=[c&&{icon:Ie,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Fe,title:"Delete",onClick:C,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),l&&o.jsxs("button",{onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),o.jsx(ye,{columns:N,data:S,actions:A,loading:r||a||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),o.jsx(oe,{isOpen:d,onClose:()=>f(!1),title:m?"Edit Item":"Add Item",size:"lg",children:o.jsx(Ihe,{item:m,onClose:()=>f(!1)})}),o.jsxs(oe,{isOpen:h,onClose:()=>y(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",o.jsx("span",{className:"font-medium",children:g==null?void 0:g.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})},The=ie().shape({MarriageServiceInvoice:E().required("Marriage Service Invoice account is required"),BurialServiceInvoice:E().required("Burial Service Invoice account is required"),DueFromLGU:E().required("Due From LGU account is required"),DueFromRate:Y().required("Due From Rate is required"),DueToLGU:E().required("Due To LGU account is required"),DueToRate:Y().required("Due To Rate is required"),RealPropertyTax:E().required("Real Property Tax account is required"),RealPropertyTaxRate:Y().required("Real Property Tax Rate is required")}),Dhe=({initialData:t,onSubmit:e,invoiceChargeAccounts:r=[]})=>{const n=ce(),a=q(l=>{var c;return((c=l.chartOfAccounts)==null?void 0:c.accounts)||[]}),{Add:s}=we(54);w.useEffect(()=>{n(xr())},[n]);const i=r.reduce((l,c)=>{switch(c.ID){case 1:l.MarriageServiceInvoice=c.ChartofAccountsID;break;case 2:l.BurialServiceInvoice=c.ChartofAccountsID;break;case 3:l.DueFromLGU=c.ChartofAccountsID,l.DueFromRate=c.Rate??0;break;case 4:l.DueToLGU=c.ChartofAccountsID,l.DueToRate=c.Rate??0;break;case 5:l.RealPropertyTax=c.ChartofAccountsID,l.RealPropertyTaxRate=c.Rate??0;break}return l},{});return!r||r.length===0?o.jsx("div",{className:"text-neutral-500",children:"Loading charge accounts..."}):o.jsx(Re,{initialValues:{MarriageServiceInvoice:i.MarriageServiceInvoice||"",BurialServiceInvoice:i.BurialServiceInvoice||"",DueFromLGU:i.DueFromLGU||"",DueFromRate:i.DueFromRate||0,DueToLGU:i.DueToLGU||"",DueToRate:i.DueToRate||0,RealPropertyTax:i.RealPropertyTax||"",RealPropertyTaxRate:i.RealPropertyTaxRate||0},validationSchema:The,onSubmit:e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,resetForm:p})=>o.jsxs(Be,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Charge Account of Service Invoice"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(T,{label:"Marriage Service Invoice",name:"MarriageServiceInvoice",type:"select",required:!0,value:l.MarriageServiceInvoice,onChange:d,onBlur:f,error:c.MarriageServiceInvoice,touched:u.MarriageServiceInvoice,options:(a||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(T,{label:"Burial Service Invoice",name:"BurialServiceInvoice",type:"select",required:!0,value:l.BurialServiceInvoice,onChange:d,onBlur:f,error:c.BurialServiceInvoice,touched:u.BurialServiceInvoice,options:(a||[]).map(h=>({value:h.ID,label:h.Name}))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Real Property Tax Shares Settings"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"bg-neutral-50 p-2 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due to LGUs"}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(T,{label:"Account",name:"DueToLGU",type:"select",required:!0,value:l.DueToLGU,onChange:d,onBlur:f,error:c.DueToLGU,touched:u.DueToLGU,options:(a||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(T,{label:"Rate",name:"DueToRate",type:"number",required:!0,value:l.DueToRate,onChange:d,onBlur:f,error:c.DueToRate,touched:u.DueToRate})]})]}),o.jsxs("div",{className:"bg-neutral-50 p-2 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due From Local Government Units"}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(T,{label:"Account",name:"DueFromLGU",type:"select",required:!0,value:l.DueFromLGU,onChange:d,onBlur:f,error:c.DueFromLGU,touched:u.DueFromLGU,options:(a||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(T,{label:"Rate",name:"DueFromRate",type:"number",required:!0,value:l.DueFromRate,onChange:d,onBlur:f,error:c.DueFromRate,touched:u.DueFromRate})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Special Education Funds"}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(T,{label:"Real Property Tax",name:"RealPropertyTax",type:"select",required:!0,value:l.RealPropertyTax,onChange:d,onBlur:f,error:c.RealPropertyTax,touched:u.RealPropertyTax,options:(a||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(T,{label:"Rate",name:"RealPropertyTaxRate",type:"number",required:!0,value:l.RealPropertyTaxRate,onChange:d,onBlur:f,error:c.RealPropertyTaxRate,touched:u.RealPropertyTaxRate})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>{p()},className:"btn btn-outline",children:"Cancel"}),s&&o.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary disabled:cursor-not-allowed disabled:opacity-50",children:m?"Saving...":"Save"})]})]})})},oV="https://staging-engine.testthelink.online",Qd=F("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oV}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ehe=F("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),iV=F("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${oV}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Phe=F("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),Ohe={invoiceChargeAccounts:[],isLoading:!1,error:null},_he=ve({name:"invoiceChargeAccounts",initialState:Ohe,reducers:{},extraReducers:t=>{t.addCase(Qd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qd.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(Qd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(Ehe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(iV.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(Phe.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),$he=_he.reducer;function Rhe(){const t=ce(),{invoiceChargeAccounts:e}=q(n=>n.invoiceChargeAccounts);w.useEffect(()=>{t(Qd())},[t]);const r=async(n,{setSubmitting:a})=>{try{await t(iV(n)).unwrap(),B.success("Invoice charge account updated successfully")}catch(s){console.error("Failed to save invoice charge account:",s)}finally{a(!1),t(Qd())}};return o.jsx("div",{children:o.jsx("div",{className:"bg-white p-3 sm:p-6 rounded-lg shadow border",children:o.jsx(Dhe,{onSubmit:r,invoiceChargeAccounts:e})})})}function Mhe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:E().required("Code is required"),Name:E().required("Name is required")}),a=at({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Lhe(){const t=ce(),{itemUnits:e,isLoading:r}=q(x=>x.itemUnits),{Add:n,Edit:a,Delete:s}=we(56),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(ga())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Dy(m.ID)).unwrap(),f(!1),p(null),B.success("Item unit deleted successfully")}catch(x){console.error("Failed to delete item unit:",x),B.error("Failed to delete item unit. Please try again.")}},v=async x=>{try{c?(await t($A({...x,ID:c.ID})).unwrap(),B.success("Item unit updated successfully")):(await t(Ty(x)).unwrap(),B.success("Item unit added successfully")),t(ga())}catch(N){console.error("Failed to save item unit:",N),B.error("Failed to save item unit. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Item Units"}),o.jsx("p",{children:"Manage item units"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Item Unit":"Add Item Unit",children:o.jsx(Mhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Fhe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Type:E().required("Type is required"),Description:E().required("Description is required")});return o.jsx(Re,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(T,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(T,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:s.Description,touched:i.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const Sj="https://staging-engine.testthelink.online",Bhe=[],xc=F("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Sj}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ey=F("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${Sj}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),RA=F("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${Sj}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Py=F("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${Sj}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),qhe=ve({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(xc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xc.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(xc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=Bhe}).addCase(Ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(RA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(RA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(Py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),Vhe=qhe.reducer;function Uhe(){const t=ce(),{projectTypes:e,isLoading:r}=q(x=>x.projectTypes),{Add:n,Edit:a,Delete:s}=we(87),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(xc())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Py(m.ID)).unwrap(),f(!1),p(null),B.success("Project type deleted successfully.")}catch(x){console.error("Failed to delete project type:",x),B.error("Failed to delete project type. Please try again.")}},v=async x=>{try{c?(await t(RA({...x,ID:c.ID})).unwrap(),B.success("Project type updated successfully.")):(await t(Ey(x)).unwrap(),B.success("Project type added successfully.")),t(xc()),l(!1)}catch(N){console.error("Failed to save project type:",N),B.error("Failed to save project type. Please try again.")}},j=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Types"}),o.jsx("p",{children:"Manage project types"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Project Type":"Add Project Type",children:o.jsx(Fhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',m==null?void 0:m.Type,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function zhe({initialData:t,onSubmit:e,onClose:r}){const n=ce(),{projectTypes:a,loading:s}=q(c=>c.projectTypes);w.useEffect(()=>{n(xc())},[n]);const i=ie({Title:E().required("Title is required"),ProjectTypeID:E().required("Project Type is required"),StartDate:Le().required("Start Date is required"),EndDate:Le().required("End Date is required"),Description:E().required("Description is required")}),l=at({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),o.jsx(T,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),o.jsx(T,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),o.jsx(T,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const Aj="https://staging-engine.testthelink.online",Whe=[],Ba=F("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Aj}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Oy=F("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${Aj}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),MA=F("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${Aj}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),_y=F("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${Aj}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Hhe=ve({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ba.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ba.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Ba.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=Whe}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(MA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(MA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),Ghe=Hhe.reducer;function Yhe(){const t=ce(),{projectDetails:e,isLoading:r}=q(x=>x.projectDetails),{Add:n,Edit:a,Delete:s}=we(65),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Ba())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(_y(m.ID)).unwrap(),f(!1),p(null),B.success("Project detail deleted successfully.")}catch(x){console.error("Failed to delete project detail:",x),B.error("Failed to delete project detail. Please try again.")}},v=async x=>{try{c?(await t(MA({...x,ID:c.ID})).unwrap(),B.success("Project detail updated successfully.")):(await t(Oy(x)).unwrap(),B.success("Project detail added successfully.")),t(Ba())}catch(N){console.error("Failed to save project detail:",N),B.error("Failed to save project detail. Please try again.")}finally{l(!1)}},j=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0},{key:"Description",header:"Description",sortable:!1}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Details"}),o.jsx("p",{children:"Manage project details"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Project Detail":"Add Project Detail",size:"lg",children:o.jsx(zhe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',m==null?void 0:m.Title,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function Khe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:E().required("Code is required"),Name:E().required("Name is required")});return o.jsx(Re,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const Ij="https://staging-engine.testthelink.online",Jhe=[],Xhe={financialStatements:Jhe,financialStatement:null,isLoading:!1,error:null},Zd=F("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ij}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),$y=F("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Ij}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ry=F("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Ij}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),My=F("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Ij}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),lV=ve({name:"financialStatements",initialState:Xhe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(Zd.pending,e=>{e.isLoading=!0}).addCase(Zd.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(Zd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase($y.pending,e=>{e.isLoading=!0}).addCase($y.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase($y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ry.pending,e=>{e.isLoading=!0}).addCase(Ry.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(Ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(My.pending,e=>{e.isLoading=!0}).addCase(My.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(My.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:z8e,resetFinancialStatementState:W8e}=lV.actions,Qhe=lV.reducer;function Zhe(){const t=ce(),{financialStatements:e,isLoading:r}=q(x=>x.financialStatements),{Add:n,Edit:a,Delete:s}=we(44),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Zd())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(My(m.ID)).unwrap(),f(!1),p(null),B.success("Financial statement deleted successfully.")}catch(x){console.error("Failed to delete financial statement:",x),B.error("Failed to delete financial statement. Please try again.")}},v=async x=>{try{c?(await t(Ry({...x,ID:c.ID})).unwrap(),B.success("Financial statement updated successfully.")):(await t($y(x)).unwrap(),B.success("Financial statement added successfully.")),t(Zd())}catch(N){console.error("Failed to save financial statement:",N),B.error("Failed to save financial statement. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financial Statements"}),o.jsx("p",{children:"Manage financial statements"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Financial Statement":"Add Financial Statement",children:o.jsx(Khe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function epe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:E().required("Code is required"),Name:E().required("Name is required"),Year:Y().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:E().required("Month Start is required"),MonthEnd:E().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return o.jsx(Re,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),o.jsx(T,{label:"Year",name:"Year",type:"number",value:s.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),o.jsx(T,{label:"Month Start",name:"MonthStart",type:"select",value:s.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:a,required:!0}),o.jsx(T,{label:"Month End",name:"MonthEnd",type:"select",value:s.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const kj="https://staging-engine.testthelink.online",tpe=[],un=F("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${kj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ly=F("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${kj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),LA=F("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${kj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fy=F("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${kj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rpe=ve({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(un.pending,e=>{e.isLoading=!0,e.error=null}).addCase(un.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(un.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=tpe}).addCase(Ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(Ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(LA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(LA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(Fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(Fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),npe=rpe.reducer;function ape(){const t=ce(),{fiscalYears:e,isLoading:r}=q(x=>x.fiscalYears),{Add:n,Edit:a,Delete:s}=we(45),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(un())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Fy(m.ID)).unwrap(),f(!1),p(null),B.success("Fiscal year deleted successfully.")}catch(x){console.error("Failed to delete fiscal year:",x),B.error("Failed to delete fiscal year. Please try again.")}},v=async x=>{try{c?(await t(LA({...x,id:c.ID})).unwrap(),B.success("Fiscal year updated successfully.")):(await t(Ly(x)).unwrap(),B.success("Fiscal year added successfully.")),t(un())}catch(N){console.error("Failed to save fiscal year:",N),B.error("Failed to save fiscal year. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fiscal Years"}),o.jsx("p",{children:"Manage fiscal years"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Fiscal Year":"Add Fiscal Year",children:o.jsx(epe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const spe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function ope({initialData:t,onSubmit:e,onClose:r}){const n=ie({Type:E().required("Type is required"),Code:E().required("Code is required"),Name:E().required("Nature of Payment is required"),Rate:Y().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return o.jsx(Re,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(T,{label:"Type",name:"Type",type:"select",options:spe,value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(T,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(T,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:s.Rate,touched:i.Rate,required:!0}),o.jsx(T,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function ipe(){const t=ce(),{taxCodes:e,isLoading:r}=q(x=>x.taxCodes),{Add:n,Edit:a,Delete:s}=we(78),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Kn())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Kg(m.ID)).unwrap(),f(!1),p(null),B.success("Tax code deleted successfully.")}catch(x){console.error("Failed to delete tax code:",x),B.error("Failed to delete tax code. Please try again.")}},v=async x=>{try{c?(await t(wA({...x,ID:c.ID})).unwrap(),B.success("Tax code updated successfully.")):(await t(Yg(x)).unwrap(),B.success("Tax code added successfully.")),t(Kn())}catch(N){console.error("Failed to save tax code:",N),B.error("Failed to save tax code. Please try again.")}finally{l(!1)}},j=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Nature of Payment",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:x=>`${x} %`}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Codes"}),o.jsx("p",{children:"Manage tax codes"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Tax Code":"Add Tax Code",children:o.jsx(ope,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',m==null?void 0:m.Code,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function lpe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:E().required("Code is required"),Name:E().required("Name is required")}),a=at({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function cpe(){const t=ce(),{modeOfPayments:e,isLoading:r}=q(x=>x.modeOfPayments),{Add:n,Edit:a,Delete:s}=we(60),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Vi())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Zg(m.ID)).unwrap(),f(!1),p(null),B.success("Mode of payment deleted successfully.")}catch(x){B.error(x.message||"Failed to delete mode of payment."),console.error("Failed to delete mode of payment:",x)}},v=async x=>{try{c?(await t(CA({...x,ID:c.ID})).unwrap(),B.success("Mode of payment updated successfully.")):(await t(Qg(x)).unwrap(),B.success("Mode of payment added successfully.")),t(Vi())}catch(N){console.error("Failed to save mode of payment:",N),B.error("Failed to save mode of payment. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Mode of Payments"}),o.jsx("p",{children:"Manage mode of payments"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Mode of Payment":"Add Mode of Payment",children:o.jsx(lpe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function upe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:E().required("Code is required"),Name:E().required("Name is required"),NumberOfDays:Y().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=at({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsx(T,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function dpe(){const t=ce(),{paymentTerms:e,isLoading:r}=q(x=>x.paymentTerms),{Add:n,Edit:a,Delete:s}=we(63),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(qi())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Xg(m.ID)).unwrap(),f(!1),p(null),B.success("Payment term deleted successfully.")}catch(x){console.error("Failed to delete payment term:",x),B.error("Failed to delete payment term. Please try again.")}},v=async x=>{try{c?(await t(NA({...x,ID:c.ID})).unwrap(),B.success("Payment term updated successfully.")):(await t(Jg(x)).unwrap(),B.success("Payment term added successfully.")),t(qi())}catch(N){console.error("Failed to save payment term:",N),B.error("Failed to save payment term. Please try again.")}finally{l(!1)}},j=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Payment Terms"}),o.jsx("p",{children:"Manage payment terms"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Payment Term":"Add Payment Term",children:o.jsx(upe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function fpe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:E().required("Name is required")}),a=at({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function mpe(){const t=ce(),{industries:e,isLoading:r}=q(x=>x.industries),{Add:n,Edit:a,Delete:s}=we(53),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Bi())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Gg(m.ID)).unwrap(),f(!1),p(null),B.success("Industry deleted successfully.")}catch(x){console.error("Failed to delete industry:",x),B.error("Failed to delete industry. Please try again.")}},v=async x=>{try{c?(await t(jA({...x,ID:c.ID})).unwrap(),B.success("Industry updated successfully.")):(await t(Hg(x)).unwrap(),B.success("Industry added successfully.")),t(Bi())}catch(N){console.error("Failed to save industry:",N),B.error("Failed to save industry. Please try again.")}finally{l(!1)}},j=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Industries"}),o.jsx("p",{children:"Manage industries"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Industry":"Add Industry",children:o.jsx(fpe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function hpe({initialData:t,onSubmit:e,onClose:r}){const n=ce();w.useEffect(()=>{n(Ao()),n(Io()),n(ko()),n(To())},[n]);const{regions:a}=q(v=>v.regions),{provinces:s}=q(v=>v.provinces),{municipalities:i}=q(v=>v.municipalities),{barangays:l}=q(v=>v.barangays),c=ie({FirstName:E().required("First Name is required"),MiddleName:E(),LastName:E().required("Last Name is required"),Gender:E().required("Gender is required"),Citizenship:E().required("Citizenship is required"),DateOfBirth:Le().required("Date of Birth is required"),PlaceOfBirth:E().required("Place of Birth is required"),Occupation:E().required("Occupation is required"),CivilStatus:E().required("Civil Status is required"),TIN:E().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),EmailAddress:E().email().required("Email is required"),RegionID:E().required("Region is required"),ProvinceID:E().required("Province is required"),MunicipalityID:E().required("Municipality is required"),BarangayID:E().required("Barangay is required"),ZIPCode:E().required("ZIP Code is required"),StreetAddress:E().required("Street Address is required"),RDO:E().required("RDO is required")}),u=at({initialValues:t||{FirstName:"",MiddleName:"",LastName:"",Gender:"",Citizenship:"",DateOfBirth:"",PlaceOfBirth:"",Occupation:"",CivilStatus:"",TIN:"",EmailAddress:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",ZIPCode:"",StreetAddress:"",RDO:""},validationSchema:c,onSubmit:v=>e(v)}),{values:d,handleChange:f,handleBlur:m,errors:p,touched:h,setFieldValue:y,handleSubmit:g,submitCount:b}=u;return w.useEffect(()=>{const v=l.find(j=>j.ID.toString()===d.BarangayID);v&&(v.MunicipalityCode&&y("MunicipalityID",v.MunicipalityCode),v.ProvinceCode&&y("ProvinceID",v.ProvinceCode),v.RegionCode&&y("RegionID",v.RegionCode))},[d.BarangayID]),w.useEffect(()=>{const v=i.find(j=>j.ID.toString()===d.MunicipalityID);v&&(v.ProvinceCode&&y("ProvinceID",v.ProvinceCode),v.RegionCode&&y("RegionID",v.RegionCode))},[d.MunicipalityID]),w.useEffect(()=>{const v=s.find(j=>j.ID.toString()===d.ProvinceID);v&&v.RegionCode&&y("RegionID",v.RegionCode)},[d.ProvinceID]),console.log("values",p),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:f,onBlur:m,error:h.FirstName&&p.FirstName,touched:h.FirstName,required:!0}),o.jsx(T,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:f,onBlur:m,error:p.MiddleName&&h.MiddleName,touched:h.MiddleName}),o.jsx(T,{label:"Last Name",name:"LastName",value:d.LastName,onChange:f,onBlur:m,error:h.LastName&&p.LastName,touched:h.LastName,required:!0}),o.jsx(T,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:f,onBlur:m,error:h.Gender&&p.Gender,touched:h.Gender,required:!0}),o.jsx(T,{label:"Citizenship",name:"Citizenship",value:d.Citizenship,onChange:f,onBlur:m,error:h.Citizenship&&p.Citizenship,touched:h.Citizenship,required:!0}),o.jsx(T,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:f,onBlur:m,error:h.DateOfBirth&&p.DateOfBirth,touched:h.DateOfBirth,required:!0}),o.jsx(T,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:f,onBlur:m,error:h.PlaceOfBirth&&p.PlaceOfBirth,touched:h.PlaceOfBirth,required:!0}),o.jsx(T,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:f,onBlur:m,error:h.Occupation&&p.Occupation,touched:h.Occupation,required:!0}),o.jsx(T,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:f,onBlur:m,error:h.CivilStatus&&p.CivilStatus,touched:h.CivilStatus,required:!0}),o.jsx(T,{label:"TIN",name:"TIN",value:d.TIN,onChange:f,onBlur:m,error:h.TIN&&p.TIN,touched:h.TIN,required:!0}),o.jsx(T,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:f,onBlur:m,error:h.EmailAddress&&p.EmailAddress,touched:h.EmailAddress,required:!0}),o.jsx(T,{label:"Region",name:"RegionID",type:"select",options:a.map(v=>({value:v.ID,label:v.Name})),value:d.RegionID,onChange:f,onBlur:m,error:h.RegionID&&p.RegionID,touched:h.RegionID,required:!0}),o.jsx(T,{label:"Province",name:"ProvinceID",type:"select",options:s.map(v=>({value:v.ID,label:v.Name})),value:d.ProvinceID,onChange:f,onBlur:m,error:h.ProvinceID&&p.ProvinceID,touched:h.ProvinceID,required:!0}),o.jsx(T,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(v=>({value:v.ID,label:v.Name})),value:d.MunicipalityID,onChange:f,onBlur:m,error:h.MunicipalityID&&p.MunicipalityID,touched:h.MunicipalityID,required:!0}),o.jsx(T,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(v=>({value:v.ID,label:v.Name})),value:d.BarangayID,onChange:f,onBlur:m,error:h.BarangayID&&p.BarangayID,touched:h.BarangayID,required:!0}),o.jsx(T,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:f,onBlur:m,error:h.ZIPCode&&p.ZIPCode,touched:h.ZIPCode,required:!0}),o.jsx(T,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:f,onBlur:m,error:h.StreetAddress&&p.StreetAddress,touched:h.StreetAddress,required:!0}),o.jsx(T,{label:"Revenue District Office",name:"RDO",value:d.RDO,onChange:f,onBlur:m,error:h.RDO&&p.RDO,touched:h.RDO,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:t?"Update":"Save"})]}),b>0&&Object.keys(p).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(p).map(([v,j])=>o.jsx("li",{children:j},v))})]})]})}const Tj="https://staging-engine.testthelink.online",ppe=[],Sn=F("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Tj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),By=F("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${Tj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),FA=F("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${Tj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),qy=F("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${Tj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),gpe=ve({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Sn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sn.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(Sn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=ppe}).addCase(By.pending,e=>{e.isLoading=!0,e.error=null}).addCase(By.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(By.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(FA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(FA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),ype=gpe.reducer;function bpe(){const t=ce(),{customers:e,isLoading:r}=q(I=>I.customers),{industries:n}=q(I=>I.industries),{taxCodes:a}=q(I=>I.taxCodes),{paymentTerms:s}=q(I=>I.paymentTerms),{modeOfPayments:i}=q(I=>I.modeOfPayments),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,h]=w.useState(null),{Add:y,Edit:g,Delete:b}=we(38);w.useEffect(()=>{t(Sn()),t(Bi()),t(Kn()),t(qi()),t(Vi())},[t]);const v=()=>{d(null),c(!0)},j=I=>{d(I),c(!0)},C=I=>{console.log("Delete customer:",I),h(I),m(!0)},x=async()=>{if(p)try{await t(qy(p.ID)).unwrap(),m(!1),h(null),B.success("Customer deleted successfully")}catch(I){console.error("Failed to delete Individual/Citizen:",I),B.error(I.message||"Failed to delete Individual/Citizen. Please try again.")}},N=async I=>{try{u?(await t(FA({...I,ID:u.ID})).unwrap(),B.success("Customer updated successfully")):(await t(By(I)).unwrap(),B.success("Customer added successfully")),t(Sn())}catch(k){console.error("Failed to save Individual/Citizen:",k),B.error(k.message||"Failed to save Individual/Citizen")}finally{d(null),c(!1)}},S=[{key:"Code",header:"Code",sortable:!0,render:I=>I||"N/A"},{key:"Name",header:"Name",sortable:!0,render:I=>I||"N/A"},{key:"TIN",header:"TIN",sortable:!0,render:I=>I||"N/A"},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:I=>{const k=s.find(D=>D.ID==I);return(k==null?void 0:k.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:I=>{const k=i.find(D=>D.ID==I);return(k==null?void 0:k.Name)||"N/A"}},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:I=>{const k=a.find(D=>D.ID==I);return(k==null?void 0:k.Code)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:I=>{const k=n.find(D=>D.ID==I);return(k==null?void 0:k.Name)||"N/A"}},{key:"ZIPCode",header:"ZIP Code",sortable:!0,render:I=>I||"N/A"},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0,render:I=>I||"N/A"},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0,render:I=>I||"N/A"},{key:"DateofRegistration",header:"Date of Registration",sortable:!0,render:I=>I||"N/A"}],A=[g&&{icon:Ie,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},b&&{icon:Fe,title:"Delete",onClick:C,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Individuals/Citizens"}),o.jsx("p",{children:"Manage Individuals/Citizens here"})]}),y&&o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:S,data:e,actions:A,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:o.jsx(hpe,{initialData:u,onClose:()=>c(!1),onSubmit:N})}),o.jsxs(oe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete the individual/citizen?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const xpe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},vpe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function Ct({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:s="button",onClick:i,...l}){return o.jsx("button",{type:s,className:$e("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",xpe[e],vpe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:i,...l,children:t})}function jpe({initialData:t,onSubmit:e,onClose:r}){var v;const n=ce(),{customers:a}=q(j=>j.customers);w.useEffect(()=>{n(Sn())},[n]);const s=at({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:ie({T_D_No:Y().required("TD No. is required"),PropertyID:Y().required("Property ID is required"),OwnerID:Y().required("Owner ID is required"),OwnerTIN:E().required("Owner TIN is required"),OwnerTelephoneNumber:E().required("Owner Telephone Number is required"),OwnerAddress:E().required("Owner Address is required"),BeneficialorAdminUserID:Y().required("Beneficialor Admin User ID is required"),BeneficialorAdminTIN:E().required("Beneficialor Admin TIN is required"),BeneficialorAdminAddress:E().required("Beneficialor Admin Address is required"),BeneficialorAdminTelephoneNumber:E().required("Beneficialor Admin Telephone Number is required"),OCT_TCT_CLOA_Number:E().required("OCT TCT CLOA Number is required"),SurveyNumber:E().required("Survey Number is required"),LotNumber:E().required("Lot Number is required"),CCT:E().required("CCT is required"),BlockNumber:E().required("Block Number is required"),Dated:E().required("Dated is required"),North:E().required("North is required"),South:E().required("South is required"),East:E().required("East is required"),West:E().required("West is required"),Taxable:Fo().oneOf([!0],"Field is required"),CancelTDNumber:E().required("Cancel TD Number is required"),Effectivity:E().required("Effectivity is required"),OwnerPrevious:E().required("Owner Previous is required"),PreviousAssessedValue:Y().required("Previous Assessed Value is required"),KindofProperty:E().required("Kind of Property is required"),Storeys:E().required("Number of Storeys is required"),Description:E().required("Description is required"),kind:E().required("Kind is required"),ActualUse:E().required("Actual Use is required"),Classification:E().required("Classification is required"),AreaSize:E().required("Area Size is required"),AssessmentLevel:E().required("Assessment Level is required"),MarketValue:E().required("Market Value is required"),AmountInWords:E().required("Amount in Words is required"),Memoranda:E().required("Memoranda is required"),assessmentRows:Gt().of(ie().shape({Kind:E().required("Kind is required"),Classification:E().required("Classification is required"),Area:E().required("Area is required"),MarketValue:E().required("Market Value is required"),ActualUse:E().required("Actual Use is required"),AssessmentLevel:E().required("Assessment Level is required"),AssessmentValue:E().required("Assessment Value is required")}))}),onSubmit:j=>{e({...j,assessmentRows:i})}}),[i,l]=w.useState(()=>{var j;return(j=t==null?void 0:t.AssessmentRows)!=null&&j.length?t.AssessmentRows.map(C=>({...C})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:p,isSubmitting:h}=s,y=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},g=j=>{if(i.length===1)return;const C=[...i];C.splice(j,1),l(C)},b=(j,C,x)=>{const N=[...i];N[j][C]=x,l(N)};return o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:m.T_D_No&&f.T_D_No,touched:m.T_D_No}),o.jsx(T,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:m.PropertyID&&f.PropertyID,touched:m.PropertyID})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(T,{label:"Owner",name:"OwnerID",type:"select",required:!0,options:a.map(j=>({value:j.ID,label:j.Name||`${j.FirstName} (${j.MiddleName} ${j.LastName})`})),value:c.OwnerID,onChange:u,onBlur:d,error:m.OwnerID&&f.OwnerID,touched:m.OwnerID}),o.jsx(T,{label:"TIN",name:"OwnerTIN",type:"number",required:!0,value:c.OwnerTIN,onChange:u,onBlur:d,error:m.OwnerTIN&&f.OwnerTIN,touched:m.OwnerTIN}),o.jsx(T,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",required:!0,value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:m.OwnerTelephoneNumber&&f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),o.jsx(T,{label:"Address",name:"OwnerAddress",type:"text",required:!0,value:c.OwnerAddress,onChange:u,onBlur:d,error:m.OwnerAddress&&f.OwnerAddress,touched:m.OwnerAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(T,{label:"Beneficial/Administrator User",options:a.map(j=>({value:j.ID,label:j.Name||`${j.FirstName} (${j.MiddleName} ${j.LastName})`})),name:"BeneficialorAdminUserID",type:"select",required:!0,value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:m.BeneficialorAdminUserID&&f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),o.jsx(T,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",required:!0,value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:m.BeneficialorAdminTIN&&f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),o.jsx(T,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",required:!0,value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:m.BeneficialorAdminTelephoneNumber&&f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),o.jsx(T,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",required:!0,value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:m.BeneficialorAdminAddress&&f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[o.jsx(T,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",required:!0,value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:m.OCT_TCT_CLOA_Number&&f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),o.jsx(T,{label:"Survey No.",name:"SurveyNumber",type:"number",required:!0,value:c.SurveyNumber,onChange:u,onBlur:d,error:m.SurveyNumber&&f.SurveyNumber,touched:m.SurveyNumber}),o.jsx(T,{label:"Lot No.",name:"LotNumber",type:"text",required:!0,value:c.LotNumber,onChange:u,onBlur:d,error:m.LotNumber&&f.LotNumber,touched:m.LotNumber}),o.jsx(T,{label:"CCT",name:"CCT",type:"text",required:!0,value:c.CCT,onChange:u,onBlur:d,error:m.CCT&&f.CCT,touched:m.CCT}),o.jsx(T,{label:"Block No.",name:"BlockNumber",type:"text",required:!0,value:c.BlockNumber,onChange:u,onBlur:d,error:m.BlockNumber&&f.BlockNumber,touched:m.BlockNumber}),o.jsx(T,{label:"Dated",name:"Dated",type:"date",required:!0,value:c.Dated,onChange:u,onBlur:d,error:m.Dated&&f.Dated,touched:m.Dated})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"North",name:"North",type:"text",required:!0,value:c.North,onChange:u,onBlur:d,error:m.North&&f.North,touched:m.North}),o.jsx(T,{label:"South",name:"South",type:"text",required:!0,value:c.South,onChange:u,onBlur:d,error:m.South&&f.South,touched:m.South}),o.jsx(T,{label:"East",name:"East",type:"text",required:!0,value:c.East,onChange:u,onBlur:d,error:m.East&&f.East,touched:m.East}),o.jsx(T,{label:"West",name:"West",type:"text",required:!0,value:c.West,onChange:u,onBlur:d,error:m.West&&f.West,touched:m.West})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(T,{type:"select",name:"CancelTDNumber",placeholder:"Cancel TD No.",label:"This Declaration cancels TD No.",options:["1","2","3"].map(j=>({label:j,value:j})),required:!0,value:c.CancelTDNumber,onChange:u,onBlur:d,error:m.CancelTDNumber&&f.CancelTDNumber,touched:m.CancelTDNumber,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(T,{type:"text",name:"Effectivity",placeholder:"Effectivity of Assessment/Reassessment",label:"Effectivity of Assessment/Reassessment",required:!0,value:c.Effectivity,onChange:u,error:m.Effectivity&&f.Effectivity,touched:m.Effectivity,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(T,{type:"text",name:"OwnerPrevious",placeholder:"Previous Owner",label:"Previous Owner",required:!0,value:c.OwnerPrevious,error:m.OwnerPrevious&&f.OwnerPrevious,touched:m.OwnerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(T,{type:"number",name:"PreviousAssessedValue",placeholder:" Previous Assessed Value:",label:"Previous Assessed Value:",value:c.PreviousAssessedValue,error:m.PreviousAssessedValue&&f.PreviousAssessedValue,touched:m.PreviousAssessedValue,onChange:u,required:!0,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,required:!0,error:m.KindofProperty&&f.KindofProperty,touched:m.KindofProperty}),o.jsx(T,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,required:!0,error:m.Storeys&&f.Storeys,touched:m.Storeys})]}),o.jsx(T,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:m.Description&&f.Description,required:!0,touched:m.Description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(T,{label:"Kind: (LAND / BUILDING)",name:"kind",type:"select",required:!0,value:c.kind,onChange:u,onBlur:d,error:m.kind&&f.kind,touched:m.kind,options:["LAND","BUILDING"].map(j=>({label:j,value:j}))})}),o.jsx("div",{children:o.jsx(T,{label:"Actual Use",name:"ActualUse",type:"select",required:!0,value:c.ActualUse,onChange:u,onBlur:d,error:m.ActualUse&&f.ActualUse,touched:m.ActualUse,options:["RESIDENTIAL","COMMERCIAL","INDUSTRIAL"].map(j=>({label:j,value:j}))})}),o.jsx("div",{children:o.jsx(T,{label:"Classification",name:"Classification",type:"select",required:!0,value:c.Classification,onChange:u,onBlur:d,error:m.Classification&&f.Classification,touched:m.Classification,options:["A","B","C"].map(j=>({label:j,value:j}))})}),o.jsx("div",{children:o.jsx(T,{type:"text",name:"AreaSize",placeholder:"Enter Area Size",label:"Area Size",required:!0,value:c.AreaSize,onBlur:d,error:m.AreaSize&&f.AreaSize,touched:m.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(T,{type:"number",name:"AssessmentLevel",label:"Assessment Level",placeholder:"Enter Assessment Level",required:!0,value:c.AssessmentLevel,onBlur:d,error:m.AssessmentLevel&&f.AssessmentLevel,touched:m.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(T,{placeholder:"Enter Market Value",type:"number",name:"MarketValue",label:"Market Value",value:c.MarketValue,onBlur:d,error:m.MarketValue&&f.MarketValue,touched:m.MarketValue,required:!0,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),o.jsxs(Ct,{type:"button",onClick:y,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(Z0,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Kind","Classification","Area ","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(j=>o.jsxs("th",{className:"border border-gray-300 p-2 text-sm",children:[j," ",o.jsx("span",{className:"text-red-500",children:"*"})]},j))})}),o.jsx("tbody",{children:i.map((j,C)=>o.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(x=>{var N,S,A,I,k,D;return o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx(T,{type:"text",value:j[x],onChange:_=>b(C,x,_.target.value),onBlur:d,error:((S=(N=m.assessmentRows)==null?void 0:N[C])==null?void 0:S[x])&&((I=(A=f.assessmentRows)==null?void 0:A[C])==null?void 0:I[x]),touched:(D=(k=m.assessmentRows)==null?void 0:k[C])==null?void 0:D[x],className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},x)}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx(Ct,{type:"button",onClick:()=>g(C),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:o.jsx(er,{className:"w-4 h-4"})})})]},C))})]}),((v=f==null?void 0:f.assessmentRows)==null?void 0:v.length)>0&&o.jsxs("p",{className:"text-red-500 text-sm mt-2",children:["At Least One Row Required"," "]})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),o.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,error:m.AmountInWords&&f.AmountInWords,touched:m.AmountInWords,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),o.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,error:m.Memoranda&&f.Memoranda,touched:m.Memoranda,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"save"})]})]})}const Dj="https://staging-engine.testthelink.online",wpe=[],ef=F("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Dj}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vy=F("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Dj}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),BA=F("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Dj}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Uy=F("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Dj}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Npe=ve({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ef.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ef.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(ef.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=wpe}).addCase(Vy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(Vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(BA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(BA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase(Uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase(Uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),Cpe=Npe.reducer;function Spe(){const t=ce(),{taxDeclarations:e,isLoading:r}=q(x=>x.taxDeclarations),{Add:n,Edit:a,Delete:s}=we(79),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(ef())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Uy(m.ID)).unwrap(),f(!1),p(null)}catch(x){console.error("Failed to delete tax declaration:",x)}},v=async x=>{try{c?(await t(BA({...x,ID:c.ID})).unwrap(),B.success("Tax declaration updated successfully")):(await t(Vy(x)).unwrap(),B.success("Tax declaration saved successfully")),t(ef()),l(!1)}catch(N){console.error("Failed to save tax declaration:",N),B.error("Failed to save tax declaration. Please try again.")}},j=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Declarations"}),o.jsx("p",{children:"Manage Tax Declarations"})]}),o.jsxs("div",{className:"flex gap-4 items-center max-sm:flex-col max-sm:w-full",children:[n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),o.jsx("div",{className:"max-sm:w-full",children:o.jsx(T,{type:"select",name:"year",label:"Year",placeholder:"Select a year",options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"}]})})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),o.jsx(oe,{size:"xl",isOpen:i,onClose:()=>l(!1),title:c?"Edit Tax Declaration":"Add Tax Declaration",children:o.jsx(jpe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',m==null?void 0:m.T_D_No,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ej="https://staging-engine.testthelink.online",Ape=[],tf=F("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ej}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),zy=F("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Ej}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),qA=F("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Ej}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Wy=F("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Ej}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ipe=ve({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(tf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tf.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(tf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=Ape}).addCase(zy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(qA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(Wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(Wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),kpe=Ipe.reducer,Tpe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const a=ce(),{employees:s}=q(u=>u.employees);w.useEffect(()=>{a(cn())},[a]);const i=ie().shape({General_Revision_Date_Year:E().required("Required"),GeneralRevisionCode:E().required("Required"),TaxDeclarationCode:E().required("Required")}),l=at({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=s.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),o.jsx(T,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),o.jsx(T,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(yt,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),o.jsx(yt,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),o.jsx(yt,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:l.values.ProvincialAssessor,error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),o.jsx(yt,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},Dpe=()=>{const t=ce(),{generalRevisions:e,isLoading:r}=q(x=>x.generalRevisions),{Add:n,Edit:a,Delete:s}=we(51),[i,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,p]=w.useState(null);w.useEffect(()=>{t(tf())},[t]);const h=()=>{f(null),l(!0)},y=x=>{f(x),l(!0)},g=async x=>{try{d?(await t(qA({...x,ID:d.ID})).unwrap(),B.success("Revision updated successfully")):(await t(zy(x)).unwrap(),B.success("Revision added successfully")),t(tf())}catch(N){console.error("Failed to save general revision:",N),B.error("Failed to save general revision. Please try again.")}finally{l(!1)}},b=x=>{p(x),u(!0)},v=async()=>{try{m&&(await t(Wy(m.ID)).unwrap(),B.success("Revision deleted successfully"),u(!1))}catch(x){console.error("Failed to delete revision:",x),B.error("Failed to delete revision. Please try again.")}},j=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Revisions"}),o.jsx("p",{children:"Manage General Revision Records"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,actions:C,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:d?"Edit General Revision":"Add General Revision",size:"lg",children:o.jsx(Tpe,{initialData:d,onClose:()=>l(!1),onSubmit:g})}),o.jsxs(oe,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",o.jsx("strong",{children:m==null?void 0:m.revisionYear}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})};function Epe({initialData:t,onSubmit:e,onClose:r}){const n=new Date().getFullYear(),a=ie({GeneralRevisionYear:Y().required("General Revision Year is required"),Classification:E().required("Classification is required"),Unit:E().required("Unit is required"),ActualUse:E().required("Actual Use is required"),SubClassification:E().required("Sub Class No is required"),Price:Y().required("Unit Value is required"),Location:E().required("Location or Description is required")}),s=at({initialValues:t||{GeneralRevisionYear:n,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:a,onSubmit:c=>{e(c)}}),i=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],l=()=>{if(!s.values.Classification)return[];const u={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[s.values.Classification];return u?Array.from({length:6},(d,f)=>({value:`${u}${f+1}`,label:`${u}${f+1}`})):[]};return w.useEffect(()=>{if(s.values.Classification&&s.values.SubClassification){const c=s.values.SubClassification.charAt(0),u=s.values.Classification.charAt(0);c!==u&&s.setFieldValue("SubClassification","")}},[s.values.Classification]),o.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[o.jsx(T,{label:"General Revision Year",name:"GeneralRevisionYear",type:"number",value:s.values.GeneralRevisionYear,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.GeneralRevisionYear,touched:s.touched.GeneralRevisionYear,required:!0}),o.jsx(T,{label:"Classification",name:"Classification",type:"select",options:i,value:s.values.Classification,onChange:c=>{s.handleChange(c),s.setFieldValue("SubClassification","")},onBlur:s.handleBlur,error:s.errors.Classification,touched:s.touched.Classification,required:!0}),o.jsx(T,{label:"Sub Class No.",name:"SubClassification",type:"select",options:l(),value:s.values.SubClassification,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.SubClassification,touched:s.touched.SubClassification,required:!0,disabled:!s.values.Classification}),o.jsx(T,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:s.values.Unit,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Unit,touched:s.touched.Unit,required:!0}),o.jsx(T,{label:"Actual Use",name:"ActualUse",type:"text",value:s.values.ActualUse,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.ActualUse,touched:s.touched.ActualUse,required:!0}),o.jsx(T,{label:"Unit Value",name:"Price",type:"number",value:s.values.Price,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Price,touched:s.touched.Price,required:!0}),o.jsx(T,{label:"Location or Description",name:"Location",type:"textarea",value:s.values.Location,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Location,touched:s.touched.Location,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}const Pj="https://staging-engine.testthelink.online",Ppe=[],rf=F("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Pj}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Hy=F("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${Pj}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),VA=F("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${Pj}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Gy=F("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${Pj}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ope=ve({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(rf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rf.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(rf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=Ppe}).addCase(Hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(Hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase(VA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(VA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(Gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(Gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),_pe=Ope.reducer;function $pe(){const t=ce(),{baseUnits:e,isLoading:r}=q(x=>x.baseUnits),{Add:n,Edit:a,Delete:s}=we(20),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(rf())},[t]);const h=()=>{u(null),l(!0)},y=x=>{u(x),l(!0)},g=x=>{p(x),f(!0)},b=async()=>{if(m)try{await t(Gy(m.ID)).unwrap(),f(!1),p(null),B.success("Base unit deleted successfully")}catch(x){console.error("Failed to delete base unit:",x),B.error("Failed to delete base unit. Please try again.")}},v=async x=>{try{c?(await t(VA({...x,ID:c.ID})).unwrap(),B.success("Base unit updated successfully")):(await t(Hy(x)).unwrap(),B.success("Base unit added successfully")),t(rf())}catch(N){console.error("Failed to save base unit:",N),B.error("Failed to save base unit. Please try again.")}finally{l(!1)}},j=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],C=[a&&{icon:Ie,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Base Units"}),o.jsx("p",{children:"Manage Base Units"})]}),n&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:C,loading:r,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),o.jsx(oe,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Base Unit":"Add Base Unit",children:o.jsx(Epe,{initialData:c,onClose:()=>l(!1),onSubmit:v})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',m==null?void 0:m.Unit,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function Rpe(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cV(t){var e=Rpe(t,"string");return ul(e)=="symbol"?e:e+""}function Ad(t,e,r){return(e=cV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(r),!0).forEach(function(n){Ad(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mpe(t){if(Array.isArray(t))return t}function Lpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function uV(t,e){if(t){if(typeof t=="string")return UA(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?UA(t,e):void 0}}function Fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vs(t,e){return Mpe(t)||Lpe(t,e)||uV(t,e)||Fpe()}function Bpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Bs(t,e){if(t==null)return{};var r,n,a=Bpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var qpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Vpe(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,p=t.value,h=Bs(t,qpe),y=w.useState(l!==void 0?l:r),g=vs(y,2),b=g[0],v=g[1],j=w.useState(c!==void 0?c:a),C=vs(j,2),x=C[0],N=C[1],S=w.useState(p!==void 0?p:i),A=vs(S,2),I=A[0],k=A[1],D=w.useCallback(function($,R){typeof u=="function"&&u($,R),k($)},[u]),_=w.useCallback(function($,R){var W;typeof d=="function"&&(W=d($,R)),v(W!==void 0?W:$)},[d]),M=w.useCallback(function(){typeof m=="function"&&m(),N(!0)},[m]),P=w.useCallback(function(){typeof f=="function"&&f(),N(!1)},[f]),O=l!==void 0?l:b,L=c!==void 0?c:x,V=p!==void 0?p:I;return Pe(Pe({},h),{},{inputValue:O,menuIsOpen:L,onChange:D,onInputChange:_,onMenuClose:P,onMenuOpen:M,value:V})}function _e(){return _e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_e.apply(null,arguments)}function Upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cV(n.key),n)}}function zpe(t,e,r){return e&&o$(t.prototype,e),r&&o$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zA(t,e)}function Wpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qx(t)}function dV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!t})()}function Hpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gpe(t,e){if(e&&(ul(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hpe(t)}function Ype(t){var e=dV();return function(){var r,n=qx(t);if(e){var a=qx(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Gpe(this,r)}}function Kpe(t){if(Array.isArray(t))return UA(t)}function Jpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DD(t){return Kpe(t)||Jpe(t)||uV(t)||Xpe()}function Qpe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Zpe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ege=function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Zpe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Qpe(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Pr="-ms-",Vx="-moz-",st="-webkit-",fV="comm",ED="rule",PD="decl",tge="@import",mV="@keyframes",rge="@layer",nge=Math.abs,Oj=String.fromCharCode,age=Object.assign;function sge(t,e){return Sr(t,0)^45?(((e<<2^Sr(t,0))<<2^Sr(t,1))<<2^Sr(t,2))<<2^Sr(t,3):0}function hV(t){return t.trim()}function oge(t,e){return(t=e.exec(t))?t[0]:t}function ot(t,e,r){return t.replace(e,r)}function WA(t,e){return t.indexOf(e)}function Sr(t,e){return t.charCodeAt(e)|0}function Jf(t,e,r){return t.slice(e,r)}function Ta(t){return t.length}function OD(t){return t.length}function sp(t,e){return e.push(t),t}function ige(t,e){return t.map(e).join("")}var _j=1,Uc=1,pV=0,mn=0,nr=0,vu="";function $j(t,e,r,n,a,s,i){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:_j,column:Uc,length:i,return:""}}function Qu(t,e){return age($j("",null,null,"",null,null,0),t,{length:-t.length},e)}function lge(){return nr}function cge(){return nr=mn>0?Sr(vu,--mn):0,Uc--,nr===10&&(Uc=1,_j--),nr}function An(){return nr=mn<pV?Sr(vu,mn++):0,Uc++,nr===10&&(Uc=1,_j++),nr}function qa(){return Sr(vu,mn)}function Yy(){return mn}function eh(t,e){return Jf(vu,t,e)}function Xf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gV(t){return _j=Uc=1,pV=Ta(vu=t),mn=0,[]}function yV(t){return vu="",t}function Ky(t){return hV(eh(mn-1,HA(t===91?t+2:t===40?t+1:t)))}function uge(t){for(;(nr=qa())&&nr<33;)An();return Xf(t)>2||Xf(nr)>3?"":" "}function dge(t,e){for(;--e&&An()&&!(nr<48||nr>102||nr>57&&nr<65||nr>70&&nr<97););return eh(t,Yy()+(e<6&&qa()==32&&An()==32))}function HA(t){for(;An();)switch(nr){case t:return mn;case 34:case 39:t!==34&&t!==39&&HA(nr);break;case 40:t===41&&HA(t);break;case 92:An();break}return mn}function fge(t,e){for(;An()&&t+nr!==57;)if(t+nr===84&&qa()===47)break;return"/*"+eh(e,mn-1)+"*"+Oj(t===47?t:An())}function mge(t){for(;!Xf(qa());)An();return eh(t,mn)}function hge(t){return yV(Jy("",null,null,null,[""],t=gV(t),0,[0],t))}function Jy(t,e,r,n,a,s,i,l,c){for(var u=0,d=0,f=i,m=0,p=0,h=0,y=1,g=1,b=1,v=0,j="",C=a,x=s,N=n,S=j;g;)switch(h=v,v=An()){case 40:if(h!=108&&Sr(S,f-1)==58){WA(S+=ot(Ky(v),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:S+=Ky(v);break;case 9:case 10:case 13:case 32:S+=uge(h);break;case 92:S+=dge(Yy()-1,7);continue;case 47:switch(qa()){case 42:case 47:sp(pge(fge(An(),Yy()),e,r),c);break;default:S+="/"}break;case 123*y:l[u++]=Ta(S)*b;case 125*y:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+d:b==-1&&(S=ot(S,/\f/g,"")),p>0&&Ta(S)-f&&sp(p>32?l$(S+";",n,r,f-1):l$(ot(S," ","")+";",n,r,f-2),c);break;case 59:S+=";";default:if(sp(N=i$(S,e,r,u,d,a,l,j,C=[],x=[],f),s),v===123)if(d===0)Jy(S,e,N,N,C,s,f,l,x);else switch(m===99&&Sr(S,3)===110?100:m){case 100:case 108:case 109:case 115:Jy(t,N,N,n&&sp(i$(t,N,N,0,0,a,l,j,a,C=[],f),x),a,x,f,l,n?C:x);break;default:Jy(S,N,N,N,[""],x,0,l,x)}}u=d=p=0,y=b=1,j=S="",f=i;break;case 58:f=1+Ta(S),p=h;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&cge()==125)continue}switch(S+=Oj(v),v*y){case 38:b=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(Ta(S)-1)*b,b=1;break;case 64:qa()===45&&(S+=Ky(An())),m=qa(),d=f=Ta(j=S+=mge(Yy())),v++;break;case 45:h===45&&Ta(S)==2&&(y=0)}}return s}function i$(t,e,r,n,a,s,i,l,c,u,d){for(var f=a-1,m=a===0?s:[""],p=OD(m),h=0,y=0,g=0;h<n;++h)for(var b=0,v=Jf(t,f+1,f=nge(y=i[h])),j=t;b<p;++b)(j=hV(y>0?m[b]+" "+v:ot(v,/&\f/g,m[b])))&&(c[g++]=j);return $j(t,e,r,a===0?ED:l,c,u,d)}function pge(t,e,r){return $j(t,e,r,fV,Oj(lge()),Jf(t,2,-2),0)}function l$(t,e,r,n){return $j(t,e,r,PD,Jf(t,0,n),Jf(t,n+1,-1),n)}function vc(t,e){for(var r="",n=OD(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function gge(t,e,r,n){switch(t.type){case rge:if(t.children.length)break;case tge:case PD:return t.return=t.return||t.value;case fV:return"";case mV:return t.return=t.value+"{"+vc(t.children,n)+"}";case ED:t.value=t.props.join(",")}return Ta(r=vc(t.children,n))?t.return=t.value+"{"+r+"}":""}function yge(t){var e=OD(t);return function(r,n,a,s){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,s)||"";return i}}function bge(t){return function(e){e.root||(e=e.return)&&t(e)}}function xge(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var vge=function(e,r,n){for(var a=0,s=0;a=s,s=qa(),a===38&&s===12&&(r[n]=1),!Xf(s);)An();return eh(e,mn)},jge=function(e,r){var n=-1,a=44;do switch(Xf(a)){case 0:a===38&&qa()===12&&(r[n]=1),e[n]+=vge(mn-1,r,n);break;case 2:e[n]+=Ky(a);break;case 4:if(a===44){e[++n]=qa()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Oj(a)}while(a=An());return e},wge=function(e,r){return yV(jge(gV(e),r))},c$=new WeakMap,Nge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!c$.get(n))&&!a){c$.set(e,!0);for(var s=[],i=wge(r,s),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},Cge=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function bV(t,e){switch(sge(t,e)){case 5103:return st+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return st+t+Vx+t+Pr+t+t;case 6828:case 4268:return st+t+Pr+t+t;case 6165:return st+t+Pr+"flex-"+t+t;case 5187:return st+t+ot(t,/(\w+).+(:[^]+)/,st+"box-$1$2"+Pr+"flex-$1$2")+t;case 5443:return st+t+Pr+"flex-item-"+ot(t,/flex-|-self/,"")+t;case 4675:return st+t+Pr+"flex-line-pack"+ot(t,/align-content|flex-|-self/,"")+t;case 5548:return st+t+Pr+ot(t,"shrink","negative")+t;case 5292:return st+t+Pr+ot(t,"basis","preferred-size")+t;case 6060:return st+"box-"+ot(t,"-grow","")+st+t+Pr+ot(t,"grow","positive")+t;case 4554:return st+ot(t,/([^-])(transform)/g,"$1"+st+"$2")+t;case 6187:return ot(ot(ot(t,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),t,"")+t;case 5495:case 3959:return ot(t,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return ot(ot(t,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+Pr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+t+t;case 4095:case 3583:case 4068:case 2532:return ot(t,/(.+)-inline(.+)/,st+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ta(t)-1-e>6)switch(Sr(t,e+1)){case 109:if(Sr(t,e+4)!==45)break;case 102:return ot(t,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+Vx+(Sr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~WA(t,"stretch")?bV(ot(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sr(t,e+1)!==115)break;case 6444:switch(Sr(t,Ta(t)-3-(~WA(t,"!important")&&10))){case 107:return ot(t,":",":"+st)+t;case 101:return ot(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(Sr(t,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+Pr+"$2box$3")+t}break;case 5936:switch(Sr(t,e+11)){case 114:return st+t+Pr+ot(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return st+t+Pr+ot(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return st+t+Pr+ot(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return st+t+Pr+t+t}return t}var Sge=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case PD:e.return=bV(e.value,e.length);break;case mV:return vc([Qu(e,{value:ot(e.value,"@","@"+st)})],a);case ED:if(e.length)return ige(e.props,function(s){switch(oge(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vc([Qu(e,{props:[ot(s,/:(read-\w+)/,":"+Vx+"$1")]})],a);case"::placeholder":return vc([Qu(e,{props:[ot(s,/:(plac\w+)/,":"+st+"input-$1")]}),Qu(e,{props:[ot(s,/:(plac\w+)/,":"+Vx+"$1")]}),Qu(e,{props:[ot(s,/:(plac\w+)/,Pr+"input-$1")]})],a)}return""})}},Age=[Sge],Ige=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var g=y.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var a=e.stylisPlugins||Age,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var g=y.getAttribute("data-emotion").split(" "),b=1;b<g.length;b++)s[g[b]]=!0;l.push(y)});var c,u=[Nge,Cge];{var d,f=[gge,bge(function(y){d.insert(y)})],m=yge(u.concat(a,f)),p=function(g){return vc(hge(g),m)};c=function(g,b,v,j){d=v,p(g?g+"{"+b.styles+"}":b.styles),j&&(h.inserted[b.name]=!0)}}var h={key:r,sheet:new ege({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return h.sheet.hydrate(l),h},kge=!0;function Tge(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var xV=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||kge===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},Dge=function(e,r,n){xV(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Ege(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Pge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Oge=/[A-Z]|^ms/g,_ge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vV=function(e){return e.charCodeAt(1)===45},u$=function(e){return e!=null&&typeof e!="boolean"},ZN=xge(function(t){return vV(t)?t:t.replace(Oge,"-$&").toLowerCase()}),d$=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(_ge,function(n,a,s){return Da={name:a,styles:s,next:Da},a})}return Pge[e]!==1&&!vV(e)&&typeof r=="number"&&r!==0?r+"px":r};function Qf(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Da={name:a.name,styles:a.styles,next:Da},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)Da={name:i.name,styles:i.styles,next:Da},i=i.next;var l=s.styles+";";return l}return $ge(t,e,r)}case"function":{if(t!==void 0){var c=Da,u=r(t);return Da=c,Qf(t,e,u)}break}}var d=r;return d}function $ge(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Qf(t,e,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var l=i;u$(l)&&(n+=ZN(s)+":"+d$(s,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)u$(i[c])&&(n+=ZN(s)+":"+d$(s,i[c])+";");else{var u=Qf(t,e,i);switch(s){case"animation":case"animationName":{n+=ZN(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var f$=/label:\s*([^\s;{]+)\s*(;|$)/g,Da;function jV(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Da=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=Qf(r,e,s);else{var i=s;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=Qf(r,e,t[l]),n){var c=s;a+=c[l]}f$.lastIndex=0;for(var u="",d;(d=f$.exec(a))!==null;)u+="-"+d[1];var f=Ege(a)+u;return{name:f,styles:a,next:Da}}var Rge=function(e){return e()},Mge=gf.useInsertionEffect?gf.useInsertionEffect:!1,Lge=Mge||Rge,wV=w.createContext(typeof HTMLElement<"u"?Ige({key:"css"}):null);wV.Provider;var Fge=function(e){return w.forwardRef(function(r,n){var a=w.useContext(wV);return e(r,a,n)})},Bge=w.createContext({}),_D={}.hasOwnProperty,GA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qge=function(e,r){var n={};for(var a in r)_D.call(r,a)&&(n[a]=r[a]);return n[GA]=e,n},Vge=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return xV(r,n,a),Lge(function(){return Dge(r,n,a)}),null},Uge=Fge(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[GA],s=[n],i="";typeof t.className=="string"?i=Tge(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=jV(s,void 0,w.useContext(Bge));i+=e.key+"-"+l.name;var c={};for(var u in t)_D.call(t,u)&&u!=="css"&&u!==GA&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),w.createElement(w.Fragment,null,w.createElement(Vge,{cache:e,serialized:l,isStringTag:typeof a=="string"}),w.createElement(a,c))}),zge=Uge,Te=function(e,r){var n=arguments;if(r==null||!_D.call(r,"css"))return w.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=zge,s[1]=qge(e,r);for(var i=2;i<a;i++)s[i]=n[i];return w.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Te||(Te={}));function $D(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return jV(e)}function Wge(){var t=$D.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Hge(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Gge=Math.min,Yge=Math.max,Ux=Math.round,op=Math.floor,zx=t=>({x:t,y:t});function Kge(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Rj(){return typeof window<"u"}function NV(t){return SV(t)?(t.nodeName||"").toLowerCase():"#document"}function Es(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function CV(t){var e;return(e=(SV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function SV(t){return Rj()?t instanceof Node||t instanceof Es(t).Node:!1}function Jge(t){return Rj()?t instanceof Element||t instanceof Es(t).Element:!1}function RD(t){return Rj()?t instanceof HTMLElement||t instanceof Es(t).HTMLElement:!1}function m$(t){return!Rj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Es(t).ShadowRoot}const Xge=new Set(["inline","contents"]);function AV(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=MD(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Xge.has(a)}function Qge(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Zge=new Set(["html","body","#document"]);function eye(t){return Zge.has(NV(t))}function MD(t){return Es(t).getComputedStyle(t)}function tye(t){if(NV(t)==="html")return t;const e=t.assignedSlot||t.parentNode||m$(t)&&t.host||CV(t);return m$(e)?e.host:e}function IV(t){const e=tye(t);return eye(e)?t.ownerDocument?t.ownerDocument.body:t.body:RD(e)&&AV(e)?e:IV(e)}function Wx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=IV(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),i=Es(a);if(s){const l=YA(i);return e.concat(i,i.visualViewport||[],AV(a)?a:[],l&&r?Wx(l):[])}return e.concat(a,Wx(a,[],r))}function YA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rye(t){const e=MD(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=RD(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=Ux(r)!==s||Ux(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function LD(t){return Jge(t)?t:t.contextElement}function h$(t){const e=LD(t);if(!RD(e))return zx(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=rye(e);let i=(s?Ux(r.width):r.width)/n,l=(s?Ux(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const nye=zx(0);function aye(t){const e=Es(t);return!Qge()||!e.visualViewport?nye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sye(t,e,r){return!1}function p$(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=LD(t);let i=zx(1);e&&(i=h$(t));const l=sye()?aye(s):zx(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=Es(s),p=n;let h=m,y=YA(h);for(;y&&n&&p!==h;){const g=h$(y),b=y.getBoundingClientRect(),v=MD(y),j=b.left+(y.clientLeft+parseFloat(v.paddingLeft))*g.x,C=b.top+(y.clientTop+parseFloat(v.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=j,u+=C,h=Es(y),y=YA(h)}}return Kge({width:d,height:f,x:c,y:u})}function kV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function oye(t,e){let r=null,n;const a=CV(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||e(),!m||!p)return;const h=op(f),y=op(a.clientWidth-(d+m)),g=op(a.clientHeight-(f+p)),b=op(d),j={rootMargin:-h+"px "+-y+"px "+-g+"px "+-b+"px",threshold:Yge(0,Gge(1,c))||1};let C=!0;function x(N){const S=N[0].intersectionRatio;if(S!==c){if(!C)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!kV(u,t.getBoundingClientRect())&&i(),C=!1}try{r=new IntersectionObserver(x,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(x,j)}r.observe(t)}return i(!0),s}function iye(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=LD(t),d=a||s?[...u?Wx(u):[],...Wx(e)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const f=u&&l?oye(u,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let h,y=c?p$(t):null;c&&g();function g(){const b=p$(t);y&&!kV(y,b)&&r(),y=b,h=requestAnimationFrame(g)}return r(),()=>{var b;d.forEach(v=>{a&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(h)}}var KA=w.useLayoutEffect,lye=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Hx=function(){};function cye(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function uye(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(cye(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var g$=function(e){return xye(e)?e.filter(Boolean):ul(e)==="object"&&e!==null?[e]:[]},TV=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Bs(e,lye);return Pe({},r)},Yt=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},i(r,e),l)}};function Mj(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function dye(t){return Mj(t)?window.innerHeight:t.clientHeight}function DV(t){return Mj(t)?window.pageYOffset:t.scrollTop}function Gx(t,e){if(Mj(t)){window.scrollTo(0,e);return}t.scrollTop=e}function fye(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function mye(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function ip(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Hx,a=DV(t),s=e-a,i=10,l=0;function c(){l+=i;var u=mye(l,a,s,r);Gx(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function y$(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?Gx(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&Gx(t,Math.max(e.offsetTop-a,0))}function hye(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function b$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function pye(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var EV=!1,gye={get passive(){return EV=!0}},lp=typeof window<"u"?window:{};lp.addEventListener&&lp.removeEventListener&&(lp.addEventListener("p",Hx,gye),lp.removeEventListener("p",Hx,!1));var yye=EV;function bye(t){return t!=null}function xye(t){return Array.isArray(t)}function cp(t,e,r){return t?e:r}var vye=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var l=vs(i,1),c=l[0];return!n.includes(c)});return s.reduce(function(i,l){var c=vs(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},jye=["children","innerProps"],wye=["children","innerProps"];function Nye(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=fye(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),p=m.bottom,h=m.height,y=m.top,g=r.offsetParent.getBoundingClientRect(),b=g.top,v=i?window.innerHeight:dye(c),j=DV(c),C=parseInt(getComputedStyle(r).marginBottom,10),x=parseInt(getComputedStyle(r).marginTop,10),N=b-x,S=v-y,A=N+j,I=f-j-y,k=p-v+j+C,D=j+y-x,_=160;switch(a){case"auto":case"bottom":if(S>=h)return{placement:"bottom",maxHeight:e};if(I>=h&&!i)return s&&ip(c,k,_),{placement:"bottom",maxHeight:e};if(!i&&I>=n||i&&S>=n){s&&ip(c,k,_);var M=i?S-C:I-C;return{placement:"bottom",maxHeight:M}}if(a==="auto"||i){var P=e,O=i?N:A;return O>=n&&(P=Math.min(O-C-l,e)),{placement:"top",maxHeight:P}}if(a==="bottom")return s&&Gx(c,k),{placement:"bottom",maxHeight:e};break;case"top":if(N>=h)return{placement:"top",maxHeight:e};if(A>=h&&!i)return s&&ip(c,D,_),{placement:"top",maxHeight:e};if(!i&&A>=n||i&&N>=n){var L=e;return(!i&&A>=n||i&&N>=n)&&(L=i?N-x:A-x),s&&ip(c,D,_),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function Cye(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var PV=function(e){return e==="auto"?"bottom":e},Sye=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,c=s.colors;return Pe((n={label:"menu"},Ad(n,Cye(a),"100%"),Ad(n,"position","absolute"),Ad(n,"width","100%"),Ad(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},OV=w.createContext(null),Aye=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=w.useContext(OV)||{},d=u.setPortalPlacement,f=w.useRef(null),m=w.useState(a),p=vs(m,2),h=p[0],y=p[1],g=w.useState(null),b=vs(g,2),v=b[0],j=b[1],C=c.spacing.controlHeight;return KA(function(){var x=f.current;if(x){var N=i==="fixed",S=l&&!N,A=Nye({maxHeight:a,menuEl:x,minHeight:n,placement:s,shouldScroll:S,isFixedPosition:N,controlHeight:C});y(A.maxHeight),j(A.placement),d==null||d(A.placement)}},[a,s,i,l,n,d,C]),r({ref:f,placerProps:Pe(Pe({},e),{},{placement:v||PV(s),maxHeight:h})})},Iye=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Te("div",_e({},Yt(e,"menu",{menu:!0}),{ref:n},a),r)},kye=Iye,Tye=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Pe({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},Dye=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return Te("div",_e({},Yt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},_V=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Pe({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Eye=_V,Pye=_V,Oye=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=Bs(e,jye);return Te("div",_e({},Yt(Pe(Pe({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},_ye=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=Bs(e,wye);return Te("div",_e({},Yt(Pe(Pe({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},$ye=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},Rye=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=w.useRef(null),u=w.useRef(null),d=w.useState(PV(i)),f=vs(d,2),m=f[0],p=f[1],h=w.useMemo(function(){return{setPortalPlacement:p}},[]),y=w.useState(null),g=vs(y,2),b=g[0],v=g[1],j=w.useCallback(function(){if(a){var S=hye(a),A=l==="fixed"?0:window.pageYOffset,I=S[m]+A;(I!==(b==null?void 0:b.offset)||S.left!==(b==null?void 0:b.rect.left)||S.width!==(b==null?void 0:b.rect.width))&&v({offset:I,rect:S})}},[a,l,m,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);KA(function(){j()},[j]);var C=w.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=iye(a,c.current,j,{elementResize:"ResizeObserver"in window}))},[a,j]);KA(function(){C()},[C]);var x=w.useCallback(function(S){c.current=S,C()},[C]);if(!r&&l!=="fixed"||!b)return null;var N=Te("div",_e({ref:x},Yt(Pe(Pe({},e),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Te(OV.Provider,{value:h},r?s0.createPortal(N,r):N)},Mye=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Lye=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return Te("div",_e({},Yt(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},Fye=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Pe({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Bye=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return Te("div",_e({},Yt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},qye=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Vye=function(e){var r=e.children,n=e.innerProps;return Te("div",_e({},Yt(e,"indicatorsContainer",{indicators:!0}),n),r)},x$,Uye=["size"],zye=["innerProps","isRtl","size"],Wye={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},$V=function(e){var r=e.size,n=Bs(e,Uye);return Te("svg",_e({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Wye},n))},FD=function(e){return Te($V,_e({size:20},e),Te("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},RV=function(e){return Te($V,_e({size:20},e),Te("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},MV=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Pe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},Hye=MV,Gye=function(e){var r=e.children,n=e.innerProps;return Te("div",_e({},Yt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Te(RV,null))},Yye=MV,Kye=function(e){var r=e.children,n=e.innerProps;return Te("div",_e({},Yt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Te(FD,null))},Jye=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Pe({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},Xye=function(e){var r=e.innerProps;return Te("span",_e({},r,Yt(e,"indicatorSeparator",{"indicator-separator":!0})))},Qye=Wge(x$||(x$=Hge([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Zye=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Pe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},e1=function(e){var r=e.delay,n=e.offset;return Te("span",{css:$D({animation:"".concat(Qye," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ebe=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=Bs(e,zye);return Te("div",_e({},Yt(Pe(Pe({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Te(e1,{delay:0,offset:n}),Te(e1,{delay:160,offset:!0}),Te(e1,{delay:320,offset:!n}))},tbe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,c=s.spacing;return Pe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},rbe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Te("div",_e({ref:s},Yt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},nbe=rbe,abe=["data"],sbe=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},obe=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Te("div",_e({},Yt(e,"group",{group:!0}),c),Te(i,_e({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),Te("div",null,r))},ibe=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Pe({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},lbe=function(e){var r=TV(e);r.data;var n=Bs(r,abe);return Te("div",_e({},Yt(e,"groupHeading",{"group-heading":!0}),n))},cbe=obe,ube=["innerRef","isDisabled","isHidden","inputClassName"],dbe=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,l=s.colors;return Pe(Pe({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},fbe),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},LV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},fbe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Pe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},LV)},mbe=function(e){return Pe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},LV)},hbe=function(e){var r=e.cx,n=e.value,a=TV(e),s=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=Bs(a,ube);return Te("div",_e({},Yt(e,"input",{"input-container":!0}),{"data-value":n||""}),Te("input",_e({className:r({input:!0},c),ref:s,style:mbe(l),disabled:i},u)))},pbe=hbe,gbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return Pe({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},ybe=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Pe({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},bbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Pe({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},FV=function(e){var r=e.children,n=e.innerProps;return Te("div",n,r)},xbe=FV,vbe=FV;function jbe(t){var e=t.children,r=t.innerProps;return Te("div",_e({role:"button"},r),e||Te(FD,{size:14}))}var wbe=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return Te(u,{data:a,innerProps:Pe(Pe({},Yt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:c},Te(d,{data:a,innerProps:Pe({},Yt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Te(f,{data:a,innerProps:Pe(Pe({},Yt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},Nbe=wbe,Cbe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Pe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},Sbe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Te("div",_e({},Yt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),r)},Abe=Sbe,Ibe=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Pe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},kbe=function(e){var r=e.children,n=e.innerProps;return Te("div",_e({},Yt(e,"placeholder",{placeholder:!0}),n),r)},Tbe=kbe,Dbe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return Pe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Ebe=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Te("div",_e({},Yt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},Pbe=Ebe,Obe={ClearIndicator:Kye,Control:nbe,DropdownIndicator:Gye,DownChevron:RV,CrossIcon:FD,Group:cbe,GroupHeading:lbe,IndicatorsContainer:Vye,IndicatorSeparator:Xye,Input:pbe,LoadingIndicator:ebe,Menu:kye,MenuList:Dye,MenuPortal:Rye,LoadingMessage:_ye,NoOptionsMessage:Oye,MultiValue:Nbe,MultiValueContainer:xbe,MultiValueLabel:vbe,MultiValueRemove:jbe,Option:Abe,Placeholder:Tbe,SelectContainer:Lye,SingleValue:Pbe,ValueContainer:Bye},_be=function(e){return Pe(Pe({},Obe),e.components)},v$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function $be(t,e){return!!(t===e||v$(t)&&v$(e))}function Rbe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!$be(t[r],e[r]))return!1;return!0}function Mbe(t,e){e===void 0&&(e=Rbe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var Lbe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Fbe=function(e){return Te("span",_e({css:Lbe},e))},j$=Fbe,Bbe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(y,g){return y&&y.length?"".concat(y.indexOf(g)+1," of ").concat(y.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",p="".concat(u?" selected":"").concat(m);return"".concat(i).concat(p,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},qbe=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,p=c.inputValue,h=c.isMulti,y=c.isOptionDisabled,g=c.isSearchable,b=c.menuIsOpen,v=c.options,j=c.screenReaderStatus,C=c.tabSelectsValue,x=c.isLoading,N=c["aria-label"],S=c["aria-live"],A=w.useMemo(function(){return Pe(Pe({},Bbe),f||{})},[f]),I=w.useMemo(function(){var O="";if(r&&A.onChange){var L=r.option,V=r.options,$=r.removedValue,R=r.removedValues,W=r.value,Z=function(de){return Array.isArray(de)?null:de},G=$||L||Z(W),U=G?m(G):"",ae=V||R||void 0,xe=ae?ae.map(m):[],se=Pe({isDisabled:G&&y(G,l),label:U,labels:xe},r);O=A.onChange(se)}return O},[r,A,y,l,m]),k=w.useMemo(function(){var O="",L=n||a,V=!!(n&&l&&l.includes(n));if(L&&A.onFocus){var $={focused:L,label:m(L),isDisabled:y(L,l),isSelected:V,options:s,context:L===n?"menu":"value",selectValue:l,isAppleDevice:d};O=A.onFocus($)}return O},[n,a,m,y,A,s,l,d]),D=w.useMemo(function(){var O="";if(b&&v.length&&!x&&A.onFilter){var L=j({count:s.length});O=A.onFilter({inputValue:p,resultsMessage:L})}return O},[s,p,b,A,v,j,x]),_=(r==null?void 0:r.action)==="initial-input-focus",M=w.useMemo(function(){var O="";if(A.guidance){var L=a?"value":b?"menu":"input";O=A.guidance({"aria-label":N,context:L,isDisabled:n&&y(n,l),isMulti:h,isSearchable:g,tabSelectsValue:C,isInitialFocus:_})}return O},[N,n,a,h,y,g,b,A,l,C,_]),P=Te(w.Fragment,null,Te("span",{id:"aria-selection"},I),Te("span",{id:"aria-focused"},k),Te("span",{id:"aria-results"},D),Te("span",{id:"aria-guidance"},M));return Te(w.Fragment,null,Te(j$,{id:u},_&&P),Te(j$,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!_&&P))},Vbe=qbe,JA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Ube=new RegExp("["+JA.map(function(t){return t.letters}).join("")+"]","g"),BV={};for(var t1=0;t1<JA.length;t1++)for(var r1=JA[t1],n1=0;n1<r1.letters.length;n1++)BV[r1.letters[n1]]=r1.base;var qV=function(e){return e.replace(Ube,function(r){return BV[r]})},zbe=Mbe(qV),w$=function(e){return e.replace(/^\s+|\s+$/g,"")},Wbe=function(e){return"".concat(e.label," ").concat(e.value)},Hbe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Pe({ignoreCase:!0,ignoreAccents:!0,stringify:Wbe,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?w$(n):n,f=c?w$(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=zbe(d),f=qV(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},Gbe=["innerRef"];function Ybe(t){var e=t.innerRef,r=Bs(t,Gbe),n=vye(r,"onExited","in","enter","exit","appear");return Te("input",_e({ref:e},n,{css:$D({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Kbe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Jbe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=w.useRef(!1),l=w.useRef(!1),c=w.useRef(0),u=w.useRef(null),d=w.useCallback(function(g,b){if(u.current!==null){var v=u.current,j=v.scrollTop,C=v.scrollHeight,x=v.clientHeight,N=u.current,S=b>0,A=C-x-j,I=!1;A>b&&i.current&&(n&&n(g),i.current=!1),S&&l.current&&(s&&s(g),l.current=!1),S&&b>A?(r&&!i.current&&r(g),N.scrollTop=C,I=!0,i.current=!0):!S&&-b>j&&(a&&!l.current&&a(g),N.scrollTop=0,I=!0,l.current=!0),I&&Kbe(g)}},[r,n,a,s]),f=w.useCallback(function(g){d(g,g.deltaY)},[d]),m=w.useCallback(function(g){c.current=g.changedTouches[0].clientY},[]),p=w.useCallback(function(g){var b=c.current-g.changedTouches[0].clientY;d(g,b)},[d]),h=w.useCallback(function(g){if(g){var b=yye?{passive:!1}:!1;g.addEventListener("wheel",f,b),g.addEventListener("touchstart",m,b),g.addEventListener("touchmove",p,b)}},[p,m,f]),y=w.useCallback(function(g){g&&(g.removeEventListener("wheel",f,!1),g.removeEventListener("touchstart",m,!1),g.removeEventListener("touchmove",p,!1))},[p,m,f]);return w.useEffect(function(){if(e){var g=u.current;return h(g),function(){y(g)}}},[e,h,y]),function(g){u.current=g}}var N$=["boxSizing","height","overflow","paddingRight","position"],C$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function S$(t){t.cancelable&&t.preventDefault()}function A$(t){t.stopPropagation()}function I$(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function k$(){return"ontouchstart"in window||navigator.maxTouchPoints}var T$=!!(typeof window<"u"&&window.document&&window.document.createElement),Zu=0,$l={capture:!1,passive:!1};function Xbe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=w.useRef({}),s=w.useRef(null),i=w.useCallback(function(c){if(T$){var u=document.body,d=u&&u.style;if(n&&N$.forEach(function(h){var y=d&&d[h];a.current[h]=y}),n&&Zu<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,p=window.innerWidth-m+f||0;Object.keys(C$).forEach(function(h){var y=C$[h];d&&(d[h]=y)}),d&&(d.paddingRight="".concat(p,"px"))}u&&k$()&&(u.addEventListener("touchmove",S$,$l),c&&(c.addEventListener("touchstart",I$,$l),c.addEventListener("touchmove",A$,$l))),Zu+=1}},[n]),l=w.useCallback(function(c){if(T$){var u=document.body,d=u&&u.style;Zu=Math.max(Zu-1,0),n&&Zu<1&&N$.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&k$()&&(u.removeEventListener("touchmove",S$,$l),c&&(c.removeEventListener("touchstart",I$,$l),c.removeEventListener("touchmove",A$,$l)))}},[n]);return w.useEffect(function(){if(e){var c=s.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){s.current=c}}var Qbe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Zbe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function exe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=Jbe({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=Xbe({isEnabled:r}),f=function(p){u(p),d(p)};return Te(w.Fragment,null,r&&Te("div",{onClick:Qbe,css:Zbe}),e(f))}var txe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},rxe=function(e){var r=e.name,n=e.onFocus;return Te("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:txe,value:"",onChange:function(){}})},nxe=rxe;function BD(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function axe(){return BD(/^iPhone/i)}function VV(){return BD(/^Mac/i)}function sxe(){return BD(/^iPad/i)||VV()&&navigator.maxTouchPoints>1}function oxe(){return axe()||sxe()}function ixe(){return VV()||oxe()}var lxe=function(e){return e.label},cxe=function(e){return e.label},uxe=function(e){return e.value},dxe=function(e){return!!e.isDisabled},fxe={clearIndicator:Yye,container:Mye,control:tbe,dropdownIndicator:Hye,group:sbe,groupHeading:ibe,indicatorsContainer:qye,indicatorSeparator:Jye,input:dbe,loadingIndicator:Zye,loadingMessage:Pye,menu:Sye,menuList:Tye,menuPortal:$ye,multiValue:gbe,multiValueLabel:ybe,multiValueRemove:bbe,noOptionsMessage:Eye,option:Cbe,placeholder:Ibe,singleValue:Dbe,valueContainer:Fye},mxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},hxe=4,UV=4,pxe=38,gxe=UV*2,yxe={baseUnit:UV,controlHeight:pxe,menuGutter:gxe},a1={borderRadius:hxe,colors:mxe,spacing:yxe},bxe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:b$(),captureMenuScroll:!b$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Hbe(),formatGroupLabel:lxe,getOptionLabel:cxe,getOptionValue:uxe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:dxe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!pye(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function D$(t,e,r,n){var a=HV(t,e,r),s=GV(t,e,r),i=WV(t,e),l=Yx(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:l,index:n}}function Xy(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return D$(t,i,e,l)}).filter(function(i){return P$(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=D$(t,r,e,n);return P$(t,s)?s:void 0}).filter(bye)}function zV(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,DD(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function E$(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,DD(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function xxe(t,e){return zV(Xy(t,e))}function P$(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,l=e.value;return(!KV(t)||!s)&&YV(t,{label:i,value:l,data:a},n)}function vxe(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function jxe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var s1=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},WV=function(e,r){return e.getOptionLabel(r)},Yx=function(e,r){return e.getOptionValue(r)};function HV(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function GV(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Yx(t,e);return r.some(function(a){return Yx(t,a)===n})}function YV(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var KV=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},wxe=1,JV=function(t){Wpe(r,t);var e=Ype(r);function r(n){var a;if(Upe(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,p=f.isMulti,h=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:h}),m&&(a.setState({inputIsHiddenAfterUpdate:!p}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,p=a.state.selectValue,h=f&&a.isOptionSelected(c,p),y=a.isOptionDisabled(c,p);if(h){var g=a.getOptionValue(c);a.setValue(p.filter(function(b){return a.getOptionValue(b)!==g}),"deselect-option",c)}else if(!y)f?a.setValue([].concat(DD(p),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(h){return a.getOptionValue(h)!==f}),p=cp(u,m,m[0]||null);a.onChange(p,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(cp(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=cp(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return s1(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return E$(Xy(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return uye.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return WV(a.props,c)},a.getOptionValue=function(c){return Yx(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=fxe[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return _be(a.props)},a.buildCategorizedOptions=function(){return Xy(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return zV(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Pe({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Mj(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),p=5;a.userIsDragging=f>p||m>p}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return KV(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,p=u.inputValue,h=u.isClearable,y=u.isDisabled,g=u.menuIsOpen,b=u.onKeyDown,v=u.tabSelectsValue,j=u.openMenuOnFocus,C=a.state,x=C.focusedOption,N=C.focusedValue,S=C.selectValue;if(!y&&!(typeof b=="function"&&(b(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||p)return;a.focusValue("previous");break;case"ArrowRight":if(!d||p)return;a.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(N)a.removeValue(N);else{if(!f)return;d?a.popValue():h&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!g||!v||!x||j&&a.isOptionSelected(x,S))return;a.selectOption(x);break;case"Enter":if(c.keyCode===229)break;if(g){if(!x||a.isComposing)return;a.selectOption(x);break}return;case"Escape":g?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:p}),a.onMenuClose()):h&&m&&a.clearValue();break;case" ":if(p)return;if(!g){a.openMenu("first");break}if(!x)return;a.selectOption(x);break;case"ArrowUp":g?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":g?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!g)return;a.focusOption("pageup");break;case"PageDown":if(!g)return;a.focusOption("pagedown");break;case"Home":if(!g)return;a.focusOption("first");break;case"End":if(!g)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++wxe),a.state.selectValue=g$(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[l],a.state.focusedOptionId=s1(s,i[l])}return a}return zpe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&y$(this.menuListRef,this.focusedOptionRef),ixe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(y$(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(a1):Pe(Pe({},a1),this.props.theme):a1}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,p=f.isRtl,h=f.options,y=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:l,getValue:c,hasValue:y,isMulti:m,isRtl:p,options:h,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return HV(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return GV(this.props,a,s)}},{key:"filterOption",value:function(a,s){return YV(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,p=this.getComponents(),h=p.Input,y=this.state,g=y.inputIsHidden,b=y.ariaSelection,v=this.commonProps,j=l||this.getElementId("input"),C=Pe(Pe(Pe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?w.createElement(h,_e({},v,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:j,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},C)):w.createElement(Ybe,_e({id:j,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Hx,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,p=this.props,h=p.controlShouldRenderValue,y=p.isDisabled,g=p.isMulti,b=p.inputValue,v=p.placeholder,j=this.state,C=j.selectValue,x=j.focusedValue,N=j.isFocused;if(!this.hasValue()||!h)return b?null:w.createElement(f,_e({},m,{key:"placeholder",isDisabled:y,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),v);if(g)return C.map(function(A,I){var k=A===x,D="".concat(a.getOptionLabel(A),"-").concat(a.getOptionValue(A));return w.createElement(i,_e({},m,{components:{Container:l,Label:c,Remove:u},isFocused:k,isDisabled:y,key:D,index:I,removeProps:{onClick:function(){return a.removeValue(A)},onTouchEnd:function(){return a.removeValue(A)},onMouseDown:function(M){M.preventDefault()}},data:A}),a.formatOptionLabel(A,"value"))});if(b)return null;var S=C[0];return w.createElement(d,_e({},m,{data:S,isDisabled:y}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,_e({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return w.createElement(s,_e({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return w.createElement(i,_e({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,_e({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,p=s.Option,h=this.commonProps,y=this.state.focusedOption,g=this.props,b=g.captureMenuScroll,v=g.inputValue,j=g.isLoading,C=g.loadingMessage,x=g.minMenuHeight,N=g.maxMenuHeight,S=g.menuIsOpen,A=g.menuPlacement,I=g.menuPosition,k=g.menuPortalTarget,D=g.menuShouldBlockScroll,_=g.menuShouldScrollIntoView,M=g.noOptionsMessage,P=g.onMenuScrollToTop,O=g.onMenuScrollToBottom;if(!S)return null;var L=function(U,ae){var xe=U.type,se=U.data,K=U.isDisabled,de=U.isSelected,ee=U.label,re=U.value,J=y===se,H=K?void 0:function(){return a.onOptionHover(se)},me=K?void 0:function(){return a.selectOption(se)},Ne="".concat(a.getElementId("option"),"-").concat(ae),De={id:Ne,onClick:me,onMouseMove:H,onMouseOver:H,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:de};return w.createElement(p,_e({},h,{innerProps:De,data:se,isDisabled:K,isSelected:de,key:Ne,label:ee,type:xe,value:re,isFocused:J,innerRef:J?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(U.data,"menu"))},V;if(this.hasOptions())V=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var U=G.data,ae=G.options,xe=G.index,se="".concat(a.getElementId("group"),"-").concat(xe),K="".concat(se,"-heading");return w.createElement(i,_e({},h,{key:se,data:U,options:ae,Heading:l,headingProps:{id:K,data:G.data},label:a.formatGroupLabel(G.data)}),G.options.map(function(de){return L(de,"".concat(xe,"-").concat(de.index))}))}else if(G.type==="option")return L(G,"".concat(G.index))});else if(j){var $=C({inputValue:v});if($===null)return null;V=w.createElement(f,h,$)}else{var R=M({inputValue:v});if(R===null)return null;V=w.createElement(m,h,R)}var W={minMenuHeight:x,maxMenuHeight:N,menuPlacement:A,menuPosition:I,menuShouldScrollIntoView:_},Z=w.createElement(Aye,_e({},h,W),function(G){var U=G.ref,ae=G.placerProps,xe=ae.placement,se=ae.maxHeight;return w.createElement(c,_e({},h,W,{innerRef:U,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:j,placement:xe}),w.createElement(exe,{captureEnabled:b,onTopArrive:P,onBottomArrive:O,lockEnabled:D},function(K){return w.createElement(u,_e({},h,{innerRef:function(ee){a.getMenuListRef(ee),K(ee)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:a.getElementId("listbox")},isLoading:j,maxHeight:se,focusedOption:y}),V)}))});return k||I==="fixed"?w.createElement(d,_e({},h,{appendTo:k,controlElement:this.controlRef,menuPlacement:A,menuPosition:I}),Z):Z}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return w.createElement(nxe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var m=f.map(function(y){return a.getOptionValue(y)}).join(i);return w.createElement("input",{name:u,type:"hidden",value:m})}else{var p=f.length>0?f.map(function(y,g){return w.createElement("input",{key:"i-".concat(g),name:u,type:"hidden",value:a.getOptionValue(y)})}):w.createElement("input",{name:u,type:"hidden",value:""});return w.createElement("div",null,p)}else{var h=f[0]?this.getOptionValue(f[0]):"";return w.createElement("input",{name:u,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return w.createElement(Vbe,_e({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,p=u.menuIsOpen,h=this.state.isFocused,y=this.commonProps=this.getCommonProps();return w.createElement(l,_e({},y,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:h}),this.renderLiveRegion(),w.createElement(s,_e({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:h,menuIsOpen:p}),w.createElement(c,_e({},y,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),w.createElement(i,_e({},y,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,p=a.options,h=a.value,y=a.menuIsOpen,g=a.inputValue,b=a.isMulti,v=g$(h),j={};if(i&&(h!==i.value||p!==i.options||y!==i.menuIsOpen||g!==i.inputValue)){var C=y?xxe(a,v):[],x=y?E$(Xy(a,v),"".concat(m,"-option")):[],N=l?vxe(s,v):null,S=jxe(s,C),A=s1(x,S);j={selectValue:v,focusedOption:S,focusedOptionId:A,focusableOptionsWithIds:x,focusedValue:N,clearFocusValueOnUpdate:!1}}var I=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},k=u,D=d&&f;return d&&!D&&(k={value:cp(b,v,v[0]||null),options:v,action:"initial-input-focus"},D=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(k=null),Pe(Pe(Pe({},j),I),{},{prevProps:a,ariaSelection:k,prevWasFocused:D})}}]),r}(w.Component);JV.defaultProps=bxe;var Nxe=w.forwardRef(function(t,e){var r=Vpe(t);return w.createElement(JV,_e({ref:e},r))}),zr=Nxe;function Zf({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:s=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(s)||0;let m=0,p=0,h=0,y=0,g=0,b=0,v=0,j=0,C=0;return a?(m=l*c,p=+(m*d).toFixed(2),y=+(m-p).toFixed(2),h=+(y*i/(100+i)).toFixed(2),g=+(y-h).toFixed(2)):(m=l*c,p=+(m*d).toFixed(2),h=+(m*i/100).toFixed(2),g=+(m-p).toFixed(2),y=+(g+h).toFixed(2)),b=+(g*u/100*-1).toFixed(2),v=+(g*f/100*-1).toFixed(2),j=+(b+v).toFixed(2),C=a?+(y+j).toFixed(2):+(g+j).toFixed(2),{subtotalBeforeDiscount:m,discount:p,vat:h,subtotalTaxIncluded:y,subtotalTaxExcluded:g,withheld:b,ewt:v,ewtrate:f,totalDeduction:j,subtotal:C}}function XV({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var p;const u=ie({ResponsibilityCenter:E().required("Required"),ChargeAccountID:E().required("Required"),ItemID:E().required("Required"),Remarks:E().required("Required"),FPP:E().required("Required"),Price:Y().required("Required"),Quantity:Y().required("Required"),ItemUnitID:E().required("Required"),TAXCodeID:E().required("Required"),DiscountRate:Y().required("Required")}),d=at({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:h=>{const y=i.find(C=>String(C.ID)===String(h.TAXCodeID)),g=Zf({price:h.Price,quantity:h.Quantity,taxRate:(y==null?void 0:y.Rate)||0,discountPercent:h.DiscountRate,vatable:h.Vatable,ewtRate:h.withheldEWT}),b=r.find(C=>String(C.value)===String(h.ResponsibilityCenter)),v=l.find(C=>String(C.value)===String(h.ChargeAccountID)),j=n.find(C=>String(C.value)===String(h.ItemID));t({...h,...g,responsibilityCenterName:b?b.label:"",chargeAccountName:v?v.label:"",itemName:j?j.label:"",TaxName:y==null?void 0:y.Name,TaxRate:y==null?void 0:y.Rate}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(b=>d.values[b]!==f.current[b]))return;f.current={...d.values};const y=i.find(b=>String(b.ID)===String(d.values.TAXCodeID)),g=Zf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(y==null?void 0:y.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});g.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",g.subtotal,!1),g.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",g.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((p=i.find(h=>String(h.ID)===String(d.values.TAXCodeID)))==null?void 0:p.Rate)??"";return console.log("selectedTax",i),o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(T,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),o.jsxs("div",{children:[o.jsx(T,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),o.jsxs("div",{children:[o.jsx(T,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(T,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),o.jsxs("div",{children:[o.jsx(T,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP"),required:!0}),d.touched.FPP&&d.errors.FPP&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(T,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),o.jsxs("div",{children:[o.jsx(T,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),o.jsxs("div",{children:[o.jsx(T,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(T,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),o.jsx("div",{children:o.jsx(T,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsxs("div",{children:[o.jsx(T,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:o.jsx(T,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const QV="https://staging-engine.testthelink.online",Cxe={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},Qy=F("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${QV}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),o1=F("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Zy=F("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${QV}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),eb=F("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),ZV=ve({name:"obligationRequests",initialState:Cxe,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(Qy.pending,e=>{e.isLoading=!0}).addCase(Qy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(Qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(o1.pending,e=>{e.isLoading=!0}).addCase(o1.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(o1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zy.pending,e=>{e.isLoading=!0}).addCase(Zy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(Zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eb.pending,e=>{e.isLoading=!0}).addCase(eb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:H8e}=ZV.actions,Sxe=ZV.reducer,O$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],Axe=ie().shape({obrNo:E(),obrDate:Le().required("Date is required"),payeeType:E().required("Payee type is required"),payeeId:E().required("Payee selection is required"),responsibilityCenter:E().required("Responsibility Center is required"),fund:E().required("Fund is required"),fiscalYear:E().required("Fiscal Year is required"),project:E().required("Project is required"),accountingEntries:Gt().min(1,"At least one item is required")});function Ixe({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:p=[],taxCodeOptions:h=[],budgetOptions:y=[],taxCodeFull:g=[]}){const b=ce(),v=w.useRef(null),[j,C]=w.useState(!1),[x,N]=w.useState(null),[S,A]=w.useState(null),[I,k]=w.useState(!1),[D,_]=w.useState([]),M=($,R)=>{const W=$.reduce((U,ae)=>U+Number(ae.amount||0),0),Z=R.reduce((U,ae)=>U+Number(ae.amount||0),0),G=W-Z;return{grossAmount:W,totalTaxes:Z,netAmount:G}},P={description:"",amount:"",accountCode:""};console.log(t);const O={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",project:(t==null?void 0:t.ProjectID)||"",fund:(t==null?void 0:t.FundsID)||"",fiscalYear:(t==null?void 0:t.FiscalYearID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.ResponsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[P],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.TransactionItemsAll)?t.TransactionItemsAll:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},L=$=>{C(!0),M($.items,$.taxes);const R=new FormData;$.payeeType==="Employee"?(R.append("EmployeeID",$.payeeId),R.append("VendorID",""),R.append("CustomerID","")):$.payeeType==="Vendor"?(R.append("EmployeeID",""),R.append("VendorID",$.payeeId),R.append("CustomerID","")):$.payeeType==="Individual"&&(R.append("EmployeeID",""),R.append("VendorID",""),R.append("CustomerID",$.payeeId)),R.append("PayeeType",$.payeeType),R.append("Payee",(x==null?void 0:x.Name)||(x==null?void 0:x.FirstName)+" "+(x==null?void 0:x.MiddleName)+" "+(x==null?void 0:x.LastName)||""),R.append("Address",(x==null?void 0:x.StreetAddress)||""),R.append("InvoiceNumber",$.obrNo),R.append("InvoiceDate",$.obrDate),R.append("ResponsibilityCenter",$.responsibilityCenter);const W=$.accountingEntries.reduce((se,K)=>se+Number(K.subtotal||0),0),Z=$.accountingEntries.reduce((se,K)=>se+Number(K.ewt||0),0),G=$.accountingEntries.reduce((se,K)=>se+Number(K.withheld||0),0),U=$.accountingEntries.reduce((se,K)=>se+Number(K.vat||0),0),ae=$.accountingEntries.reduce((se,K)=>se+Number(K.discount||0),0);R.append("Total",W.toFixed(2)),R.append("EWT",Z.toFixed(2)),R.append("WithheldAmount",G.toFixed(2)),R.append("Vat_Total",U.toFixed(2)),R.append("Discounts",ae.toFixed(2)),R.append("FundsID",$.fund),R.append("FiscalYearID",$.fiscalYear),R.append("ProjectID",$.project),R.append("TravelID",""),R.append("Items",JSON.stringify($.accountingEntries)),$.Attachments.forEach((se,K)=>{se.ID?R.append(`Attachments[${K}].ID`,se.ID):R.append(`Attachments[${K}].File`,se)});const xe=t?eb({formData:R,id:t.ID}):Zy(R);t?(R.append("IsNew",!1),R.append("LinkID",t.LinkID)):R.append("IsNew",!0),b(xe).unwrap().then(()=>{le.success("Success"),e()}).catch(se=>{le.error((se==null?void 0:se.message)||"Failed to submit")}).finally(()=>{C(!1)})},V=({type:$})=>{switch($){case"Employee":return o.jsx(TD,{className:"w-5 h-5"});case"Vendor":return o.jsx(PT,{className:"w-5 h-5"});case"Individual":return o.jsx(ej,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(Re,{innerRef:v,initialValues:O,validationSchema:Axe,onSubmit:L,enableReinitialize:!0,children:({values:$,errors:R,touched:W,handleChange:Z,handleBlur:G,setFieldValue:U,setFieldTouched:ae,isValid:xe})=>{M($.items,$.taxes);const K=O$.map(J=>({value:J.value,label:J.label})).find(J=>J.value===$.payeeType),de=J=>{N(null),U("payeeType",J),U("payeeName",""),U("payeeId",""),U("payeeAddress",""),U("officeUnitProject",""),U("orsNumber","")},ee=J=>{let H=null;switch($.payeeType){case"Employee":H=s.find(me=>me.ID===J);break;case"Vendor":H=i.find(me=>me.ID===J);break;case"Individual":H=l.find(me=>me.ID===J);break}N(H),U("payeeName",H==null?void 0:H.Name),U("payeeId",H==null?void 0:H.ID)},re=J=>{switch(J){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Be,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:O$.map(J=>o.jsxs("button",{type:"button",onClick:()=>de(J.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${$.payeeType===J.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(V,{type:J.value}),o.jsx("span",{className:"ml-3 font-medium",children:J.label})]},J.value))}),R.payeeType&&W.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),$.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",K==null?void 0:K.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:re($.payeeType),value:re($.payeeType).find(J=>J.value===$.payeeId)||null,onChange:J=>ee(J.value),className:"react-select-container",classNamePrefix:"react-select"}),R.payeeType&&W.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),x&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(K==null?void 0:K.label)==="Employee"?`${x.FirstName||""} ${x.MiddleName||""} ${x.LastName||""}`.trim():((K==null?void 0:K.label)==="Vendor"||(K==null?void 0:K.label)==="Individual",x.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((K==null?void 0:K.label)==="Employee"||(K==null?void 0:K.label)==="Vendor"||(K==null?void 0:K.label)==="Individual",x.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(T,{type:"text",label:"OBR No.",name:"obrNo",value:$.obrNo,onChange:Z,onBlur:G,error:R.obrNo,touched:W.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),o.jsx(T,{type:"date",label:"Date",name:"obrDate",value:$.obrDate,onChange:Z,onBlur:G,error:R.obrDate,touched:W.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:c,value:c.find(J=>J.value===$.responsibilityCenter)||null,onChange:J=>U("responsibilityCenter",J.value),onBlur:()=>ae("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),R.responsibilityCenter&&W.responsibilityCenter&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.responsibilityCenter})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:u,value:u.find(J=>J.value===$.fund)||null,onChange:J=>U("fund",J.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:f,value:f.find(J=>J.value===$.fiscalYear)||null,onChange:J=>U("fiscalYear",J.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:d,value:d.find(J=>J.value===$.project)||null,onChange:J=>U("project",J.value),className:"react-select-container",classNamePrefix:"react-select"}),R.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.project})]})]}),o.jsx(rn,{name:"accountingEntries",children:({push:J,remove:H})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>k(!0),children:"+ Item"})]}),$.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"PARTICULARS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),$.accountingEntries.map((me,Ne)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:me.responsibilityCenterName}),o.jsx("span",{children:me.Remarks}),o.jsx("span",{children:me.itemName}),o.jsx("span",{children:me.FPP}),o.jsx("span",{children:me.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(me.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>H(Ne),className:"text-red-600 text-xs",children:""})})]},Ne)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:$.accountingEntries.reduce((me,Ne)=>me+Number(Ne.subtotal),0).toFixed(2)})]})]}),o.jsx(oe,{isOpen:I,onClose:()=>k(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(XV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:p,taxCodeOptions:h,budgetOptions:y,taxCodeFull:g,onClose:()=>k(!1),onSubmit:me=>{J(me),k(!1)}})})]})}),R.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.accountingEntries}),o.jsx("hr",{}),o.jsx(rn,{name:"Attachments",render:({remove:J,push:H})=>{var me;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>H({File:null}),children:"+ Attachment"})]}),(me=$.Attachments)==null?void 0:me.map((Ne,De)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[Ne.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${Ne.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:Ne.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${De}].ID`,value:Ne.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${De+1}`}),o.jsx("input",{type:"file",name:`Attachments[${De}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ue=>U(`Attachments[${De}].File`,Ue.currentTarget.files[0]),onBlur:G,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(Ct,{type:"button",onClick:()=>J(De),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(er,{className:"w-4 h-4"})})]},De))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function kxe({dv:t,onClose:e,onEdit:r}){const n=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),a=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${s(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(yu,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(c3,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(l3,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(f3,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}function eU(t,e){return function(){return t.apply(e,arguments)}}const{toString:Txe}=Object.prototype,{getPrototypeOf:qD}=Object,{iterator:Lj,toStringTag:tU}=Symbol,Fj=(t=>e=>{const r=Txe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ja=t=>(t=t.toLowerCase(),e=>Fj(e)===t),Bj=t=>e=>typeof e===t,{isArray:ju}=Array,em=Bj("undefined");function th(t){return t!==null&&!em(t)&&t.constructor!==null&&!em(t.constructor)&&dn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rU=ja("ArrayBuffer");function Dxe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rU(t.buffer),e}const Exe=Bj("string"),dn=Bj("function"),nU=Bj("number"),rh=t=>t!==null&&typeof t=="object",Pxe=t=>t===!0||t===!1,tb=t=>{if(Fj(t)!=="object")return!1;const e=qD(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tU in t)&&!(Lj in t)},Oxe=t=>{if(!rh(t)||th(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},_xe=ja("Date"),$xe=ja("File"),Rxe=ja("Blob"),Mxe=ja("FileList"),Lxe=t=>rh(t)&&dn(t.pipe),Fxe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||dn(t.append)&&((e=Fj(t))==="formdata"||e==="object"&&dn(t.toString)&&t.toString()==="[object FormData]"))},Bxe=ja("URLSearchParams"),[qxe,Vxe,Uxe,zxe]=["ReadableStream","Request","Response","Headers"].map(ja),Wxe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),ju(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{if(th(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function aU(t,e){if(th(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sU=t=>!em(t)&&t!==ki;function XA(){const{caseless:t}=sU(this)&&this||{},e={},r=(n,a)=>{const s=t&&aU(e,a)||a;tb(e[s])&&tb(n)?e[s]=XA(e[s],n):tb(n)?e[s]=XA({},n):ju(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&nh(arguments[n],r);return e}const Hxe=(t,e,r,{allOwnKeys:n}={})=>(nh(e,(a,s)=>{r&&dn(a)?t[s]=eU(a,r):t[s]=a},{allOwnKeys:n}),t),Gxe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Yxe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Kxe=(t,e,r,n)=>{let a,s,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)i=a[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&qD(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Jxe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Xxe=t=>{if(!t)return null;if(ju(t))return t;let e=t.length;if(!nU(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Qxe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&qD(Uint8Array)),Zxe=(t,e)=>{const n=(t&&t[Lj]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},eve=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},tve=ja("HTMLFormElement"),rve=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),_$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),nve=ja("RegExp"),oU=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};nh(r,(a,s)=>{let i;(i=e(a,s,t))!==!1&&(n[s]=i||a)}),Object.defineProperties(t,n)},ave=t=>{oU(t,(e,r)=>{if(dn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(dn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},sve=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return ju(t)?n(t):n(String(t).split(e)),r},ove=()=>{},ive=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function lve(t){return!!(t&&dn(t.append)&&t[tU]==="FormData"&&t[Lj])}const cve=t=>{const e=new Array(10),r=(n,a)=>{if(rh(n)){if(e.indexOf(n)>=0)return;if(th(n))return n;if(!("toJSON"in n)){e[a]=n;const s=ju(n)?[]:{};return nh(n,(i,l)=>{const c=r(i,a+1);!em(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return r(t,0)},uve=ja("AsyncFunction"),dve=t=>t&&(rh(t)||dn(t))&&dn(t.then)&&dn(t.catch),iU=((t,e)=>t?setImmediate:e?((r,n)=>(ki.addEventListener("message",({source:a,data:s})=>{a===ki&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ki.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",dn(ki.postMessage)),fve=typeof queueMicrotask<"u"?queueMicrotask.bind(ki):typeof process<"u"&&process.nextTick||iU,mve=t=>t!=null&&dn(t[Lj]),te={isArray:ju,isArrayBuffer:rU,isBuffer:th,isFormData:Fxe,isArrayBufferView:Dxe,isString:Exe,isNumber:nU,isBoolean:Pxe,isObject:rh,isPlainObject:tb,isEmptyObject:Oxe,isReadableStream:qxe,isRequest:Vxe,isResponse:Uxe,isHeaders:zxe,isUndefined:em,isDate:_xe,isFile:$xe,isBlob:Rxe,isRegExp:nve,isFunction:dn,isStream:Lxe,isURLSearchParams:Bxe,isTypedArray:Qxe,isFileList:Mxe,forEach:nh,merge:XA,extend:Hxe,trim:Wxe,stripBOM:Gxe,inherits:Yxe,toFlatObject:Kxe,kindOf:Fj,kindOfTest:ja,endsWith:Jxe,toArray:Xxe,forEachEntry:Zxe,matchAll:eve,isHTMLForm:tve,hasOwnProperty:_$,hasOwnProp:_$,reduceDescriptors:oU,freezeMethods:ave,toObjectSet:sve,toCamelCase:rve,noop:ove,toFiniteNumber:ive,findKey:aU,global:ki,isContextDefined:sU,isSpecCompliantForm:lve,toJSONObject:cve,isAsyncFn:uve,isThenable:dve,setImmediate:iU,asap:fve,isIterable:mve};function qe(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}te.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const lU=qe.prototype,cU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cU[t]={value:t}});Object.defineProperties(qe,cU);Object.defineProperty(lU,"isAxiosError",{value:!0});qe.from=(t,e,r,n,a,s)=>{const i=Object.create(lU);return te.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),qe.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const hve=null;function QA(t){return te.isPlainObject(t)||te.isArray(t)}function uU(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function $$(t,e,r){return t?t.concat(e).map(function(a,s){return a=uU(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function pve(t){return te.isArray(t)&&!t.some(QA)}const gve=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function qj(t,e,r){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!te.isUndefined(g[y])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(a))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(te.isDate(h))return h.toISOString();if(te.isBoolean(h))return h.toString();if(!c&&te.isBlob(h))throw new qe("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(h)||te.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,y,g){let b=h;if(h&&!g&&typeof h=="object"){if(te.endsWith(y,"{}"))y=n?y:y.slice(0,-2),h=JSON.stringify(h);else if(te.isArray(h)&&pve(h)||(te.isFileList(h)||te.endsWith(y,"[]"))&&(b=te.toArray(h)))return y=uU(y),b.forEach(function(j,C){!(te.isUndefined(j)||j===null)&&e.append(i===!0?$$([y],C,s):i===null?y:y+"[]",u(j))}),!1}return QA(h)?!0:(e.append($$(g,y,s),u(h)),!1)}const f=[],m=Object.assign(gve,{defaultVisitor:d,convertValue:u,isVisitable:QA});function p(h,y){if(!te.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(h),te.forEach(h,function(b,v){(!(te.isUndefined(b)||b===null)&&a.call(e,b,te.isString(v)?v.trim():v,y,m))===!0&&p(b,y?y.concat(v):[v])}),f.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return p(t),e}function R$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function VD(t,e){this._pairs=[],t&&qj(t,this,e)}const dU=VD.prototype;dU.append=function(e,r){this._pairs.push([e,r])};dU.toString=function(e){const r=e?function(n){return e.call(this,n,R$)}:R$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function yve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fU(t,e,r){if(!e)return t;const n=r&&r.encode||yve;te.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=te.isURLSearchParams(e)?e.toString():new VD(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class M${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(n){n!==null&&e(n)})}}const mU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bve=typeof URLSearchParams<"u"?URLSearchParams:VD,xve=typeof FormData<"u"?FormData:null,vve=typeof Blob<"u"?Blob:null,jve={isBrowser:!0,classes:{URLSearchParams:bve,FormData:xve,Blob:vve},protocols:["http","https","file","blob","url","data"]},UD=typeof window<"u"&&typeof document<"u",ZA=typeof navigator=="object"&&navigator||void 0,wve=UD&&(!ZA||["ReactNative","NativeScript","NS"].indexOf(ZA.product)<0),Nve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Cve=UD&&window.location.href||"http://localhost",Sve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:UD,hasStandardBrowserEnv:wve,hasStandardBrowserWebWorkerEnv:Nve,navigator:ZA,origin:Cve},Symbol.toStringTag,{value:"Module"})),Rr={...Sve,...jve};function Ave(t,e){return qj(t,new Rr.classes.URLSearchParams,{visitor:function(r,n,a,s){return Rr.isNode&&te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Ive(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kve(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function hU(t){function e(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&te.isArray(a)?a.length:i,c?(te.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!te.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],s)&&te.isArray(a[i])&&(a[i]=kve(a[i])),!l)}if(te.isFormData(t)&&te.isFunction(t.entries)){const r={};return te.forEachEntry(t,(n,a)=>{e(Ive(n),a,r,0)}),r}return null}function Tve(t,e,r){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const ah={transitional:mU,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=te.isObject(e);if(s&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return a?JSON.stringify(hU(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ave(e,this.formSerializer).toString();if((l=te.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return qj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Tve(e)):e}],transformResponse:[function(e){const r=this.transitional||ah.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?qe.from(l,qe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rr.classes.FormData,Blob:Rr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{ah.headers[t]={}});const Dve=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Eve=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&Dve[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},L$=Symbol("internals");function ed(t){return t&&String(t).trim().toLowerCase()}function rb(t){return t===!1||t==null?t:te.isArray(t)?t.map(rb):String(t)}function Pve(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Ove=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function i1(t,e,r,n,a){if(te.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!te.isString(e)){if(te.isString(n))return e.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(e)}}function _ve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function $ve(t,e){const r=te.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let fn=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(l,c,u){const d=ed(c);if(!d)throw new Error("header name must be a non-empty string");const f=te.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=rb(l))}const i=(l,c)=>te.forEach(l,(u,d)=>s(u,d,c));if(te.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(te.isString(e)&&(e=e.trim())&&!Ove(e))i(Eve(e),r);else if(te.isObject(e)&&te.isIterable(e)){let l={},c,u;for(const d of e){if(!te.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?te.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=ed(e),e){const n=te.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return Pve(a);if(te.isFunction(r))return r.call(this,a,n);if(te.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ed(e),e){const n=te.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||i1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(i){if(i=ed(i),i){const l=te.findKey(n,i);l&&(!r||i1(n,n[l],l,r))&&(delete n[l],a=!0)}}return te.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||i1(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return te.forEach(this,(a,s)=>{const i=te.findKey(n,s);if(i){r[i]=rb(a),delete r[s];return}const l=e?_ve(s):String(s).trim();l!==s&&delete r[s],r[l]=rb(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return te.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[L$]=this[L$]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=ed(i);n[l]||($ve(a,i),n[l]=!0)}return te.isArray(e)?e.forEach(s):s(e),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(fn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});te.freezeMethods(fn);function l1(t,e){const r=this||ah,n=e||r,a=fn.from(n.headers);let s=n.data;return te.forEach(t,function(l){s=l.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function pU(t){return!!(t&&t.__CANCEL__)}function wu(t,e,r){qe.call(this,t??"canceled",qe.ERR_CANCELED,e,r),this.name="CanceledError"}te.inherits(wu,qe,{__CANCEL__:!0});function gU(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new qe("Request failed with status code "+r.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Rve(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Mve(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-i<e)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function Lve(t,e){let r=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Kx=(t,e,r=3)=>{let n=0;const a=Mve(50,250);return Lve(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},F$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},B$=t=>(...e)=>te.asap(()=>t(...e)),Fve=Rr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Rr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Rr.origin),Rr.navigator&&/(msie|trident)/i.test(Rr.navigator.userAgent)):()=>!0,Bve=Rr.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const i=[t+"="+encodeURIComponent(e)];te.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),te.isString(n)&&i.push("path="+n),te.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Vve(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yU(t,e,r){let n=!qve(e);return t&&(n||r==!1)?Vve(t,e):e}const q$=t=>t instanceof fn?{...t}:t;function dl(t,e){e=e||{};const r={};function n(u,d,f,m){return te.isPlainObject(u)&&te.isPlainObject(d)?te.merge.call({caseless:m},u,d):te.isPlainObject(d)?te.merge({},d):te.isArray(d)?d.slice():d}function a(u,d,f,m){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!te.isUndefined(d))return n(void 0,d)}function i(u,d){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(q$(u),q$(d),f,!0)};return te.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||a,m=f(t[d],e[d],d);te.isUndefined(m)&&f!==l||(r[d]=m)}),r}const bU=t=>{const e=dl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=fn.from(i),e.url=fU(yU(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(te.isFormData(r)){if(Rr.hasStandardBrowserEnv||Rr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Rr.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(e)),n||n!==!1&&Fve(e.url))){const u=a&&s&&Bve.read(s);u&&i.set(a,u)}return e},Uve=typeof XMLHttpRequest<"u",zve=Uve&&function(t){return new Promise(function(r,n){const a=bU(t);let s=a.data;const i=fn.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,p,h;function y(){p&&p(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function b(){if(!g)return;const j=fn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),x={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:t,request:g};gU(function(S){r(S),y()},function(S){n(S),y()},x),g=null}"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(n(new qe("Request aborted",qe.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new qe("Network Error",qe.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const x=a.transitional||mU;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),n(new qe(C,x.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,t,g)),g=null},s===void 0&&i.setContentType(null),"setRequestHeader"in g&&te.forEach(i.toJSON(),function(C,x){g.setRequestHeader(x,C)}),te.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),u&&([m,h]=Kx(u,!0),g.addEventListener("progress",m)),c&&g.upload&&([f,p]=Kx(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=j=>{g&&(n(!j||j.type?new wu(null,t,g):j),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const v=Rve(a.url);if(v&&Rr.protocols.indexOf(v)===-1){n(new qe("Unsupported protocol "+v+":",qe.ERR_BAD_REQUEST,t));return}g.send(s||null)})},Wve=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof qe?d:new wu(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new qe(`timeout ${e} of ms exceeded`,qe.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>te.asap(l),c}},Hve=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},Gve=async function*(t,e){for await(const r of Yve(t))yield*Hve(r,e)},Yve=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},V$=(t,e,r,n)=>{const a=Gve(t,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Vj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xU=Vj&&typeof ReadableStream=="function",Kve=Vj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),vU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Jve=xU&&vU(()=>{let t=!1;const e=new Request(Rr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),U$=64*1024,eI=xU&&vU(()=>te.isReadableStream(new Response("").body)),Jx={stream:eI&&(t=>t.body)};Vj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jx[e]&&(Jx[e]=te.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new qe(`Response type '${e}' is not supported`,qe.ERR_NOT_SUPPORT,n)})})})(new Response);const Xve=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(Rr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await Kve(t)).byteLength},Qve=async(t,e)=>{const r=te.toFiniteNumber(t.getContentLength());return r??Xve(e)},Zve=Vj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=bU(t);u=u?(u+"").toLowerCase():"text";let p=Wve([a,s&&s.toAbortSignal()],i),h;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(c&&Jve&&r!=="get"&&r!=="head"&&(g=await Qve(d,n))!==0){let x=new Request(e,{method:"POST",body:n,duplex:"half"}),N;if(te.isFormData(n)&&(N=x.headers.get("content-type"))&&d.setContentType(N),x.body){const[S,A]=F$(g,Kx(B$(c)));n=V$(x.body,U$,S,A)}}te.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;h=new Request(e,{...m,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:b?f:void 0});let v=await fetch(h,m);const j=eI&&(u==="stream"||u==="response");if(eI&&(l||j&&y)){const x={};["status","statusText","headers"].forEach(I=>{x[I]=v[I]});const N=te.toFiniteNumber(v.headers.get("content-length")),[S,A]=l&&F$(N,Kx(B$(l),!0))||[];v=new Response(V$(v.body,U$,S,()=>{A&&A(),y&&y()}),x)}u=u||"text";let C=await Jx[te.findKey(Jx,u)||"text"](v,t);return!j&&y&&y(),await new Promise((x,N)=>{gU(x,N,{data:C,headers:fn.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:h})})}catch(b){throw y&&y(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,t,h),{cause:b.cause||b}):qe.from(b,b&&b.code,t,h)}}),tI={http:hve,xhr:zve,fetch:Zve};te.forEach(tI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const z$=t=>`- ${t}`,e0e=t=>te.isFunction(t)||t===null||t===!1,jU={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let i;if(n=r,!e0e(r)&&(n=tI[(i=String(r)).toLowerCase()],n===void 0))throw new qe(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(z$).join(`
`):" "+z$(s[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:tI};function c1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wu(null,t)}function W$(t){return c1(t),t.headers=fn.from(t.headers),t.data=l1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jU.getAdapter(t.adapter||ah.adapter)(t).then(function(n){return c1(t),n.data=l1.call(t,t.transformResponse,n),n.headers=fn.from(n.headers),n},function(n){return pU(n)||(c1(t),n&&n.response&&(n.response.data=l1.call(t,t.transformResponse,n.response),n.response.headers=fn.from(n.response.headers))),Promise.reject(n)})}const wU="1.11.0",Uj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Uj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const H$={};Uj.transitional=function(e,r,n){function a(s,i){return"[Axios v"+wU+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new qe(a(i," has been removed"+(r?" in "+r:"")),qe.ERR_DEPRECATED);return r&&!H$[i]&&(H$[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};Uj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function t0e(t,e,r){if(typeof t!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=t[s],c=l===void 0||i(l,s,t);if(c!==!0)throw new qe("option "+s+" must be "+c,qe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qe("Unknown option "+s,qe.ERR_BAD_OPTION)}}const nb={assertOptions:t0e,validators:Uj},Ca=nb.validators;let Gi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new M$,response:new M$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=dl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&nb.assertOptions(n,{silentJSONParsing:Ca.transitional(Ca.boolean),forcedJSONParsing:Ca.transitional(Ca.boolean),clarifyTimeoutError:Ca.transitional(Ca.boolean)},!1),a!=null&&(te.isFunction(a)?r.paramsSerializer={serialize:a}:nb.assertOptions(a,{encode:Ca.function,serialize:Ca.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),nb.assertOptions(r,{baseUrl:Ca.spelling("baseURL"),withXsrfToken:Ca.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&te.merge(s.common,s[r.method]);s&&te.forEach(["delete","get","head","post","put","patch","common"],h=>{delete s[h]}),r.headers=fn.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,m;if(!c){const h=[W$.bind(this),void 0];for(h.unshift(...l),h.push(...u),m=h.length,d=Promise.resolve(r);f<m;)d=d.then(h[f++],h[f++]);return d}m=l.length;let p=r;for(f=0;f<m;){const h=l[f++],y=l[f++];try{p=h(p)}catch(g){y.call(this,g);break}}try{d=W$.call(this,p)}catch(h){return Promise.reject(h)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=dl(this.defaults,e);const r=yU(e.baseURL,e.url,e.allowAbsoluteUrls);return fU(r,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){Gi.prototype[e]=function(r,n){return this.request(dl(n||{},{method:e,url:r,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,l){return this.request(dl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Gi.prototype[e]=r(),Gi.prototype[e+"Form"]=r(!0)});let r0e=class NU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new wu(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new NU(function(a){e=a}),cancel:e}}};function n0e(t){return function(r){return t.apply(null,r)}}function a0e(t){return te.isObject(t)&&t.isAxiosError===!0}const rI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rI).forEach(([t,e])=>{rI[e]=t});function CU(t){const e=new Gi(t),r=eU(Gi.prototype.request,e);return te.extend(r,Gi.prototype,e,{allOwnKeys:!0}),te.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return CU(dl(t,a))},r}const rt=CU(ah);rt.Axios=Gi;rt.CanceledError=wu;rt.CancelToken=r0e;rt.isCancel=pU;rt.VERSION=wU;rt.toFormData=qj;rt.AxiosError=qe;rt.Cancel=rt.CanceledError;rt.all=function(e){return Promise.all(e)};rt.spread=n0e;rt.isAxiosError=a0e;rt.mergeConfig=dl;rt.AxiosHeaders=fn;rt.formToJSON=t=>hU(te.isHTMLForm(t)?new FormData(t):t);rt.getAdapter=jU.getAdapter;rt.HttpStatusCode=rI;rt.default=rt;const{Axios:K8e,AxiosError:J8e,CanceledError:X8e,isCancel:Q8e,CancelToken:Z8e,VERSION:e9e,all:t9e,Cancel:r9e,isAxiosError:n9e,spread:a9e,toFormData:s9e,AxiosHeaders:o9e,HttpStatusCode:i9e,formToJSON:l9e,getAdapter:c9e,mergeConfig:u9e}=rt,Ke=rt.create({baseURL:"https://staging-engine.testthelink.online",timeout:1e4,headers:{"Content-Type":"application/json"}});Ke.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Ke.interceptors.response.use(t=>t,t=>(console.error("Axios error:",t.response||t.message),Promise.reject(t)));const zD="https://staging-engine.testthelink.online",Kt=F("budgetFunds/fetchBudgetFunds",async()=>(await Ke("/funds")).data),ab=F("budgetFunds/createBudgetFund",async t=>{const r=await(await fetch(`${zD}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!0,...t})})).json();if(r)return le.success("Fund added successfully"),r;throw new Error("Failed to create fund")}),sb=F("budgetFunds/updateBudgetFund",async t=>{const r=await(await fetch(`${zD}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!1,...t})})).json();if(r)return le.success("Fund updated successfully"),r;throw new Error("Failed to update fund")}),ob=F("budgetFunds/deleteBudgetFund",async t=>{if(await(await fetch(`${zD}/funds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json())return le.success("Fund deleted successfully"),t;throw new Error("Failed to delete fund")}),s0e=ve({name:"budgetFunds",initialState:{funds:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Kt.pending,e=>{e.loading=!0,e.error=null}).addCase(Kt.fulfilled,(e,r)=>{e.loading=!1,e.funds=r.payload||[]}).addCase(Kt.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to fetch budget funds")}).addCase(ab.pending,e=>{e.loading=!0,e.error=null}).addCase(ab.fulfilled,(e,r)=>{e.loading=!1,e.funds=[...e.funds,r.payload]}).addCase(ab.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to create fund")}).addCase(sb.pending,e=>{e.loading=!0,e.error=null}).addCase(sb.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.map(n=>n.ID===r.payload.ID?r.payload:n)}).addCase(sb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to update fund")}).addCase(ob.pending,e=>{e.loading=!0,e.error=null}).addCase(ob.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(ob.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to delete fund")})}}),o0e=s0e.reducer,Do=F("budget/fetchBudgets",async(t,e)=>{try{return(await Ke("/budget")).data.items}catch(r){return e.rejectWithValue(r.message)}}),u1=F("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),d1=F("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),f1=F("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),i0e={budgets:[],isLoading:!1,error:null},l0e=ve({name:"budget",initialState:i0e,reducers:{},extraReducers:t=>{t.addCase(Do.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Do.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(Do.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(u1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(u1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(d1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(d1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(f1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(f1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(f1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),c0e=l0e.reducer,u0e=(t="self")=>Ke("/profileDashboard/userDocumentsList",{params:{owner:t}}),d0e=()=>Ke("/profileDashboard/user"),f0e=t=>Ke("/profileDashboard/budgetList",{params:t?{selectedDepartmentID:t}:{}}),m0e=t=>Ke(`/profileDashboard/budgetAPARList/${t}`),G$=(t="Day",e="Disbursement Voucher",r="")=>{const n={dateRange:t,aparType:e,...r&&{selectedDepartmentID:r}};return Ke("/profileDashboard/disbursementAmounts",{params:n})},h0e=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Ke("/profileDashboard/obligationChart",{params:r})},p0e=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Ke("/profileDashboard/travelOrderChart",{params:r})},g0e=(t="Year",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Ke("/profileDashboard/disbursementChart",{params:r})},y0e=(t="Day")=>Ke("/profileDashboard/collectionTotals",{params:{dateRange:t}}),b0e=()=>Ke("/profileDashboard/chartGeneral"),x0e=()=>Ke("/profileDashboard/chartMarriage"),v0e=()=>Ke("/profileDashboard/chartBurial"),j0e=()=>Ke("/profileDashboard/chartCedula"),WD=t=>{const e={"Disbursement Posted":"bg-green-100 text-green-700",Requested:"bg-blue-100 text-blue-700",Pending:"bg-yellow-100 text-yellow-700","Cheque Requested":"bg-red-100 text-red-700"};return o.jsx("div",{className:"flex gap-2 flex-wrap",children:t.split(",").map((r,n)=>{const a=r.trim();return o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${e[a]||"bg-gray-100 text-gray-600"}`,children:a},n)})})},w0e=()=>{var d,f;const[t,e]=w.useState("self"),[r,n]=w.useState([]),[a,s]=w.useState(null);w.useEffect(()=>{u0e(t).then(m=>{console.log("res",m),n(m.data)}).catch(()=>{le.error("Failed to load documents")})},[t]),w.useEffect(()=>{a||d0e().then(m=>{s(m.data)}).catch(m=>{le.error("Failed to load user profile")})},[]);const{statusCounts:i,documentsList:l}=r||{},c={total:i==null?void 0:i.Total,approved:i==null?void 0:i.Approved,requested:i==null?void 0:i.Requested,rejected:i==null?void 0:i.Rejected},u=[{key:"Status",header:"Status",render:m=>WD(m)},{key:"InvoiceNumber",header:"Invoice No",sortable:!0},{key:"APAR",header:"APAR Type",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0,render:m=>(m==null?void 0:m.Name)||""},{key:"Total",header:"Amount",sortable:!0}];return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Pue,{className:"w-20 h-20 text-gray-400"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Welcome,"," ",[a==null?void 0:a.FirstName,a==null?void 0:a.MiddleName,a==null?void 0:a.LastName].filter(Boolean).join(" ")]}),((d=a==null?void 0:a.Position)==null?void 0:d.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Position: ",a.Position.Name]}),((f=a==null?void 0:a.Department)==null?void 0:f.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Department: ",a.Department.Name]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(Ld,{to:"/budget-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),o.jsx(Ld,{to:"/disbursement-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),o.jsx(Ld,{to:"/collection-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(up,{title:"Total Documents",value:c.total,icon:Aue}),o.jsx(up,{title:"Approved",value:c.approved,icon:bue}),o.jsx(up,{title:"Requested",value:c.requested,icon:Cue}),o.jsx(up,{title:"Rejected",value:c.rejected,icon:_ue})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),[{label:"Me",value:"self"},{label:"Department",value:"department"},{label:"All",value:"all"}].map(m=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"owner",value:m.value,checked:t===m.value,onChange:()=>e(m.value),className:"text-blue-600"}),o.jsx("span",{className:"text-sm",children:m.label})]},m.value))]}),o.jsx(ye,{columns:u,data:l||[],pagination:!0})]})},up=({title:t,value:e,icon:r})=>o.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:o.jsx(r,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]});function N0e(){const t=ce(),{obligationRequests:e,isLoading:r}=q(I=>I.obligationRequests),{employees:n}=q(I=>I.employees),{customers:a}=q(I=>I.customers),{vendorDetails:s}=q(I=>I.vendorDetails),{departments:i}=q(I=>I.departments),{projectDetails:l}=q(I=>I.projectDetails),{funds:c}=q(I=>I.funds),{fiscalYears:u}=q(I=>I.fiscalYears),{items:d}=q(I=>I.items),{taxCodes:f}=q(I=>I.taxCodes),{itemUnits:m}=q(I=>I.itemUnits),{budgets:p}=q(I=>I.budget),[h,y]=w.useState("list"),[g,b]=w.useState(null),{Add:v,Edit:j,Delete:C}=we(62);w.useEffect(()=>{t(Qy()),t(cn()),t(Sn()),t(La()),t(sr()),t(Ba()),t(Kt()),t(un()),t(Fa()),t(Kn()),t(ga()),t(Do())},[t]);const x=()=>{b(null),y("form")},N=I=>{b(I),y("form")},S=()=>{y("list"),b(null)},A=[{key:"Status",header:"Status",sortable:!0,render:I=>WD(I)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:I=>new Date(I).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[h==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Requests"}),o.jsx("p",{children:"Manage obligation requests"})]}),v&&o.jsxs("button",{type:"button",onClick:x,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:A,data:e,actions:I=>{var D;const k=[];return((D=I.Transaction)==null?void 0:D.Status)==="Rejected"&&j&&k.push({icon:Ie,title:"Edit",onClick:()=>N(I),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),k},loading:r})})]}),h==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:g?"Edit Obligation Request":"Create Obligation Request"}),o.jsxs("p",{children:["Fill out the form to"," ",g?"update":"create"," an obligation request"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Ixe,{initialData:g,employeeOptions:n.map(I=>({value:I.ID,label:I.FirstName+" "+I.MiddleName+" "+I.LastName})),vendorOptions:s.map(I=>({value:I.ID,label:I.Name})),individualOptions:a.map(I=>({value:I.ID,label:I.Name||`${I.FirstName} ${I.MiddleName} ${I.LastName}`})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(I=>({value:I.ID,label:I.Name})),fundOptions:c.map(I=>({value:I.ID,label:I.Name})),projectOptions:l.map(I=>({value:I.ID,label:I.Title})),fiscalYearOptions:u.map(I=>({value:I.ID,label:I.Name})),particularsOptions:d.map(I=>({value:I.ID,label:I.Name})),unitOptions:m.map(I=>({value:I.ID,label:I.Name})),taxCodeOptions:f.map(I=>({value:I.ID,label:I.Name})),budgetOptions:p.map(I=>({value:I.ID,label:I.Name})),taxCodeFull:f,onCancel:S,onSubmitSuccess:S,onClose:S})})]}),h==="details"&&g&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Request Details"}),o.jsx("p",{children:"View and manage obligation request details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>N(g),className:"btn btn-primary flex items-center",children:[o.jsx(Ie,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(kxe,{or:g,onBack:S})})]})]})}function Yi(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${nI(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function nI(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${nI(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(s,i)=>{s>0&&(n+=`${nI(s)} ${i} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const HD="https://staging-engine.testthelink.online",C0e={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},ib=F("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),s=`${HD}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,i=await fetch(s,{headers:{Authorization:`Bearer ${a}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),jc=F("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${HD}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),m1=F("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);s?r(s):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),lb=F("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${HD}/disbursementVoucher/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),h1=F("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),SU=ve({name:"disbursementVouchers",initialState:C0e,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(jc.pending,e=>{e.isLoading=!0}).addCase(jc.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(jc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(m1.pending,e=>{e.isLoading=!0}).addCase(m1.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(m1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lb.pending,e=>{e.isLoading=!0}).addCase(lb.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(h1.pending,e=>{e.isLoading=!0}).addCase(h1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(h1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ib.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(ib.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(ib.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:d9e}=SU.actions,S0e=SU.reducer,A0e="https://staging-engine.testthelink.online",Y$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],I0e=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function k0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:p=[],taxCodeOptions:h=[],budgetOptions:y=[],taxCodeFull:g=[],chartOfAccountsOptions:b=[]}){const v=ce(),j=w.useRef(null),[C,x]=w.useState(!1),[N,S]=w.useState(null),[A,I]=w.useState(null),[k,D]=w.useState(null),[_,M]=w.useState(!1),[P,O]=w.useState([]),[L,V]=w.useState((t==null?void 0:t.modeOfPayment)||""),$=()=>ie().shape({payeeType:E().required("Payee type is required"),payeeId:E().required("Payee selection is required"),accountingEntries:k==="Standalone Request"?Gt():Gt().min(1,"At least one item is required"),contraAccount:E().required("Contra Account is required"),modeOfPayment:E().required("Mode of Payment is required"),bank:L==="Check"?E().required("Bank is required"):E(),checkNumber:L==="Check"?E().required("Check Number is required"):E(),receivedPaymentBy:E().required("Received Payment By is required")}),{requestOptions:R,requestOptionsLoading:W,requestOptionsError:Z}=q(K=>K.disbursementVouchers),G=(K,de)=>{const ee=K.reduce((H,me)=>H+Number(me.amount||0),0),re=de.reduce((H,me)=>H+Number(me.amount||0),0),J=ee-re;return{grossAmount:ee,totalTaxes:re,netAmount:J}},U={description:"",amount:"",accountCode:""},ae={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||(t!=null&&t.VendorID?"Vendor":t!=null&&t.CustomerID?"Individual":t!=null&&t.EmployeeID?"Employee":""),payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||(t==null?void 0:t.VendorID)||(t==null?void 0:t.CustomerID)||(t==null?void 0:t.EmployeeID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[U],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",contraAccount:(t==null?void 0:t.ContraAccountID)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.ReceivedPaymentBy)||""},xe=K=>{x(!0),G(K.items,K.taxes);const de=new FormData;K.payeeType==="Employee"?(de.append("EmployeeID",K.payeeId),de.append("VendorID",""),de.append("CustomerID","")):K.payeeType==="Vendor"?(de.append("EmployeeID",""),de.append("VendorID",K.payeeId),de.append("CustomerID","")):K.payeeType==="Individual"&&(de.append("EmployeeID",""),de.append("VendorID",""),de.append("CustomerID",K.payeeId)),de.append("PayeeType",K.payeeType),(K==null?void 0:K.requestType)==="Standalone Request"?de.append("IsStandaloneRequest",!0):de.append("OBR_LinkID",K.OBR_LinkID||""),de.append("Payee",(N==null?void 0:N.Name)||(N==null?void 0:N.FirstName)+" "+(N==null?void 0:N.MiddleName)+" "+(N==null?void 0:N.LastName)||""),de.append("Address",(N==null?void 0:N.StreetAddress)||""),de.append("InvoiceNumber",K.obrNo),de.append("InvoiceDate",K.obrDate),de.append("ResponsibilityCenter",K.responsibilityCenter);const ee=K.accountingEntries.reduce((De,Ue)=>De+Number(Ue.subtotal||0),0),re=K.accountingEntries.reduce((De,Ue)=>De+Number(Ue.ewt||0),0),J=K.accountingEntries.reduce((De,Ue)=>De+Number(Ue.withheld||0),0),H=K.accountingEntries.reduce((De,Ue)=>De+Number(Ue.vat||0),0),me=K.accountingEntries.reduce((De,Ue)=>De+Number(Ue.discount||0),0);de.append("Total",ee.toFixed(2)),de.append("EWT",re.toFixed(2)),de.append("WithheldAmount",J.toFixed(2)),de.append("Vat_Total",H.toFixed(2)),de.append("Discounts",me.toFixed(2)),de.append("FundsID",K.fund),de.append("FiscalYearID",K.fiscalYear),de.append("ProjectID",K.project),de.append("TravelID",""),de.append("Items",JSON.stringify(K.accountingEntries)),K.Attachments.forEach((De,Ue)=>{De.ID?de.append(`Attachments[${Ue}].ID`,De.ID):de.append(`Attachments[${Ue}].File`,De.File)}),de.append("ContraAccountID",K.contraAccount),de.append("ModeOfPayment",K.modeOfPayment),de.append("BankID",K.bank),de.append("CheckNumber",K.checkNumber),de.append("ReceivedPaymentBy",K.receivedPaymentBy),t?(de.append("LinkID",t.LinkID),de.append("IsNew",!1)):de.append("IsNew",!0);const Ne=lb(de);v(Ne).unwrap().then(()=>{le.success("Success"),e(),v(jc())}).catch(De=>{le.error((De==null?void 0:De.message)||"Failed to submit")}).finally(()=>{x(!1)})},se=({type:K})=>{switch(K){case"Employee":return o.jsx(TD,{className:"w-5 h-5"});case"Vendor":return o.jsx(PT,{className:"w-5 h-5"});case"Individual":return o.jsx(ej,{className:"w-5 h-5"});default:return null}};return console.log({taxCodeFull:g}),o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(Re,{innerRef:j,initialValues:ae,validationSchema:$(),onSubmit:xe,enableReinitialize:!0,children:({values:K,errors:de,touched:ee,handleChange:re,handleBlur:J,setFieldValue:H,setFieldError:me,setFieldTouched:Ne,isValid:De})=>{G(K.items,K.taxes);const Ve=Y$.map(Q=>({value:Q.value,label:Q.label})).find(Q=>Q.value===K.payeeType),Br=Q=>{S(null),H("payeeType",Q),H("payeeName",""),H("payeeId",""),H("payeeAddress",""),H("officeUnitProject",""),H("orsNumber","")},qr=async Q=>{if(I(null),H("requestType",Q),console.log("Selected Request Type:",Q),D(Q),Q==="Standalone Request"){H("accountingEntries",[],!1),M(!0);return}K.payeeType&&K.payeeId&&Q&&v(ib({requestType:Q,payeeType:K.payeeType,payeeId:K.payeeId}))},ra=Q=>{var Ee,Xe;I(Q);const ge=(((Ee=Q==null?void 0:Q.raw)==null?void 0:Ee.TransactionItemsAll)||[]).map(Ze=>{var ri,Ws,ni,$u,QE,ZE,e2;const Tr={Price:Ze.Price??0,Quantity:Ze.Quantity??1,DiscountRate:Ze.DiscountRate??0,Vatable:Ze.Vatable,withheldEWT:Ze.EWTRate??0},zs=Zf({price:Tr.Price,quantity:Tr.Quantity,taxRate:Ze.TaxRate||0,discountPercent:Tr.DiscountRate,vatable:Tr.Vatable,ewtRate:Tr.withheldEWT});return{...Ze,...zs,itemName:((ri=Ze.Item)==null?void 0:ri.Name)||"",subtotal:Ze.AmountDue||0,Remarks:Ze.Remarks||"",FPP:Ze.FPP||"",accountCode:((ni=(Ws=Ze.ChargeAccount)==null?void 0:Ws.ChartofAccounts)==null?void 0:ni.AccountCode)||"",accountName:((QE=($u=Ze.ChargeAccount)==null?void 0:$u.ChartofAccounts)==null?void 0:QE.Name)||"",fundCode:((e2=(ZE=Q==null?void 0:Q.raw)==null?void 0:ZE.sourceFunds)==null?void 0:e2.Code)||""}});j.current&&(j.current.setFieldValue("accountingEntries",ge),j.current.setFieldValue("OBR_LinkID",((Xe=Q==null?void 0:Q.raw)==null?void 0:Xe.LinkID)||""))},Kr=Q=>{let pe=null;switch(K.payeeType){case"Employee":pe=s.find(ge=>ge.ID===Q);break;case"Vendor":pe=i.find(ge=>ge.ID===Q);break;case"Individual":pe=l.find(ge=>ge.ID===Q);break}S(pe),H("payeeName",pe==null?void 0:pe.Name),H("payeeId",pe==null?void 0:pe.ID)},X=Q=>{switch(Q){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}},be=Q=>{V(Q.target.value),re(Q),Q.target.value==="Cash"&&(H("bank",""),H("checkNumber",""))};return o.jsxs(Be,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:Y$.map(Q=>o.jsxs("button",{type:"button",onClick:()=>Br(Q.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${K.payeeType===Q.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(se,{type:Q.value}),o.jsx("span",{className:"ml-3 font-medium",children:Q.label})]},Q.value))}),de.payeeType&&ee.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:de.payeeType})]}),K.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",Ve==null?void 0:Ve.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:X(K.payeeType),onChange:Q=>Kr(Q.value),value:X(K.payeeType).find(Q=>Q.value===K.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),de.payeeType&&ee.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:de.payeeType})]}),N&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(Ve==null?void 0:Ve.label)==="Employee"?`${N.FirstName||""} ${N.MiddleName||""} ${N.LastName||""}`.trim():((Ve==null?void 0:Ve.label)==="Vendor"||(Ve==null?void 0:Ve.label)==="Individual",N.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((Ve==null?void 0:Ve.label)==="Employee"||(Ve==null?void 0:Ve.label)==="Vendor"||(Ve==null?void 0:Ve.label)==="Individual",N.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:I0e.map(Q=>o.jsx("button",{type:"button",onClick:()=>qr(Q.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${K.requestType===Q.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:o.jsx("span",{className:"ml-3 font-medium",children:Q.label})},Q.value))}),de.requestType&&ee.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:de.requestType})]}),K.requestType!=="Standalone Request"&&o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:R.map(Q=>{var ge,Ee,Xe,Ze,Tr,zs,ri,Ws,ni,$u;let pe="";return K.payeeType==="Employee"?pe=`${((ge=Q.Employee)==null?void 0:ge.FirstName)||""} ${((Ee=Q.Employee)==null?void 0:Ee.MiddleName)||""} ${((Xe=Q.Employee)==null?void 0:Xe.LastName)||""}`.trim():K.payeeType==="Individual"?!((Ze=Q.Employee)!=null&&Ze.FirstName)&&!((Tr=Q.Employee)!=null&&Tr.MiddleName)&&!((zs=Q.Employee)!=null&&zs.LastName)?pe=Q.Name||"N/A":pe=`${((ri=Q.Employee)==null?void 0:ri.FirstName)||""} ${((Ws=Q.Employee)==null?void 0:Ws.MiddleName)||""} ${((ni=Q.Employee)==null?void 0:ni.LastName)||""}`.trim():K.payeeType==="Vendor"&&(pe=Q.Name||"N/A"),{value:Q.ID,label:`${Q.InvoiceNumber||""}  ${pe}  ${Q.TIN||""}  ${Q.InvoiceDate}  ${(($u=Q.sourceFunds)==null?void 0:$u.Code)||""}`,raw:Q}}),isLoading:W,value:A,onChange:ra,placeholder:W?"Loading":Z?`Error: ${Z}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),de.requestType&&ee.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:de.requestType+"request error"})]})]})]}),o.jsx(rn,{name:"accountingEntries",children:({push:Q,remove:pe})=>o.jsxs(o.Fragment,{children:[K.requestType==="Standalone Request"&&o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Stand Alone Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>M(!0),children:"+ Item"})]}),K.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("hr",{}),o.jsxs("div",{className:"hidden md:grid grid-cols-7 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"AMOUNT"}),o.jsx("span",{children:"AMOUNT DUE"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT"}),o.jsx("span",{children:"ACCOUNT CODE"})]}),console.log(K.accountingEntries),K.accountingEntries.map((ge,Ee)=>o.jsxs("div",{className:"border p-3 rounded text-sm flex flex-col gap-2 md:grid md:grid-cols-7 md:items-center md:gap-2",children:[o.jsxs("div",{className:"flex flex-col gap-1 md:hidden",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ITEM:"}),o.jsx("span",{children:ge.itemName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"AMOUNT:"}),o.jsx("span",{children:parseFloat(ge.subtotal).toFixed(2)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"AMOUNT DUE:"}),o.jsx("span",{children:parseFloat(ge.subtotal).toFixed(2)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"REMARKS:"}),o.jsx("span",{children:ge.Remarks})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"FPP:"}),o.jsx("span",{children:ge.FPP})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ACCOUNT:"}),o.jsx("span",{children:ge.chargeAccountName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ACCOUNT CODE:"}),o.jsx("span",{children:ge.ChargeAccountID})]})]}),o.jsx("span",{className:"hidden md:block",children:ge.itemName}),o.jsx("span",{className:"hidden md:block",children:parseFloat(ge.subtotal).toFixed(2)}),o.jsx("span",{className:"hidden md:block",children:parseFloat(ge.subtotal).toFixed(2)}),o.jsx("span",{className:"hidden md:block",children:ge.Remarks}),o.jsx("span",{className:"hidden md:block",children:ge.FPP}),o.jsx("span",{className:"hidden md:block",children:ge.chargeAccountName}),o.jsx("span",{className:"hidden md:block",children:ge.ChargeAccountID}),o.jsx("div",{className:"flex justify-end md:col-span-8",children:o.jsx("button",{type:"button",onClick:()=>pe(Ee),className:"text-red-600 hover:text-red-800 text-xs flex items-center gap-1",children:o.jsx(er,{size:16})})})]},Ee)),o.jsxs("div",{className:"md:grid md:grid-cols-8 md:gap-2 font-semibold pt-2 border-t text-sm",children:[o.jsx("div",{className:"md:col-span-7 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:K.accountingEntries.reduce((ge,Ee)=>ge+Number(Ee.subtotal||0),0).toFixed(2)})]}),o.jsx("div",{className:"pt-2 border-t text-sm font-semibold text-right",children:Yi(K.accountingEntries.reduce((ge,Ee)=>ge+Number(Ee.subtotal||0),0).toFixed(2))})]}),o.jsx(oe,{isOpen:_,onClose:()=>M(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(XV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:p,taxCodeOptions:h,budgetOptions:y,taxCodeFull:g,onClose:()=>M(!1),onSubmit:ge=>{Q(ge),M(!1)}})})]})}),de.accountingEntries&&K.requestType!=="Standalone Request"&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:de.accountingEntries}),(()=>{const Q={};K.accountingEntries.forEach(ge=>{console.log("entry",ge);const Ee=ge.TaxName||"N/A",Xe=ge.TaxRate||0,Ze=Number(ge.withheld||0),Tr=`${Ee}-${Xe}`;Q[Tr]||(Q[Tr]={taxName:Ee,taxRate:Xe,withheld:0}),Q[Tr].withheld+=Ze});const pe=Object.values(Q);return console.log("taxRows",pe),pe.length?o.jsxs("div",{className:"space-y-2",children:[o.jsx("hr",{}),o.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[o.jsx("span",{children:"Tax Name"}),o.jsx("span",{className:"text-right",children:"TaxRate%"}),o.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),pe.map(({taxName:ge,taxRate:Ee,withheld:Xe},Ze)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[o.jsx("span",{children:ge}),o.jsx("span",{className:"text-right",children:parseFloat(Ee).toFixed(2)}),o.jsx("span",{className:"text-right",children:Xe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},Ze))]}):null})(),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contra Account"}),o.jsx(zr,{name:"contraAccount",options:b,onChange:Q=>H("contraAccount",Q==null?void 0:Q.value),value:b.find(Q=>Q.value===K.contraAccount)||null,classNamePrefix:"react-select"}),de.contraAccount&&ee.contraAccount&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:de.contraAccount})]}),o.jsx("div",{children:o.jsx(T,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:K.modeOfPayment,onChange:be,onBlur:J,error:de.modeOfPayment,touched:ee.modeOfPayment,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[L==="Check"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx(T,{type:"text",label:"Bank",name:"bank",value:K.bank,onChange:re,onBlur:J,error:de.bank,touched:ee.bank,required:L==="Check"})}),o.jsx("div",{children:o.jsx(T,{type:"text",label:"Check No.",name:"checkNumber",value:K.checkNumber,onChange:re,onBlur:J,error:de.checkNumber,touched:ee.checkNumber,required:L==="Check"})})]}),o.jsx("div",{children:o.jsx(T,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:K.receivedPaymentBy,onChange:re,onBlur:J,error:de.receivedPaymentBy,touched:ee.receivedPaymentBy,required:!0})})]})]}),o.jsx("hr",{}),o.jsx(rn,{name:"Attachments",render:({remove:Q,push:pe})=>{var ge;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>pe({File:null}),children:"+ Attachment"})]}),(ge=K.Attachments)==null?void 0:ge.map((Ee,Xe)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[Ee.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${A0e}/uploads/${Ee.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:Ee.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Xe}].ID`,value:Ee.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Xe+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Xe}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ze=>H(`Attachments[${Xe}].File`,Ze.currentTarget.files[0]),onBlur:J,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(Ct,{type:"button",onClick:()=>Q(Xe),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(er,{className:"w-4 h-4"})})]},Xe))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})}function T0e(){const t=ce(),{disbursementVouchers:e,isLoading:r}=q(P=>P.disbursementVouchers),{Add:n,Edit:a,Delete:s}=we(40),{employees:i}=q(P=>P.employees),{customers:l}=q(P=>P.customers),{vendorDetails:c}=q(P=>P.vendorDetails),{departments:u}=q(P=>P.departments),{projectDetails:d}=q(P=>P.projectDetails),{funds:f}=q(P=>P.funds),{fiscalYears:m}=q(P=>P.fiscalYears),{items:p}=q(P=>P.items),{taxCodes:h}=q(P=>P.taxCodes),{itemUnits:y}=q(P=>P.itemUnits),{budgets:g}=q(P=>P.budget),b=q(P=>{var O;return((O=P.chartOfAccounts)==null?void 0:O.accounts)||[]}),[v,j]=w.useState("list"),[C,x]=w.useState(null),[N,S]=w.useState(!1);w.useEffect(()=>{t(jc()),t(cn()),t(Sn()),t(La()),t(sr()),t(Ba()),t(Kt()),t(un()),t(Fa()),t(Kn()),t(ga()),t(Do()),t(xr())},[t]);const A=()=>{x(null),j("form")},I=P=>{x(P),j("form")},k=()=>{j("list"),x(null)},D=[{key:"Status",header:"Status",sortable:!0,render:P=>WD(P)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:P=>new Date(P).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"BillingDueDate",header:"Billing Due Date ",sortable:!0},{key:"ObligationRequestNumber",header:"CAFOA Number",sortable:!0}],_=P=>{console.log("Edit OR",P),x(P),j("form")},M=async(P,O)=>{S(!0);try{const L=await Ke.post(`/disbursementVoucher/${O}`,{ID:P.ID});console.log(`${O}d:`,L.data),t(jc()),B.success(`Disbursement Voucher ${O}d successfully`)}catch(L){console.error(`Error ${O}ing disbursement voucher:`,L),B.error(`Error ${O}ing disbursement voucher`)}finally{S(!1)}};return o.jsxs("div",{children:[v==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Vouchers"}),o.jsx("p",{children:"Manage disbursement vouchers"})]}),n&&o.jsxs("button",{type:"button",onClick:A,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:D,data:e,actions:P=>{const O=[];return P.Status.toLowerCase().includes("rejected")&&a?O.push({icon:Ie,title:"Edit",onClick:()=>_(P),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):P.Status==="Requested"&&O.push({icon:Bde,title:"Approve",onClick:()=>M(P,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:rV,title:"Reject",onClick:()=>M(P,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),O},loading:r||N})})]}),v==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:k,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:C?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),o.jsxs("p",{children:["Fill out the form to"," ",C?"update":"create"," a disbursement voucher"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(k0e,{initialData:C,employeeOptions:i.map(P=>({value:P.ID,label:P.FirstName+" "+P.MiddleName+" "+P.LastName})),vendorOptions:c.map(P=>({value:P.ID,label:P.Name})),individualOptions:l.map(P=>({value:P.ID,label:P.Name||`${P.FirstName} ${P.MiddleName} ${P.LastName}`})),chartOfAccountsOptions:(b||[]).map(P=>({value:P.ID,label:P.AccountCode+" - "+P.Name})),employeeData:i,vendorData:c,individualData:l,departmentOptions:u.map(P=>({value:P.ID,label:P.Name})),fundOptions:f.map(P=>({value:P.ID,label:P.Name})),projectOptions:d.map(P=>({value:P.ID,label:P.Title})),fiscalYearOptions:m.map(P=>({value:P.ID,label:P.Name})),particularsOptions:p.map(P=>({value:P.ID,label:P.Name})),unitOptions:y.map(P=>({value:P.ID,label:P.Name})),taxCodeOptions:h.map(P=>({value:P.ID,label:P.Name})),budgetOptions:g.map(P=>({value:P.ID,label:P.Name})),taxCodeFull:h,onCancel:k,onSubmitSuccess:k,onClose:k})})]}),v==="details"&&C&&o.jsx("div",{children:o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:k,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Voucher Details"}),o.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>I(C),className:"btn btn-primary flex items-center",children:[o.jsx(Ie,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}function D0e({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const s="https://staging-engine.testthelink.online",{departments:i}=q(v=>v.departments),{employees:l}=q(v=>v.employees),{budgets:c}=q(v=>v.budget);console.log("Budgets:",c);const u=ce();w.useEffect(()=>{u(sr()),u(cn()),u(Do())},[u]);const d=ie({BudgetID:E().required("Office is required"),DateStart:Le().required("Start Date is required"),DateEnd:Le().required("End Date is required").min(cl("DateStart"),"End Date must be after Start Date"),Place:E().required("Place/Office to be visited is required"),Venue:E().required("Venue/Destination is required"),Remarks:E(),Purpose:E().required("Purpose of Travel is required"),Travelers:Gt().of(ie({TravelerID:E().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:Gt().of(ie({Amount:Y().required("Amount is required"),BudgetID:E().required("Budget of Fund is required"),Type:E().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:Gt().of(ie({Name:E().required("Document name is required")})).min(1,"At least one document is required")}),f=at({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:d,onSubmit:async(v,j)=>{const C=new FormData;for(const x in v)x==="Attachments"?v.Attachments.forEach((N,S)=>{N.ID?C.append(`Attachments[${S}].ID`,N.ID):C.append(`Attachments[${S}].File`,N.File)}):C.append(x,JSON.stringify(v[x]));try{await e(C)}catch(x){console.error(x)}finally{j(!1)}}}),{values:m,handleChange:p,handleBlur:h,errors:y,touched:g,isSubmitting:b}=f;return o.jsx(oD,{value:f,children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"space-y-4",children:[o.jsx(T,{type:"select",label:"Office",name:"BudgetID",options:i.map(v=>({value:v.ID,label:v.Name})),value:m.BudgetID,onChange:p,onBlur:h,error:y.BudgetID,touched:g.BudgetID,required:!0}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(T,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:p,onBlur:h,error:y.DateStart,touched:g.DateStart,required:!0}),o.jsx(T,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:p,onBlur:h,error:y.DateEnd,touched:g.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(T,{label:"Place/Office to be visited",name:"Place",type:"text",value:m.Place,onChange:p,onBlur:h,error:y.Place,touched:g.Place,required:!0}),o.jsx(T,{label:"Venue/Destination",name:"Venue",type:"text",value:m.Venue,onChange:p,onBlur:h,error:y.Venue,touched:g.Venue,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(T,{type:"textarea",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:p,onBlur:h,error:y.Remarks,touched:g.Remarks}),o.jsx(T,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:m.Purpose,onChange:p,onBlur:h,error:y.Purpose,touched:g.Purpose,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),o.jsxs("div",{className:"grid grid-cols-1  sm:grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Plane",checked:m.Plane,onChange:p,onBlur:h}),o.jsx("span",{children:"Plane"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Vessels",checked:m.Vessels,onChange:p,onBlur:h}),o.jsx("span",{children:"Ship/Boat"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"PUV",checked:m.PUV,onChange:p,onBlur:h}),o.jsx("span",{children:"PUV"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:m.ServiceVehicle,onChange:p,onBlur:h}),o.jsx("span",{children:"LGU Service Vehicle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:m.RentedVehicle,onChange:p,onBlur:h}),o.jsx("span",{children:"Vehicle for Rent"})]})]})]}),o.jsx("hr",{}),o.jsx(rn,{name:"Travelers",render:({remove:v,push:j})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 ",children:[o.jsx("label",{className:"font-medium",children:"Travelers"}),o.jsx(Ct,{type:"button",onClick:()=>j({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Travelers.map((C,x)=>{var N,S,A,I;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(T,{type:"select",label:`Employee ${x+1}`,name:`Travelers[${x}].TravelerID`,options:l.map(k=>({value:k.ID,label:k.FirstName+" "+k.MiddleName+" "+k.LastName})),value:C.TravelerID,onChange:p,onBlur:h,error:(S=(N=y.Travelers)==null?void 0:N[x])==null?void 0:S.TravelerID,touched:(I=(A=g.Travelers)==null?void 0:A[x])==null?void 0:I.TravelerID,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(Ct,{type:"button",onClick:()=>v(x),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:m.Travelers.length===1,children:o.jsx(er,{className:"w-4 h-4"})})]},x)})]})}),o.jsx("hr",{}),o.jsx(rn,{name:"TravelPayments",render:({remove:v,push:j})=>{var C,x;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Expenses"}),o.jsx(Ct,{type:"button",onClick:()=>j({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.TravelPayments)==null?void 0:C.map((N,S)=>{var A,I,k,D,_,M,P,O,L,V,$,R;return o.jsxs("div",{className:"flex sm:flex-wrap max-sm:flex-col  sm:gap-4 w-full  !mb-4",children:[o.jsx(T,{type:"number",label:"Amount",name:`TravelPayments[${S}].Amount`,value:N.Amount,onChange:p,onBlur:h,error:(I=(A=y.TravelPayments)==null?void 0:A[S])==null?void 0:I.Amount,touched:(D=(k=g.TravelPayments)==null?void 0:k[S])==null?void 0:D.Amount,className:"w-full sm:max-w-[180px] ",required:!0}),o.jsx(T,{type:"select",label:"Source of Fund",name:`TravelPayments[${S}].BudgetID`,options:c.map(W=>({value:W.ID,label:W.Name})),value:N.BudgetID,onChange:p,onBlur:h,error:(M=(_=y.TravelPayments)==null?void 0:_[S])==null?void 0:M.BudgetID,touched:(O=(P=g.TravelPayments)==null?void 0:P[S])==null?void 0:O.BudgetID,className:"w-full sm:min-w-[200px] ",required:!0}),o.jsx(T,{type:"select",label:"Type",name:`TravelPayments[${S}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:N.Type,onChange:p,onBlur:h,error:(V=(L=y.TravelPayments)==null?void 0:L[S])==null?void 0:V.Type,touched:(R=($=g.TravelPayments)==null?void 0:$[S])==null?void 0:R.Type,className:"w-full sm:min-w-[100px] ",required:!0}),o.jsx(Ct,{type:"button",onClick:()=>v(S),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3 my-auto ml-auto",disabled:m.TravelPayments.length===1,children:o.jsx(er,{className:"w-4 h-4"})})]},S)}),o.jsxs("div",{className:"flex justify-end text-right mt-4",children:[o.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),o.jsx("span",{className:"",children:(x=m.TravelPayments)==null?void 0:x.reduce((N,S)=>{const A=parseFloat(S.Amount);return N+(isNaN(A)?0:A)},0).toFixed(2)})]})]})}}),o.jsx("hr",{}),o.jsx(rn,{name:"TravelDocuments",render:({remove:v,push:j})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Documents Required"}),o.jsx(Ct,{type:"button",onClick:()=>j({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.TravelDocuments)==null?void 0:C.map((x,N)=>{var S,A,I,k;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(T,{type:"text",label:`Document ${N+1}`,name:`TravelDocuments[${N}].Name`,value:x.Name,onChange:p,onBlur:h,error:(A=(S=y.TravelDocuments)==null?void 0:S[N])==null?void 0:A.Name,touched:(k=(I=g.TravelDocuments)==null?void 0:I[N])==null?void 0:k.Name,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(Ct,{type:"button",onClick:()=>v(N),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:m.TravelDocuments.length===1,children:o.jsx(er,{className:"w-4 h-4"})})]},N)})]})}}),o.jsx("hr",{}),o.jsx(rn,{name:"Attachments",render:({remove:v,push:j})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(Ct,{type:"button",onClick:()=>j({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.Attachments)==null?void 0:C.map((x,N)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[x.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${s}/uploads/${x.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:x.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${N}].ID`,value:x.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${N+1}`}),o.jsx("input",{type:"file",name:`Attachments[${N}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:S=>f.setFieldValue(`Attachments[${N}].File`,S.currentTarget.files[0]),onBlur:h,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(Ct,{type:"button",onClick:()=>v(N),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",children:o.jsx(er,{className:"w-4 h-4"})})]},N))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":"Save"})]})]})})}function E0e({to:t,onClose:e,onEdit:r}){const n=l=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l),a=l=>new Date(l).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=l=>new Date(l).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=l=>{let c="bg-neutral-100 text-neutral-800";switch(l){case"Pending Recommendation":c="bg-warning-100 text-warning-800";break;case"Pending Approval":c="bg-primary-100 text-primary-800";break;case"Approved":case"Liquidated":c="bg-success-100 text-success-800";break;case"Cancelled":c="bg-error-100 text-error-800";break}return c};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${i(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(yu,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Travel Order Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TO Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.toNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.toDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Employee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Employee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.employeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Position"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.position})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Travel Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Destination"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.destination})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Means of Travel"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.meansOfTravel||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Departure"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.departureDate)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Return"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.returnDate)})]})]})}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Purpose"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900 whitespace-pre-line",children:t.purpose})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Estimated Expenses"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.estimatedExpenses)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(c3,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(l3,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Recommendation"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(f3,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for recommendation"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const zj="https://staging-engine.testthelink.online",P0e=[],cb=F("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zj}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ub=F("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${zj}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),aI=F("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${zj}/travelOrder/${r}`,n),s=await a.json();if(!a.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(r){return e.rejectWithValue(r.message)}}),db=F("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${zj}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),O0e=ve({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cb.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=P0e}).addCase(ub.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ub.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(aI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(aI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(db.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),_0e=O0e.reducer;function $0e(){const t=ce(),{travelOrders:e,isLoading:r}=q(N=>N.travelOrders),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),{Add:f,Edit:m,Delete:p}=we(80);w.useEffect(()=>{t(cb())},[t]);const h=async N=>{try{u?await t(aI({...N,ID:u.ID})).unwrap():await t(ub(N)).unwrap(),i(!1),d(null),le.success("Success")}catch(S){throw le.error(S||"Failed"),S}},y=()=>{d(null),i(!0)},g=N=>{d(N),i(!0)},b=N=>{d(N),a(!0)},v=async()=>{if(u)try{await t(db(u.ID)).unwrap(),le.success("Deleted")}catch(N){console.error("Failed to delete travel order:",N),le.error("Failed to delete travel order")}finally{a(!1),d(null)}},j=()=>{i(!1),d(null)},C=()=>{c(!1),d(null)},x=[{key:"TransactionStatus",header:"Status",sortable:!0,render:N=>{let S="bg-neutral-100 text-neutral-800";switch(N){case"Requested":S="bg-warning-100 text-warning-800";break;case"Approval Progress":S="bg-primary-100 text-primary-800";break;case"Rejected":S="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S}`,children:N})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position/Designation",header:"Position/Designation",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Travel Orders"}),o.jsx("p",{children:"Manage travel orders and authorizations"})]}),f&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:N=>{var A;const S=[];return((A=N.Transaction)==null?void 0:A.Status)==="Rejected"&&(S.push({icon:Ie,title:"Edit",onClick:()=>g(N),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S.push({icon:Fe,title:"Delete",onClick:()=>b(N),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})),S},loading:r})}),o.jsx(oe,{isOpen:s,onClose:j,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:o.jsx(D0e,{initialData:u,onSubmit:h,onClose:j})}),o.jsx(oe,{isOpen:l,onClose:C,title:"Travel Order Details",size:"lg",children:u&&o.jsx(E0e,{to:u,onClose:C,onEdit:()=>{c(!1),i(!0)},officeOptions:[],employeeOptions:[]})}),o.jsxs(oe,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.TravelOrderNumber,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const R0e="https://staging-engine.testthelink.online";function M0e({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:s,accountOptions:i}){const[l,c]=w.useState(""),[u,d]=w.useState((t==null?void 0:t.JEVType)||""),f=ie({JEVType:E().required("Type is required"),FundsID:E().required("Fund is required"),InvoiceDate:Le().required("Date is required"),SAI_No:E(),Remarks:E().required("Particulars are required"),ObligationRequestNumber:E(),CheckNumber:E(),CheckDate:Le(),AccountingEntries:Gt().of(ie({ResponsibilityCenter:E().required("Required"),AccountExplanation:E().required("Required"),Debit:Y().nullable().typeError("Must be a number").required("Debit is required"),Credit:Y().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),m=at({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(j,C)=>{const x=j.AccountingEntries.reduce((A,I)=>A+(parseFloat(I.Debit)||0),0),N=j.AccountingEntries.reduce((A,I)=>A+(parseFloat(I.Credit)||0),0);if(console.log(j),x!==N){c("Total Debit must be equal to Total Credit.");return}else c("");const S=new FormData;for(const A in j)A==="Attachments"?j.Attachments.forEach((I,k)=>{I.ID?S.append(`Attachments[${k}].ID`,I.ID):S.append(`Attachments[${k}].File`,I.File)}):A!=="CheckDate"&&S.append(A,JSON.stringify(j[A]));S.append("CheckDate",JSON.stringify(j.CheckDate||j.InvoiceDate)),t&&S.append("LinkID",t.LinkID);try{await e(S)}catch(A){console.error(A)}finally{C(!1)}}}),p=j=>{d(j.target.value),m.handleChange(j)},{values:h,handleChange:y,handleBlur:g,errors:b,touched:v}=m;return o.jsx(oD,{value:m,children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(T,{type:"select",label:"Type",name:"JEVType",options:n,value:h.JEVType,onChange:p,onBlur:g,error:b.JEVType,touched:v.JEVType,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"FundsID",options:a,value:h.FundsID,onChange:y,onBlur:g,error:b.FundsID,touched:v.FundsID,required:!0}),o.jsx(T,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:h.InvoiceDate,onChange:y,onBlur:g,error:b.InvoiceDate,touched:v.InvoiceDate,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(T,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:h.ObligationRequestNumber,onChange:y,onBlur:g,error:b.ObligationRequestNumber,touched:v.ObligationRequestNumber}),o.jsx(T,{type:"text",label:"Remarks",name:"Remarks",value:h.Remarks,onChange:y,onBlur:g,error:b.Remarks,touched:v.Remarks,required:!0}),o.jsx(T,{type:"text",label:"Payee",name:"Payee",value:h.Payee,onChange:y,onBlur:g,error:b.Payee,touched:v.Payee})]}),u==="Check Disbursement"&&o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(T,{type:"text",label:"DV No",name:"SAI_No",value:h.SAI_No,onChange:y,onBlur:g,error:b.SAI_No,touched:v.SAI_No}),o.jsx(T,{type:"text",label:"Check No",name:"CheckNumber",value:h.CheckNumber,onChange:y,onBlur:g,error:b.CheckNumber,touched:v.CheckNumber}),o.jsx(T,{type:"date",label:"Check Date",name:"CheckDate",value:h.CheckDate,onChange:y,onBlur:g,error:b.CheckDate,touched:v.CheckDate})]}),o.jsx("hr",{}),o.jsx(rn,{name:"AccountingEntries",render:({remove:j,push:C})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Accounting Entries"}),o.jsx(Ct,{type:"button",onClick:()=>C({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),h.AccountingEntries.map((x,N)=>{var I,k,D,_,M,P,O,L,V,$,R,W,Z,G;const S=parseFloat(x.Debit)>0,A=parseFloat(x.Credit)>0;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col sm:flex-wrap gap-2 w-full",children:[o.jsx(T,{className:"flex-1 w-full sm:min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${N}].ResponsibilityCenter`,options:s,value:x.ResponsibilityCenter,onChange:y,onBlur:g,error:(k=(I=b.AccountingEntries)==null?void 0:I[N])==null?void 0:k.ResponsibilityCenter,touched:(_=(D=v.AccountingEntries)==null?void 0:D[N])==null?void 0:_.ResponsibilityCenter,required:!0}),o.jsxs("div",{className:"flex-1 sm:min-w-[200px]",children:[o.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(zr,{label:"Accounts and Explanation",options:i,placeholder:"Select an account...",isSearchable:!0,onChange:U=>m.setFieldValue(`AccountingEntries[${N}].AccountExplanation`,(U==null?void 0:U.value)||""),name:`AccountingEntries[${N}].AccountExplanation`,value:i.find(U=>U.value===x.AccountExplanation)||null,onBlur:g,required:!0}),((P=(M=b.AccountingEntries)==null?void 0:M[N])==null?void 0:P.AccountExplanation)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:b.AccountingEntries[N].AccountExplanation})]}),o.jsx(T,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Debit",name:`AccountingEntries[${N}].Debit`,value:x.Debit,onChange:U=>{U.target.value&&parseFloat(U.target.value)>0&&m.setFieldValue(`AccountingEntries[${N}].Credit`,0),y(U)},onBlur:g,error:(L=(O=b.AccountingEntries)==null?void 0:O[N])==null?void 0:L.Debit,touched:($=(V=v.AccountingEntries)==null?void 0:V[N])==null?void 0:$.Debit,required:!A}),o.jsx(T,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Credit",name:`AccountingEntries[${N}].Credit`,value:x.Credit,onChange:U=>{U.target.value&&parseFloat(U.target.value)>0&&m.setFieldValue(`AccountingEntries[${N}].Debit`,0),y(U)},onBlur:g,error:(W=(R=b.AccountingEntries)==null?void 0:R[N])==null?void 0:W.Credit,touched:(G=(Z=v.AccountingEntries)==null?void 0:Z[N])==null?void 0:G.Credit,required:!S})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(Ct,{type:"button",onClick:()=>j(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:h.AccountingEntries.length===1,children:o.jsx(er,{className:"w-4 h-4"})})})]},N)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-green-600 font-bold",children:[h.AccountingEntries.reduce((x,N)=>x+(parseFloat(N.Debit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-red-600 font-bold",children:[h.AccountingEntries.reduce((x,N)=>x+(parseFloat(N.Credit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),o.jsx("hr",{}),o.jsx(rn,{name:"Attachments",render:({remove:j,push:C})=>{var x;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-2 mt-10",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(Ct,{type:"button",onClick:()=>C({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(x=h.Attachments)==null?void 0:x.map((N,S)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[N.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${R0e}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:N.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${S}].ID`,value:N.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${S+1}`}),o.jsx("input",{type:"file",name:`Attachments[${S}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:A=>m.setFieldValue(`Attachments[${S}].File`,A.currentTarget.files[0]),onBlur:g,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(Ct,{type:"button",onClick:()=>j(S),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(er,{className:"w-4 h-4"})})]},S))]})}}),l&&o.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(Ct,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(Ct,{type:"submit",className:"btn btn-primary",disabled:m.isSubmitting,children:m.isSubmitting?"Saving...":"Save"})]})]})})}const Wj="https://staging-engine.testthelink.online",L0e=[],wc=F("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wj}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),fb=F("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${Wj}/journalentryvoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),sI=F("journalEntries/updateJournalEntry",async({journalEntry:t,id:e},r)=>{try{const n=await fetch(`${Wj}/journalEntryVoucher/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to update");return a}catch(n){return r.rejectWithValue(n.message)}}),mb=F("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${Wj}/journalEntryVoucher/?LinkID=${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),F0e=ve({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(wc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wc.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(wc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=L0e}).addCase(fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(sI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),B0e=F0e.reducer;function q0e(){var A;const{departments:t}=q(I=>I.departments),{accounts:e}=q(I=>I.chartOfAccounts),{Add:r,Edit:n,Delete:a}=we(57),s=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],i=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],l=ce(),{journalEntries:c,isLoading:u}=q(I=>I.journalEntries),[d,f]=w.useState(!1),[m,p]=w.useState(null),[h,y]=w.useState(!1),[g,b]=w.useState(null);w.useEffect(()=>{l(wc()),l(sr()),l(xr())},[l]);const v=()=>{p(null),f(!0)},j=I=>{p(I),f(!0)},C=I=>{b(I),y(!0)},x=async()=>{if(g)try{await l(mb(g.LinkID)).unwrap(),le.success("Deleted"),l(wc())}catch(I){console.error("Failed to delete journal entry:",I),le.error("Failed to delete journal entry")}finally{y(!1),b(null)}},N=async I=>{console.log({values:I});try{m?await l(sI({journalEntry:I,id:m.ID})).unwrap():await l(fb(I)).unwrap(),le.success("Success"),l(wc())}catch(k){throw le.error(k||"Failed"),k}finally{f(!1),p(null)}},S=[{key:"Status",header:"Status",sortable:!0,render:I=>{let k="bg-neutral-100 text-neutral-800";switch(I){case"Requested":k="bg-warning-100 text-warning-800";break;case"Posted":k="bg-primary-100 text-primary-800";break;case"Rejected":k="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k}`,children:I})}},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Journal Entries Voucher "}),o.jsx("p",{children:"Manage your Journal Entry Vouchers"})]}),r&&o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:S,data:c,actions:I=>{const k=[];return I.Status==="Rejected"&&(k.push({icon:Ie,title:"Edit",onClick:()=>j(I),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),k.push({icon:Fe,title:"Delete",onClick:()=>C(I),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})),k},loading:u,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),o.jsx(oe,{size:"xxxl",isOpen:d,onClose:()=>f(!1),title:m?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:o.jsx(M0e,{typeOptions:s,fundOptions:i,centerOptions:t.filter(I=>I.Active).map(I=>({label:I.Name,value:I.ID})),accountOptions:e.filter(I=>I.Active).map(I=>({label:I.AccountCode+" "+I.Name,value:I.ID})),initialData:m?{...m,AccountingEntries:((A=m.JournalEntries)==null?void 0:A.map(I=>{const k=e.find(D=>D.AccountCode===I.AccountCode&&D.Name===I.AccountName);return{ResponsibilityCenter:I.ResponsibilityCenter||"",AccountExplanation:(k==null?void 0:k.ID)||"",PR:I.PR||"",Debit:I.Debit||0,Credit:I.Credit||0}}))||[]}:null,onClose:()=>f(!1),onSubmit:N})}),o.jsxs(oe,{isOpen:h,onClose:()=>y(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',g==null?void 0:g.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}function V0e({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=ie({DateStart:E().required("Start Date is required"),DateEnd:E().required("End Date is required"),ChartOfAccountID:E().required("Chart of Accounts is required"),FundID:E().required("Fund is required"),DisbursementType:E().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(Re,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isSubmitting:y})=>o.jsxs(Be,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 sm:gap-4",children:[o.jsx(T,{label:"Start Date",name:"DateStart",type:"date",value:d.DateStart,onChange:p,onBlur:h,error:f.DateStart,touched:m.DateStart,required:!0}),o.jsx(T,{label:"End Date",name:"DateEnd",type:"date",value:d.DateEnd,onChange:p,onBlur:h,error:f.DateEnd,touched:m.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(T,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:t.map(g=>({value:g.ID,label:g.Name})),value:d.ChartOfAccountID,onChange:p,onBlur:h,error:f.ChartOfAccountID,touched:m.ChartOfAccountID,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"FundID",options:e.map(g=>({value:g.ID,label:g.Name})),value:d.FundID,onChange:p,onBlur:h,error:f.FundID,touched:m.FundID,required:!0}),o.jsx(T,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(g=>({value:g.value,label:g.label})),value:d.DisbursementType,onChange:p,onBlur:h,error:f.DisbursementType,touched:m.DisbursementType,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const U0e="https://staging-engine.testthelink.online",z0e={disbursementJournals:[],isLoading:!1,error:null},hb=F("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${U0e}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),p1=F("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),AU=ve({name:"disbursementJournal",initialState:z0e,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(hb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hb.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(p1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(p1.fulfilled,e=>{e.isLoading=!1}).addCase(p1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:W0e}=AU.actions,H0e=AU.reducer;function G0e(){const t="https://staging-engine.testthelink.online",e=ce(),{disbursementJournals:r,isLoading:n,error:a}=q(m=>m.disbursementJournal),s=q(m=>{var p;return((p=m.chartOfAccounts)==null?void 0:p.accounts)||[]}),{funds:i}=q(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];w.useEffect(()=>{e(W0e()),e(xr()),e(Kt())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{console.log({values:m});try{const p=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({DisbursementType:m.DisbursementType,DateStart:m.DateStart,DateEnd:m.DateEnd,FundID:m.FundID,ChartOfAccountID:m.ChartOfAccountID})});if(console.log(p),!p.ok)throw new Error("Server response was not ok");const h=await p.blob(),y=p.headers.get("Content-Disposition");let g=`Disbursement_Journals_${m.DisbursementType}.xlsx`;y&&y.includes("filename=")&&(g=y.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(h),v=document.createElement("a");v.href=b,v.download=g,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(b)}catch(p){console.error("Export failed:",p),B.error(p.message||"Failed to export disbursement journal")}},f=m=>{console.log(m),e(hb(m))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Disbursement Journal"}),o.jsx("p",{children:"Generate disbursement journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(V0e,{chartOfAccounts:s,funds:i,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:u,data:r,loading:n,pagination:!0})})]})}function Y0e({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=w.useRef(null),s=ie({DateStart:E().required("Start Date is required"),DateEnd:E().required("End Date is required"),FundID:E().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return o.jsx(Re,{initialValues:i,validationSchema:s,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:p})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(T,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),o.jsx(T,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"FundID",options:t.map(h=>({value:h.ID,label:h.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,onClick:()=>a.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:p,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:p,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const K0e="https://staging-engine.testthelink.online",J0e={generalJournals:[],isLoading:!1,error:null},pb=F("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${K0e}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),g1=F("generalJournal/exportGeneralJournals",async t=>!0),IU=ve({name:"generalJournal",initialState:J0e,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(pb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(g1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(g1.fulfilled,e=>{e.isLoading=!1}).addCase(g1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:X0e}=IU.actions,Q0e=IU.reducer;function Z0e(){const t="https://staging-engine.testthelink.online",e=ce(),{generalJournals:r,isLoading:n,error:a}=q(d=>d.generalJournal),{funds:s}=q(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{e(X0e()),e(Kt())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),p=f.headers.get("Content-Disposition");let h="General_Journal.xlsx";p&&p.includes("filename=")&&(h=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(m),g=document.createElement("a");g.href=y,g.download=h,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(y)}catch(f){console.error("Export failed:",f),B.error(f.message||"Failed to export general journal")}},u=d=>{e(pb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Journal"}),o.jsx("p",{children:"Generate general journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(Y0e,{funds:s,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:l,data:r,loading:n,pagination:!0})})]})}function eje({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n,Add:a}){const s=ie({FiscalYearID:E().required("Fiscal Year is required")}),i={FiscalYearID:""};return o.jsx(Re,{initialValues:i,validationSchema:s,validateOnMount:!0,onSubmit:e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsx(Be,{children:o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-between sm:gap-4 w-full",children:[o.jsx("div",{className:"flex flex-wrap items-center sm:gap-4 w-full sm:w-auto",children:o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(T,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:l.FiscalYearID,onChange:d,onBlur:f,error:c.FiscalYearID,touched:u.FiscalYearID,required:!0})})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"submit",className:"btn btn-primary w-full sm:w-auto",disabled:m,children:"Search"}),a&&o.jsx("button",{type:"button",className:"btn btn-secondary w-full sm:w-auto",onClick:r,children:"Add"}),o.jsx("button",{type:"button",className:"btn btn-outline w-full sm:w-auto",onClick:n,children:"Transfer"})]})]})})})}const sh="https://staging-engine.testthelink.online",tje={beginningBalance:[],isLoading:!1,error:null},Ti=F("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sh}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),gb=F("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${sh}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),yb=F("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${sh}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),bb=F("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${sh}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xb=F("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${sh}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),kU=ve({name:"beginningBalance",initialState:tje,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase(Ti.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ti.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase(Ti.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(gb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(yb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:K$}=kU.actions,rje=kU.reducer;function nje({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:s=[]}){const i=ie({FiscalYearID:E().required("Fiscal Year is required"),FundsID:E().required("Funds are required"),BeginningBalance:Y().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:E().required("Chart of Accounts is required")}),l=at({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(T,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),o.jsx(T,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),o.jsx(T,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Chart of Accounts ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(zr,{options:s,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:s.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function aje({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=ie({PreviousFiscalYearID:E().required("Previous Fiscal Year is required"),NextFiscalYearID:E().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(s){return s!==this.parent.PreviousFiscalYearID})}),a=at({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:s=>{t(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),o.jsx(T,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function sje(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function oje(){const t=q(O=>{var L;return((L=O.chartOfAccounts)==null?void 0:L.accounts)||[]}),{funds:e}=q(O=>O.funds),r=ce(),{fiscalYears:n}=q(O=>O.fiscalYears),{beginningBalance:a,isLoading:s,error:i}=q(O=>O.beginningBalance),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),[p,h]=w.useState(!1),[y,g]=w.useState(null),[b,v]=w.useState(null),{Add:j,Edit:C,Delete:x}=we(21);w.useEffect(()=>{r(K$()),r(un()),r(Kt()),r(xr())},[r]);const N=async O=>{try{f?await r(yb(O)).unwrap():await r(gb(O)).unwrap(),le.success("Success"),b&&await r(Ti(b)).unwrap()}catch(L){le.error(L||"Failed")}finally{c(!1)}},S=async O=>{try{await r(bb(O)).unwrap(),r(K$()),await r(Ti({FiscalYearID:O.NextFiscalYearID})).unwrap(),b&&await r(Ti(b)).unwrap(),le.success("Success")}catch(L){le.error(L||"Transfer failed")}finally{d(!1)}},A=()=>{m(null),c(!0)},I=O=>{m(O),c(!0)},k=O=>{g(O),h(!0)},D=async()=>{if(y)try{await r(xb(y.ID)).unwrap(),h(!1),g(null),le.success("Deleted")}catch(O){le.error(O||"Failed")}},_=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],M=[C&&{icon:Ie,title:"Edit",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},x&&{icon:Fe,title:"Delete",onClick:k,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],P=async(O,{setSubmitting:L})=>{try{v(O),await r(Ti(O)).unwrap()}catch(V){console.error("Fetch failed:",V)}finally{L(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Beginning Balance"}),o.jsx("p",{children:"Generate beginning balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(eje,{fiscalYears:n.map(O=>({value:O.ID,label:O.Name})),onSubmit:P,onAddClick:A,onTransferClick:()=>d(!0),onClose:()=>{},Add:j})}),o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:o.jsx(nje,{onSubmit:N,initialData:f,fiscalYears:n.map(O=>({value:O.ID,label:O.Name})),fundsOptions:e.map(O=>({value:O.ID,label:O.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(O=>({value:O.ID,label:`${O.AccountCode} - ${O.Name} - [${sje(O.Description,50)}]`}))})}),o.jsx(oe,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:o.jsx(aje,{onSubmit:S,fiscalYears:n.map(O=>({value:O.ID,label:O.Name})),onClose:()=>d(!1)})}),o.jsxs(oe,{isOpen:p,onClose:()=>h(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',y==null?void 0:y.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:D,className:"btn btn-danger",children:"Delete"})]})]}),i&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:i})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:_,actions:M,data:a,loading:s,pagination:!0})})]})}const ije=ie().shape({ResponsibilityCenter:E().required("Department is required"),OfficeUnitProject:E().required("Section is required"),ContraAccountID:E().required("Charge Account is required"),InvoiceNumber:E().required("PR Number is required"),SAI_No:E(),ObligationRequestNumber:E(),InvoiceDate:Le().required("PR Date is required"),SAIDate:Le(),ALOBSDate:Le(),Remarks:E().required("Purpose is required"),Items:Gt().of(ie({ItemID:E().required("Required"),Quantity:E().required("Required"),Unit:E().required("Required"),Cost:Y().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function lje({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:s=[],itemsUnitsOptions:i=[]}){const[l,c]=w.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return o.jsx(Re,{initialValues:u,validationSchema:ije,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,setFieldValue:y})=>o.jsxs(Be,{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:p,onBlur:h,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:p,onBlur:h,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:p,onBlur:h,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:p,onBlur:h,error:f.InvoiceNumber,touched:m.InvoiceNumber}),o.jsx(T,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:d.SAI_No,onChange:p,onBlur:h,error:f.SAI_No,touched:m.SAI_No}),o.jsx(T,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:d.ObligationRequestNumber,onChange:p,onBlur:h,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(T,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:p,onBlur:h,error:f.InvoiceDate,touched:m.InvoiceDate}),o.jsx(T,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:d.SAIDate,onChange:p,onBlur:h,error:f.SAIDate,touched:m.SAIDate}),o.jsx(T,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:d.ALOBSDate,onChange:p,onBlur:h,error:f.ALOBSDate,touched:m.ALOBSDate})]}),o.jsx(T,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:p,onBlur:h,error:f.Remarks,touched:m.Remarks}),o.jsx("hr",{className:"!mt-5 !mb-5"}),o.jsx(rn,{name:"Items",render:({remove:g,push:b})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Items"}),o.jsx(Ct,{type:"button",onClick:()=>b({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((v,j)=>{var C,x,N,S,A,I,k,D,_,M,P,O,L,V;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col flex-wrap gap-2 w-full",children:[o.jsxs("div",{className:"flex-1 w-full sm:min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Item ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(zr,{label:"Item",options:s,placeholder:"Select item...",isSearchable:!0,onChange:$=>y(`Items[${j}].ItemID`,($==null?void 0:$.value)||""),name:`Items[${j}].ItemID`,value:s.find($=>$.value===v.ItemID)||null,onBlur:h,required:!0}),((x=(C=f.Items)==null?void 0:C[j])==null?void 0:x.ItemID)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[j].ItemID})]}),o.jsx(T,{className:"flex-1 w-full sm:max-w-[180px]",type:"number",label:"Quantity",name:`Items[${j}].Quantity`,value:v.Quantity,onChange:p,onBlur:h,error:(S=(N=f.Items)==null?void 0:N[j])==null?void 0:S.Quantity,touched:(I=(A=m.Items)==null?void 0:A[j])==null?void 0:I.Quantity,required:!0}),o.jsx(T,{className:"flex-1 w-full sm:max-w-[150px]",type:"select",label:"Unit",name:`Items[${j}].Unit`,value:v.Unit,onChange:p,onBlur:h,options:i,error:(D=(k=f.Items)==null?void 0:k[j])==null?void 0:D.Unit,touched:(M=(_=m.Items)==null?void 0:_[j])==null?void 0:M.Unit,required:!0}),o.jsx(T,{className:"flex-1 w-full sm:max-w-[200px]",type:"number",label:"Cost",name:`Items[${j}].Cost`,value:v.Cost,onChange:p,onBlur:h,error:(O=(P=f.Items)==null?void 0:P[j])==null?void 0:O.Cost,touched:(V=(L=m.Items)==null?void 0:L[j])==null?void 0:V.Cost,required:!0})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(Ct,{type:"button",onClick:()=>g(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:o.jsx(er,{className:"w-4 h-4"})})})]},j)}),o.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 sm:gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:" col-span-1 sm:col-span-2 sm:text-right",children:"Total:"}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((v,j)=>v+(parseFloat(j.Cost)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Estimated Cost)"})]})}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((v,j)=>v+(parseFloat(j.Cost)||0)*(parseFloat(j.Quantity)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const Hj="https://staging-engine.testthelink.online",cje=[],uje={purchaseRequests:cje,isLoading:!1,error:null},vb=F("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hj}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jb=F("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Hj}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wb=F("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Hj}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Nb=F("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Hj}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),dje=ve({name:"purchaseRequests",initialState:uje,reducers:{},extraReducers:t=>{t.addCase(vb.pending,e=>{e.isLoading=!0}).addCase(vb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jb.pending,e=>{e.isLoading=!0}).addCase(jb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wb.pending,e=>{e.isLoading=!0}).addCase(wb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(wb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Nb.pending,e=>{e.isLoading=!0}).addCase(Nb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),fje=dje.reducer;function mje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),{departments:a}=q(A=>A.departments),s=q(A=>{var I;return((I=A.chartOfAccounts)==null?void 0:I.accounts)||[]}),{items:i}=q(A=>A.items),{itemUnits:l}=q(A=>A.itemUnits),{purchaseRequests:c,isLoading:u}=q(A=>A.purchaseRequests),[d,f]=w.useState(!1),[m,p]=w.useState(null),{Add:h,Edit:y,Delete:g}=we(69),b=ce();w.useEffect(()=>{b(sr()),b(xr()),b(Fa()),b(ga()),b(vb())},[]);const v=()=>{n(null),e(!0)},j=()=>{e(!1),n(null)},C=async()=>{if(m)try{await b(Nb(m.ID)).unwrap(),f(!1),p(null),le.success("Deleted")}catch(A){le.error(A||"Failed")}},x=async A=>{try{const I=A.Items.reduce((_,M)=>_+(parseFloat(M.Cost)||0),0),k=A.Items.reduce((_,M)=>_+(parseFloat(M.Cost)||0)*(parseFloat(M.Quantity)||0),0),D={...A,Total:I.toFixed(2),AmountReceived:k.toFixed(2)};r?await b(wb(D)).unwrap():await b(jb(D)).unwrap(),le.success("Success")}catch(I){le.error(I||"Failed")}finally{e(!1)}},N=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"AmountReceived",header:"Estimated Total",sortable:!0}],S=[];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Purchase Requests"}),o.jsx("p",{children:"Manage purchase requests and authorizations"})]}),h&&o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N,actions:S,data:c,loading:u})}),o.jsx(oe,{isOpen:t,onClose:j,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:o.jsx(lje,{initialData:r,departmentsOptions:a.map(A=>({value:A.ID,label:A.Name})),chartOfAccountsOptions:s.map(A=>({value:A.ID,label:A.Name})),itemsOptions:i.map(A=>({value:A.ID,label:A.Name})),itemsUnitsOptions:l.map(A=>({value:A.ID,label:A.Name})),onSubmit:x,onClose:j})}),o.jsxs(oe,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:C,className:"btn btn-danger",children:"Delete"})]})]})]})}ie({number:E().required("Number is required"),date:Le().required("Date is required"),payee:E().required("Payee is required"),address:E().required("Address is required"),fund:E().required("Fund is required"),fiscalYear:E().required("Fiscal Year is required"),project:E().required("Project is required")});function hje({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var p;const u=ie({ResponsibilityCenter:E().required("Required"),ChargeAccountID:E().required("Required"),ItemID:E().required("Required"),Remarks:E().required("Required"),Price:Y().required("Required"),Quantity:Y().required("Required"),ItemUnitID:E().required("Required"),TAXCodeID:E().required("Required")}),d=at({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:u,onSubmit:h=>{const y=i.find(C=>String(C.ID)===String(h.TAXCodeID)),g=Zf({price:h.Price,quantity:h.Quantity,taxRate:(y==null?void 0:y.Rate)||0,vatable:h.Vatable,ewtRate:h.withheldEWT}),b=r.find(C=>String(C.value)===String(h.ResponsibilityCenter)),v=l.find(C=>String(C.value)===String(h.ChargeAccountID)),j=n.find(C=>String(C.value)===String(h.ItemID));t({...h,...g,responsibilityCenterName:b?b.label:"",chargeAccountName:v?v.label:"",itemName:j?j.label:""}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(b=>d.values[b]!==f.current[b]))return;f.current={...d.values};const y=i.find(b=>String(b.ID)===String(d.values.TAXCodeID)),g=Zf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(y==null?void 0:y.Rate)||0,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});g.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",g.subtotal,!1),g.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",g.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((p=i.find(h=>String(h.ID)===String(d.values.TAXCodeID)))==null?void 0:p.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(T,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0,error:d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter,touched:d.touched.ResponsibilityCenter})}),o.jsx("div",{children:o.jsx(T,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0,error:d.touched.ChargeAccountID&&d.errors.ChargeAccountID,touched:d.touched.ChargeAccountID})}),o.jsx("div",{children:o.jsx(T,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0,error:d.touched.ItemID&&d.errors.ItemID,touched:d.touched.ItemID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(T,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0,error:d.touched.Price&&d.errors.Price,touched:d.touched.Price})}),o.jsx("div",{children:o.jsx(T,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0,error:d.touched.Quantity&&d.errors.Quantity,touched:d.touched.Quantity})}),o.jsx("div",{children:o.jsx(T,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0,error:d.touched.ItemUnitID&&d.errors.ItemUnitID,touched:d.touched.ItemUnitID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(T,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0,error:d.touched.TAXCodeID&&d.errors.TAXCodeID,touched:d.touched.TAXCodeID})}),o.jsx("div",{children:o.jsx(T,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsx(T,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx(T,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0,error:d.touched.Remarks&&d.errors.Remarks,touched:d.touched.Remarks}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:()=>d.setFieldValue("Vatable",d.values.Vatable?0:1),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const TU="https://staging-engine.testthelink.online",pje={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},nf=F("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${TU}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),y1=F("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Cb=F("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${TU}/fundUtilizationRequest/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Sb=F("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),DU=ve({name:"fundUtilizations",initialState:pje,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(nf.pending,e=>{e.isLoading=!0}).addCase(nf.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(nf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(y1.pending,e=>{e.isLoading=!0}).addCase(y1.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(y1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cb.pending,e=>{e.isLoading=!0}).addCase(Cb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(Cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sb.pending,e=>{e.isLoading=!0}).addCase(Sb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(Sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:f9e}=DU.actions,gje=DU.reducer,yje="https://staging-engine.testthelink.online",J$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],bje=ie().shape({obrNo:E().required("No. is required"),obrDate:Le().required("Date is required"),payeeType:E().required("Payee type is required"),payeeId:E().required("Payee selection is required"),fund:E().required("Fund is required"),fiscalYear:E().required("Fiscal Year is required"),project:E().required("Project is required"),accountingEntries:Gt().min(1,"At least one item is required")});function xje({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:p=[],taxCodeOptions:h=[],budgetOptions:y=[],taxCodeFull:g=[]}){const b=ce(),v=w.useRef(null),[j,C]=w.useState(!1),[x,N]=w.useState(null),[S,A]=w.useState(null),[I,k]=w.useState(!1),[D,_]=w.useState([]),M=($,R)=>{const W=$.reduce((U,ae)=>U+Number(ae.amount||0),0),Z=R.reduce((U,ae)=>U+Number(ae.amount||0),0),G=W-Z;return{grossAmount:W,totalTaxes:Z,netAmount:G}},P={description:"",amount:"",accountCode:""},O={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[P],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},L=$=>{C(!0),M($.items,$.taxes);const R=new FormData;$.payeeType==="Employee"?(R.append("EmployeeID",$.payeeId),R.append("VendorID",""),R.append("CustomerID","")):$.payeeType==="Vendor"?(R.append("EmployeeID",""),R.append("VendorID",$.payeeId),R.append("CustomerID","")):$.payeeType==="Individual"&&(R.append("EmployeeID",""),R.append("VendorID",""),R.append("CustomerID",$.payeeId)),R.append("PayeeType",$.payeeType),R.append("Payee",(x==null?void 0:x.Name)||(x==null?void 0:x.FirstName)+" "+(x==null?void 0:x.MiddleName)+" "+(x==null?void 0:x.LastName)||""),R.append("Address",(x==null?void 0:x.StreetAddress)||""),R.append("InvoiceNumber",$.obrNo),R.append("InvoiceDate",$.obrDate);const W=$.accountingEntries.reduce((se,K)=>se+Number(K.subtotal||0),0),Z=$.accountingEntries.reduce((se,K)=>se+Number(K.ewt||0),0),G=$.accountingEntries.reduce((se,K)=>se+Number(K.withheld||0),0),U=$.accountingEntries.reduce((se,K)=>se+Number(K.vat||0),0),ae=$.accountingEntries.reduce((se,K)=>se+Number(K.discount||0),0);R.append("Total",W.toFixed(2)),R.append("EWT",Z.toFixed(2)),R.append("WithheldAmount",G.toFixed(2)),R.append("Vat_Total",U.toFixed(2)),R.append("Discounts",ae.toFixed(2)),R.append("FundsID",$.fund),R.append("FiscalYearID",$.fiscalYear),R.append("ProjectID",$.project),R.append("TravelID",""),R.append("Items",JSON.stringify($.accountingEntries)),$.Attachments.forEach((se,K)=>{se.ID?R.append(`Attachments[${K}].ID`,se.ID):R.append(`Attachments[${K}].File`,se.File)});const xe=t?Sb({formData:R,id:t.ID}):Cb(R);t?(R.append("IsNew",!1),R.append("LinkID",t.LinkID)):R.append("IsNew",!0),b(xe).unwrap().then(()=>{le.success("Success"),b(nf()),e()}).catch(se=>{le.error((se==null?void 0:se.message)||"Failed to submit"),console.error("Error submitting DV:",se)}).finally(()=>{C(!1)})},V=({type:$})=>{switch($){case"Employee":return o.jsx(TD,{className:"w-5 h-5"});case"Vendor":return o.jsx(PT,{className:"w-5 h-5"});case"Individual":return o.jsx(ej,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(Re,{innerRef:v,initialValues:O,validationSchema:bje,onSubmit:L,enableReinitialize:!0,children:({values:$,errors:R,touched:W,handleChange:Z,handleBlur:G,setFieldValue:U,isValid:ae})=>{M($.items,$.taxes);const se=J$.map(re=>({value:re.value,label:re.label})).find(re=>re.value===$.payeeType),K=re=>{N(null),U("payeeType",re),U("payeeName",""),U("payeeId",""),U("payeeAddress",""),U("officeUnitProject",""),U("orsNumber","")},de=re=>{let J=null;switch($.payeeType){case"Employee":J=s.find(H=>H.ID===re);break;case"Vendor":J=i.find(H=>H.ID===re);break;case"Individual":J=l.find(H=>H.ID===re);break}N(J),U("payeeName",J==null?void 0:J.Name),U("payeeId",J==null?void 0:J.ID)},ee=re=>{switch(re){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Be,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:J$.map(re=>o.jsxs("button",{type:"button",onClick:()=>K(re.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${$.payeeType===re.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(V,{type:re.value}),o.jsx("span",{className:"ml-3 font-medium",children:re.label})]},re.value))}),R.payeeType&&W.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),$.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",se==null?void 0:se.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:ee($.payeeType),value:ee($.payeeType).find(re=>re.value===$.payeeId)||null,onChange:re=>de(re.value),className:"react-select-container",classNamePrefix:"react-select"}),R.payeeType&&W.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),x&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(se==null?void 0:se.label)==="Employee"?`${x.FirstName||""} ${x.MiddleName||""} ${x.LastName||""}`.trim():((se==null?void 0:se.label)==="Vendor"||(se==null?void 0:se.label)==="Individual",x.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((se==null?void 0:se.label)==="Employee"||(se==null?void 0:se.label)==="Vendor"||(se==null?void 0:se.label)==="Individual",x.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(T,{type:"text",label:"No.",name:"obrNo",value:$.obrNo,onChange:Z,onBlur:G,error:R.obrNo,touched:W.obrNo,required:!0}),o.jsx(T,{type:"date",label:"Date",name:"obrDate",value:$.obrDate,onChange:Z,onBlur:G,error:R.obrDate,touched:W.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:u,value:u.find(re=>re.value===$.fund)||null,onChange:re=>U("fund",re.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:f,value:f.find(re=>re.value===$.fiscalYear)||null,onChange:re=>U("fiscalYear",re.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(zr,{options:d,value:d.find(re=>re.value===$.project)||null,onChange:re=>U("project",re.value),className:"react-select-container",classNamePrefix:"react-select"}),R.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.project})]})]}),o.jsx(rn,{name:"accountingEntries",children:({push:re,remove:J})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>k(!0),children:"+ Item"})]}),$.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),$.accountingEntries.map((H,me)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:H.responsibilityCenterName}),o.jsx("span",{children:H.Remarks}),o.jsx("span",{children:H.itemName}),o.jsx("span",{children:H.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(H.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-1 text-right",children:o.jsx("button",{type:"button",onClick:()=>J(me),className:"text-red-600 text-xs",children:o.jsx(zde,{className:"w-4 h-4"})})})]},me)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:$.accountingEntries.reduce((H,me)=>H+Number(me.subtotal),0).toFixed(2)})]})]}),o.jsx(oe,{isOpen:I,onClose:()=>k(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(hje,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:p,taxCodeOptions:h,budgetOptions:y,taxCodeFull:g,onClose:()=>k(!1),onSubmit:H=>{re(H),k(!1)}})})]})}),R.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.accountingEntries}),o.jsx("hr",{}),o.jsx(rn,{name:"Attachments",render:({remove:re,push:J})=>{var H;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>J({File:null}),children:"+ Attachment"})]}),(H=$.Attachments)==null?void 0:H.map((me,Ne)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[me.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${yje}/uploads/${me.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:me.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Ne}].ID`,value:me.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Ne+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Ne}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:De=>U(`Attachments[${Ne}].File`,De.currentTarget.files[0]),onBlur:G,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(Ct,{type:"button",onClick:()=>re(Ne),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(er,{className:"w-4 h-4"})})]},Ne))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function vje(){const t=ce(),{fundUtilizations:e,isLoading:r}=q(A=>A.fundUtilizations),{Add:n,Edit:a}=we(47),{employees:s}=q(A=>A.employees),{customers:i}=q(A=>A.customers),{vendorDetails:l}=q(A=>A.vendorDetails),{departments:c}=q(A=>A.departments),{projectDetails:u}=q(A=>A.projectDetails),{funds:d}=q(A=>A.funds),{fiscalYears:f}=q(A=>A.fiscalYears),{items:m}=q(A=>A.items),{taxCodes:p}=q(A=>A.taxCodes),{itemUnits:h}=q(A=>A.itemUnits),{budgets:y}=q(A=>A.budget),[g,b]=w.useState("list"),[v,j]=w.useState(null);w.useEffect(()=>{t(nf()),t(cn()),t(Sn()),t(La()),t(sr()),t(Ba()),t(Kt()),t(un()),t(Fa()),t(Kn()),t(ga()),t(Do())},[t]);const C=()=>{j(null),b("form")},x=A=>{j(A),b("form")},N=()=>{b("list"),j(null)},S=[{key:"Status",header:"Status",sortable:!0,render:A=>{let I="bg-neutral-100 text-neutral-800";switch(A){case"Requested":I="bg-warning-100 text-warning-800";break;case"Pending Approval":I="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":I="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":I="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I}`,children:A})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:A=>new Date(A).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[g==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Utilization Request & Status"}),o.jsx("p",{children:"Manage and track your fund utilization requests."})]}),n&&o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:S,data:e,actions:A=>{var k;const I=[];return((k=A.Transaction)==null?void 0:k.Status)==="Rejected"&&a&&I.push({icon:Ie,title:"Edit",onClick:()=>x(A),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),I},loading:r})})]}),g==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center max-sm:flex-col gap-4",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:v?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),o.jsxs("p",{children:["Fill out the form to"," ",v?"update":"create"," a fund utilization request."]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(xje,{initialData:v,employeeOptions:s.map(A=>({value:A.ID,label:A.FirstName+" "+A.MiddleName+" "+A.LastName})),vendorOptions:l.map(A=>({value:A.ID,label:A.Name})),individualOptions:i.map(A=>({value:A.ID,label:A.Name||`${A.FirstName} ${A.MiddleName} ${A.LastName}`})),employeeData:s,vendorData:l,individualData:i,departmentOptions:c.map(A=>({value:A.ID,label:A.Name})),fundOptions:d.map(A=>({value:A.ID,label:A.Name})),projectOptions:u.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:f.map(A=>({value:A.ID,label:A.Name})),particularsOptions:m.map(A=>({value:A.ID,label:A.Name})),unitOptions:h.map(A=>({value:A.ID,label:A.Name})),taxCodeOptions:p.map(A=>({value:A.ID,label:A.Name})),budgetOptions:y.map(A=>({value:A.ID,label:A.Name})),taxCodeFull:p,onCancel:N,onSubmitSuccess:N,onClose:N})})]})]})}const jje=ie({Year:Y().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:E().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Le().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:E().required("Certificate number is required").min(3,"Certificate number must be at least 3 characters"),TIN:E().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),LastName:E().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:E().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:E().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:E().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:E().required("Citizenship is required"),ICRNo:E().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:E().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Le().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:E(),Occupation:E().min(2,"Profession must be at least 2 characters"),Gender:E().required("Sex is required"),HeightFeet:Y().typeError("Feet must be a number").min(3,"Minimum height is 3 feet").max(8,"Maximum height is 8 feet").integer("Feet must be a whole number"),HeightInches:Y().typeError("Inches must be a number").min(0,"Inches cannot be negative").max(11,"Inches must be between 0 and 11").test("total-height",`Total height must be between 3'0" and 8'11"`,function(t){const e=this.parent.HeightFeet;if(!e||t===void 0)return!0;const r=e*12+t;return r>=36&&r<=107}),Weight:Y().typeError("Weight must be a number").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:Y().required("Basic tax is required").min(0,"Basic tax cannot be negative").max(1e4,"Basic tax cannot exceed 10,000"),BusinessEarnings:Y().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:Y().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:Y().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:Y().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:Y().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:Y().min(0,"Real property tax cannot be negative").nullable(),Total:Y().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:Y().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),AmountReceived:Y().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:E().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:E().max(500,"Amount in words cannot exceed 500 characters")}),X$=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:a=!1})=>{const s=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],i=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],l=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],c=h=>{if(!h)return"";const y=parseFloat(h);return Math.floor(y/12).toString()},u=h=>{if(!h)return"";const y=parseFloat(h);return Math.round(y%12).toString()},f=at({initialValues:(()=>{const h=(e==null?void 0:e.Customer)||t,y=(h==null?void 0:h.Height)||"",g=y?c(y):"",b=y?u(y):"";return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",TIN:(e==null?void 0:e.TIN)||(h==null?void 0:h.TIN)||"",LastName:(h==null?void 0:h.LastName)||"",FirstName:(h==null?void 0:h.FirstName)||"",MiddleName:(h==null?void 0:h.MiddleName)||"",Address:(h==null?void 0:h.StreetAddress)||"",Citizenship:(h==null?void 0:h.Citizenship)||"",ICRNo:(h==null?void 0:h.ICRNumber)||"",PlaceOfBirth:(h==null?void 0:h.PlaceofBirth)||"",CivilStatus:(h==null?void 0:h.CivilStatus)||"",Occupation:(h==null?void 0:h.Occupation)||"",Gender:(h==null?void 0:h.Gender)||"",HeightFeet:g,HeightInches:b,Weight:(h==null?void 0:h.Weight)||"",BirthDate:(h==null?void 0:h.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),validationSchema:jje,onSubmit:h=>{const g=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...m(h)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...m(h)};n(g)}}),m=h=>{const y={...h,Year:String(h.Year),Height:String(h.Height),Weight:String(h.Weight),InputOne:Number(h.BusinessEarnings),InputTwo:Number(h.OccupationEarnings),InputThree:Number(h.IncomeProperty),OutputOne:Number(h.BusinessTaxDue),OutputTwo:Number(h.OccupationTaxDue),OutputThree:Number(h.PropertyTaxDue),Municipality:h.PlaceIssued,AmountPaid:Number(h.AmountReceived),Words:h.AmountinWords,Profession:h.Occupation};return delete y.BusinessEarnings,delete y.OccupationEarnings,delete y.IncomeProperty,delete y.BusinessTaxDue,delete y.OccupationTaxDue,delete y.PropertyTaxDue,delete y.PlaceIssued,delete y.AmountReceived,delete y.AmountinWords,delete y.Occupation,y},p=h=>({name:h,value:f.values[h]||"",onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched[h]&&f.errors[h],disabled:a});return o.jsx("div",{className:"min-h-screen",children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(kD,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Year",...p("Year"),type:"number",disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Year&&f.errors.Year,touched:f.touched.Year,required:!0})}),o.jsx("div",{children:o.jsx(T,{label:"Place of Issue",...p("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceIssued&&f.errors.PlaceIssued,touched:f.touched.PlaceIssued,required:!0})}),o.jsx("div",{children:o.jsx(T,{label:"Date Issued",...p("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.DateIssued&&f.errors.DateIssued,touched:f.touched.DateIssued,required:!0})}),o.jsx("div",{children:o.jsx(T,{label:"OR No.",...p("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:f.touched.CCNumber&&f.errors.CCNumber,touched:f.touched.CCNumber,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:"TIN (if Any)",...p("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:f.touched.TIN&&f.errors.TIN,touched:f.touched.TIN})}),o.jsx("div",{className:"hidden md:block"}),o.jsx("div",{className:"hidden lg:block"}),o.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(ej,{className:"h-5 w-5"}),"Personal Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Last Name",...p("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.LastName&&f.errors.LastName,touched:f.touched.LastName})}),o.jsx("div",{children:o.jsx(T,{label:"First Name",...p("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.FirstName&&f.errors.FirstName,touched:f.touched.FirstName})}),o.jsx("div",{children:o.jsx(T,{label:"Middle Name",...p("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.MiddleName&&f.errors.MiddleName,touched:f.touched.MiddleName})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(T,{label:"Address",...p("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Address&&f.errors.Address,touched:f.touched.Address,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(T,{label:"Citizenship",...p("Citizenship"),type:"select",options:s,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Citizenship&&f.errors.Citizenship,touched:f.touched.Citizenship,required:!0}),o.jsx(T,{label:"ICR No.",...p("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.ICRNo&&f.errors.ICRNo,touched:f.touched.ICRNo}),o.jsx(T,{label:"Place of Birth",...p("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceOfBirth&&f.errors.PlaceOfBirth,touched:f.touched.PlaceOfBirth,required:!0}),o.jsx(T,{label:"Date of Birth",...p("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:f.touched.BirthDate&&f.errors.BirthDate,touched:f.touched.BirthDate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Civil Status",...p("CivilStatus"),type:"radio",options:i,error:f.touched.CivilStatus&&f.errors.CivilStatus,touched:f.touched.CivilStatus})}),o.jsx("div",{children:o.jsx(T,{label:"Profession/Occupation",...p("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Occupation&&f.errors.Occupation,touched:f.touched.Occupation})}),o.jsx("div",{children:o.jsx(T,{label:"Sex",...p("Gender"),type:"radio",options:l,error:f.touched.Gender&&f.errors.Gender,touched:f.touched.Gender,required:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{children:o.jsx(T,{label:"Height (feet)",...p("HeightFeet"),type:"text",min:"3",max:"8",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightFeet&&f.errors.HeightFeet,touched:f.touched.HeightFeet})}),o.jsx("div",{children:o.jsx(T,{label:"Height (inches)",...p("HeightInches"),type:"text",min:"0",max:"11",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightInches&&f.errors.HeightInches,touched:f.touched.HeightInches})}),o.jsx("div",{children:o.jsx(T,{label:"Weight (kg)",...p("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Weight&&f.errors.Weight,touched:f.touched.Weight})})]})]})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(Z6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"sm:p-6 p-3 pt-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(T,{label:"Taxable Amount:",...p("BasicTax"),type:"text",min:"0",step:"0.01",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:f.touched.BasicTax&&f.errors.BasicTax,touched:f.touched.BasicTax,required:!0})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(T,{label:"Taxable Amount:",...p("BusinessEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.BusinessEarnings&&f.errors.BusinessEarnings,touched:f.touched.BusinessEarnings})}),o.jsx("div",{children:o.jsx(T,{label:"Community Due Amount:",...p("BusinessTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.BusinessTaxDue&&f.errors.BusinessTaxDue,touched:f.touched.BusinessTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(T,{label:"Taxable Amount:",...p("OccupationEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.OccupationEarnings&&f.errors.OccupationEarnings,touched:f.touched.OccupationEarnings})}),o.jsx("div",{children:o.jsx(T,{label:"Community Due Amount:",...p("OccupationTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.OccupationTaxDue&&f.errors.OccupationTaxDue,touched:f.touched.OccupationTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(T,{label:"Taxable Amount:",...p("IncomeProperty"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.IncomeProperty&&f.errors.IncomeProperty,touched:f.touched.IncomeProperty})}),o.jsx("div",{children:o.jsx(T,{label:"Community Due Amount:",...p("PropertyTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.PropertyTaxDue&&f.errors.PropertyTaxDue,touched:f.touched.PropertyTaxDue})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Total"}),o.jsx(T,{...p("Total"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Total&&f.errors.Total,touched:f.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest %"}),o.jsx(T,{...p("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Interest&&f.errors.Interest,touched:f.touched.Interest})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),o.jsx(T,{...p("AmountReceived"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.AmountReceived&&f.errors.AmountReceived,touched:f.touched.AmountReceived})]}),o.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Yi(f.values.AmountReceived)||"-"})]})})]})}),o.jsx(T,{label:"Remarks",...p("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(Ct,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:f.isSubmitting,children:f.isSubmitting?"Generating...":"Generate Certificate"})]}),f.submitCount>0&&Object.keys(f.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(f.errors).map(([h,y])=>o.jsx("li",{children:y},h))})]})]})})},oh="https://staging-engine.testthelink.online",wje=[],Nc=F("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oh}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),b1=F("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oh}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Ab=F("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oh}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),x1=F("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oh}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Ib=F("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oh}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),EU=ve({name:"communityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Nc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Nc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=wje}).addCase(b1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(b1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(b1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(Ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(x1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(x1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(x1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(Ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ib.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:m9e}=EU.actions,Nje=EU.reducer;function Cje(){const t=ce(),{records:e,isLoading:r}=q($=>$.communityTax),{customers:n,isLoading:a}=q($=>$.customers),{Add:s,Edit:i,Delete:l,Print:c}=we(34),[u,d]=w.useState("list"),[f,m]=w.useState(null),[p,h]=w.useState(""),[y,g]=w.useState(!1),[b,v]=w.useState({});w.useEffect(()=>{t(Nc()),t(Sn())},[t]);const j=()=>{m(null),d("form")},C=$=>{m($),d("details")},x=$=>{m($),d("form"),console.log("Edit certificate:",$),V($.CustomerID)},N=$=>{console.log("Print certificate:",$)},S=()=>{d("list"),m(null),v(null)},A=async $=>{try{await t(Ib($.ID)).unwrap(),t(Nc())}catch(R){console.error("Error deleting certificate:",R)}},I=e==null?void 0:e.filter($=>{var W,Z,G,U;const R=p.toLowerCase();return((W=$==null?void 0:$.LinkID)==null?void 0:W.toLowerCase().includes(R))||((Z=$==null?void 0:$.CustomerName)==null?void 0:Z.toLowerCase().includes(R))||((U=(G=$==null?void 0:$.Customer)==null?void 0:G.StreetAddress)==null?void 0:U.toLowerCase().includes(R))}),k=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:$=>D($),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:$=>D($),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:$=>new Date($).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:$=>_($)}],D=$=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format($||0),_=$=>{let R="bg-neutral-100 text-neutral-800";switch($){case"Requested":R="bg-success-100 text-success-800";break;case"Posted":R="bg-warning-100 text-warning-800";break;case"Cancelled":R="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R}`,children:$})},M=[{icon:Um,title:"View",onClick:C,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Ie,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},l&&{icon:Ya,title:"Delete",onClick:A,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],P=()=>{g(!0)},O=()=>{g(!1)},L=async $=>{try{await t(Ab($)).unwrap(),t(Nc()),B.success("Certificate saved successfully.")}catch(R){console.error("Error saving certificate:",R),B.error("Failed to save certificate. Please try again.")}finally{S()}},V=$=>{const R=n.find(W=>W.ID===$);v(R)};return o.jsxs(o.Fragment,{children:[u==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),s&&o.jsxs("button",{type:"button",onClick:j,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:k,data:I,actions:M,loading:r||a,onRowClick:C})})]}),u==="form"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),o.jsx("p",{className:"text-gray-600",children:f?"Update the certificate details":""})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(yt,{options:(n==null?void 0:n.map($=>({label:$.Name,value:$.ID})))||[],placeholder:"Choose Citizen",selectedValue:b==null?void 0:b.ID,onSelect:V,label:"Choose Citizen",required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:P,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),c&&o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:b?o.jsx(X$,{selectedCustomer:b,initialData:f,onCancel:S,onSubmitForm:L},b==null?void 0:b.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a Citizen first to start"," "]})})]}),u==="details"&&f&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[i&&o.jsxs("button",{type:"button",onClick:()=>x(f),className:"btn btn-primary flex items-center",children:[o.jsx(Ie,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),c&&o.jsxs("button",{type:"button",onClick:()=>N(f),className:"btn btn-outline flex items-center",children:[o.jsx(yu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(X$,{initialData:f,onCancel:S,isReadOnly:!0})})]}),o.jsx(oe,{isOpen:y,onClose:O,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}const Sje=ie().shape({Year:E().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:E().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Le().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:E().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:E().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:E().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),Address:E().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Le().required("Registration date is required"),KindofOrganization:E().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:E().required("Place of incorporation is required"),NatureOfOrganization:E().required("Business nature is required"),BasicTax:Y().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:Y().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:Y().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:Y().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:Y().typeError("Must be a number").min(0,"Cannot be negative"),Total:Y().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:Y().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:Y().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:E().max(500,"Remarks must be less than 500 characters"),AmountinWords:E().max(500,"Amount in words cannot exceed 500 characters")}),Q$=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:a})=>{const s=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],i=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",i);const l=at({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(e==null?void 0:e.CustomerName)||"",TIN:(e==null?void 0:e.TIN)||"",Address:(i==null?void 0:i.StreetAddress)||"",dateOfRegistration:(i==null?void 0:i.DateofRegistration)||"",KindofOrganization:(i==null?void 0:i.KindofOrganization)||"Corporation",PlaceofIncorporation:(i==null?void 0:i.PlaceofIncorporation)||"",NatureOfOrganization:(i==null?void 0:i.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},validationSchema:Sje,onSubmit:u=>{const f=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...c(u)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...c(u)};console.log("Submitted values:",f),n(f)}}),c=u=>{const d={...u,InputOne:Number(u.assessedValueRealProperty),InputTwo:Number(u.grossReceipts),OutputOne:Number(u.assessedValueTax),OutputTwo:Number(u.grossReceiptsTax),BasicTax:Number(u.BasicTax),Total:Number(u.Total),AmountPaid:Number(u.AmountPaid),Interest:Number(u.Interest),Words:u.AmountinWords};return delete d.assessedValueRealProperty,delete d.assessedValueTax,delete d.grossReceipts,delete d.grossReceiptsTax,delete d.AmountinWords,d};return console.log("Formik Values:",l.errors),o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("form",{onSubmit:l.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(kD,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Year",name:"Year",value:l.values.Year,onChange:l.handleChange,onBlur:l.handleBlur,disabled:a,required:!0,error:l.touched.Year&&l.errors.Year,touched:l.touched.Year,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(T,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:l.values.PlaceIssued,onChange:l.handleChange,disabled:a,error:l.touched.PlaceIssued&&l.errors.PlaceIssued,required:!0,touched:l.touched.PlaceIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(T,{label:"Date Issued",name:"DateIssued",type:"date",value:l.values.DateIssued,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.DateIssued&&l.errors.DateIssued,touched:l.touched.DateIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(T,{label:"Certificate No.",name:"CCNumber",value:l.values.CCNumber,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:l.touched.CCNumber&&l.errors.CCNumber,touched:l.touched.CCNumber})})]}),o.jsx("div",{className:"text-right mb-4",children:o.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(Q6,{className:"h-5 w-5"}),"Company Information"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Company's Full Name",name:"Name",value:l.values.Name,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.Name&&l.errors.Name,touched:l.touched.Name,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(T,{label:"TIN (if Any)",name:"TIN",value:l.values.TIN,onChange:l.handleChange,disabled:a,onBlur:l.handleBlur,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.TIN&&l.errors.TIN,touched:l.touched.TIN})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:" Address of Principal Place of Business",name:"Address",value:l.values.Address,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.Address&&l.errors.Address,touched:l.touched.Address})}),o.jsx("div",{children:o.jsx(T,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:l.values.dateOfRegistration,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.dateOfRegistration&&l.errors.dateOfRegistration,touched:l.touched.dateOfRegistration})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(T,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:l.values.KindofOrganization,onChange:l.handleChange,options:s,disabled:a,error:l.touched.KindofOrganization&&l.errors.KindofOrganization,touched:l.touched.KindofOrganization})}),o.jsx("div",{children:o.jsx(T,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:l.values.PlaceofIncorporation,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.PlaceofIncorporation&&l.errors.PlaceofIncorporation,touched:l.touched.PlaceofIncorporation})})]}),o.jsx("div",{children:o.jsx(T,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:l.values.NatureOfOrganization,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.NatureOfOrganization&&l.errors.NatureOfOrganization,touched:l.touched.NatureOfOrganization})})]})})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(Z6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(T,{name:"BasicTax",label:"Community Due Amount:",value:l.values.BasicTax,onChange:l.handleChange,disabled:a,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:l.touched.BasicTax&&l.errors.BasicTax,touched:l.touched.BasicTax})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(T,{name:"assessedValueRealProperty",value:l.values.assessedValueRealProperty,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.assessedValueRealProperty&&l.errors.assessedValueRealProperty,touched:l.touched.assessedValueRealProperty})}),o.jsx("div",{children:o.jsx(T,{name:"assessedValueTax",value:l.values.assessedValueTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.assessedValueTax&&l.errors.assessedValueTax,touched:l.touched.assessedValueTax})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(T,{name:"grossReceipts",value:l.values.grossReceipts,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.grossReceipts&&l.errors.grossReceipts,touched:l.touched.grossReceipts})}),o.jsx("div",{children:o.jsx(T,{name:"grossReceiptsTax",value:l.values.grossReceiptsTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.grossReceiptsTax&&l.errors.grossReceiptsTax,touched:l.touched.grossReceiptsTax})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[o.jsx("div",{className:"md:w-1/3 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"TOTAL"}),o.jsx(T,{name:"Total",value:l.values.Total,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"Total",error:l.touched.Total&&l.errors.Total,touched:l.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"INTEREST %"}),o.jsx(T,{name:"Interest",value:l.values.Interest,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"%",error:l.touched.Interest&&l.errors.Interest,touched:l.touched.Interest})]})]})}),o.jsx("div",{className:"md:w-1/3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),o.jsx(T,{name:"AmountPaid",value:l.values.AmountPaid,onChange:l.handleChange,disabled:a,error:l.touched.AmountPaid&&l.errors.AmountPaid,touched:l.touched.AmountPaid,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"})]})}),o.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Yi(l.values.AmountPaid)||"-"})]})})]})}),o.jsx("div",{children:o.jsx(T,{label:"Remarks",name:"Remarks",type:"textarea",value:l.values.Remarks,onChange:l.handleChange,disabled:a,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3,error:l.touched.Remarks&&l.errors.Remarks,touched:l.touched.Remarks})})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(Ct,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:l.isSubmitting,children:l.isSubmitting?"Generating...":"Generate Certificate"})]})]}),l.submitCount>0&&Object.keys(l.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(l.errors).map(([u,d])=>o.jsx("li",{children:d},u))})]})]})},ih="https://staging-engine.testthelink.online",Aje=[],Cc=F("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ih}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),v1=F("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ih}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),kb=F("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ih}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),j1=F("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ih}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Tb=F("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ih}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),PU=ve({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=Aje}).addCase(v1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(v1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(v1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase(kb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(j1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(j1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(j1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(Tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:h9e}=PU.actions,Ije=PU.reducer;function kje(){const[t,e]=w.useState("list"),[r,n]=w.useState(null),[a,s]=w.useState(!1),[i,l]=w.useState(null),{Add:c,Edit:u,Delete:d,Print:f}=we(35),{records:m,isLoading:p}=q(O=>O.corporateCommunityTax),{vendorDetails:h,isLoading:y}=q(O=>O.vendorDetails),g=ce();w.useEffect(()=>{g(La()),g(Cc())},[g]);const b=()=>{n(null),e("form")},v=O=>{n(O),e("details")},j=O=>{n(O),console.log("Edit certificate:",O),P(O.CustomerID),e("form")},C=O=>{console.log("Print certificate:",O)},x=()=>{e("list"),n(null),l(null)},N=[{key:"CustomerID",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:O=>S(O),className:"text-right"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:O=>S(O),className:"text-right"},{key:"Earnings",header:"Earnings",sortable:!0,render:O=>S(O),className:"text-right"},{key:"TaxDue",header:"Tax Due",sortable:!0,render:O=>S(O),className:"text-right"},{key:"Year",header:"Year",sortable:!0},{key:"IssuedBy",header:"Issued By",sortable:!0},{key:"Status",header:"Status",render:O=>A(O)}],S=O=>O>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(O):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(O),A=O=>{let L="bg-neutral-100 text-neutral-800";switch(O){case"Posted":L="bg-green-100 text-green-800";break;case"Requested":L="bg-yellow-100 text-yellow-800";break;case"Cancelled":L="bg-red-100 text-red-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${L}`,children:O})},k=[{icon:Um,title:"View",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Ie,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},d&&{icon:Ya,title:"Delete",onClick:async O=>{try{await g(Tb(O.ID)).unwrap(),g(Cc()),console.log("Certificate deleted and data reFetched"),B.success("Certificate deleted successfully.")}catch(L){console.error("Error deleting certificate:",L),B.error("Failed to delete certificate. Please try again.")}finally{x()}},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],D=()=>{s(!0)},_=()=>{s(!1)},M=async O=>{try{await g(kb(O)).unwrap(),g(Cc()),B.success("Certificate saved successfully.")}catch(L){console.error("Error saving certificate:",L),B.error("Failed to save certificate. Please try again.")}finally{x()}},P=O=>{const L=h.find(V=>V.ID===O);l(L),console.log("Selected vendor:",L)};return o.jsxs(o.Fragment,{children:[t==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),c&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:N,data:m,actions:k,loading:y||p,onRowClick:v})})]}),t==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),o.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"sm:w-auto w-full",children:o.jsx(yt,{options:(h==null?void 0:h.map(O=>({label:O.Name,value:O.ID})))||[],selectedValue:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor",onSelect:P,required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:D,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),f&&o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i?o.jsx(Q$,{selectedVendor:i,initialData:r,onCancel:x,onSubmitSuccess:M,readOnly:!1},i==null?void 0:i.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a vendor first to start"," "]})})]}),t==="details"&&r&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[u&&o.jsxs("button",{type:"button",onClick:()=>j(r),className:"btn btn-primary flex items-center",children:[o.jsx(Ie,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),f&&o.jsxs("button",{type:"button",onClick:()=>C(r),className:"btn btn-outline flex items-center",children:[o.jsx(yu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(Q$,{initialData:r,readOnly:!0,onBack:x})})]}),o.jsx(oe,{isOpen:a,onClose:_,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}function Tje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],s=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>s(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:Um,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ie,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:p})=>{try{await n$.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(h){console.error("Validation errors:",h.errors)}finally{p(!1)}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Market Collections"}),o.jsx("p",{children:"Manage market stall rental collections"})]}),o.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:i,data:a,actions:l,pagination:!0})}),o.jsx(oe,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:o.jsx(Re,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:n$,onSubmit:f,children:({values:m,errors:p,touched:h,handleChange:y,handleBlur:g,isSubmitting:b})=>o.jsxs(Be,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:y,onBlur:g,error:p.date,touched:h.date}),o.jsx(T,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:y,onBlur:g,error:p.period,touched:h.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:y,onBlur:g,error:p.stallNumber,touched:h.stallNumber}),o.jsx(T,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:y,onBlur:g,error:p.stallType,touched:h.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),o.jsx(T,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:y,onBlur:g,error:p.stallOwner,touched:h.stallOwner}),o.jsx(T,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:y,onBlur:g,error:p.amount,touched:h.amount,min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:b,className:"btn btn-primary",children:b?"Saving...":r?"Update":"Save"})]})]})})})]})}const Dje=ie().shape({CustomerName:E().required("Name is required"),CustomerID:Y(),DeceasedCustomerName:E().required("Deceased name is required"),DeceasedCustomerID:Y(),Nationality:E().required("Nationality is required"),NationalityID:Y().required("Nationality is required"),Age:Y().required("Age is required").min(0,"Age must be positive"),Sex:E().required("Sex is required"),DeathDate:Le().required("Date of death is required"),CauseofDeath:E().required("Cause of death is required"),Cementery:E().required("Cemetery name is required"),BurialType:E().required("Service type is required"),Infectious:Fo(),Embalmed:Fo(),Disposition:E().when("BurialType",{is:t=>["disinter","remove"].includes(t),then:E().required("Disposition remarks are required")}),InvoiceDate:Le().required("Invoice date is required"),paymentMethod:E().required("Payment method is required"),Total:Y().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:E(),Remarks:E()}),Eje="https://staging-engine.testthelink.online";function Pje({initialData:t,onClose:e,onSubmit:r,nationalities:n,customers:a}){const[s,i]=w.useState(!1),l={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||"",DeceasedCustomerName:(t==null?void 0:t.DeceasedCustomerName)||"",DeceasedCustomerID:(t==null?void 0:t.DeceasedCustomerID)||"",Nationality:(t==null?void 0:t.Nationality)||"",NationalityID:(t==null?void 0:t.NationalityID)||"",Age:(t==null?void 0:t.Age)||"",Sex:(t==null?void 0:t.Sex)||"",DeathDate:(t==null?void 0:t.DeathDate)||"",CauseofDeath:(t==null?void 0:t.CauseofDeath)||"",Cementery:(t==null?void 0:t.Cementery)||"",BurialType:(t==null?void 0:t.BurialType)||"inter",Infectious:(t==null?void 0:t.Infectious)||!1,Embalmed:(t==null?void 0:t.Embalmed)||!1,Disposition:(t==null?void 0:t.Disposition)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerID:(t==null?void 0:t.CustomerID)||"",paymentMethod:(t==null?void 0:t.paymentMethod)||"",Total:(t==null?void 0:t.Total)||"",ReferenceNumber:(t==null?void 0:t.ReferenceNumber)||"",Remarks:(t==null?void 0:t.Remarks)||"",Attachments:(t==null?void 0:t.Attachments)||[]},c=(h,y,g)=>{const v=Array.from(h.target.files).map(j=>j);y("Attachments",[...g.Attachments,...v])},u=(h,y,g)=>{const b=[...g.Attachments];b.splice(h,1),y("Attachments",b)},d=(h,y)=>{const g=h.target.value;y("BurialType",g),i(g!=="INTER")},f=async(h,{setSubmitting:y})=>{console.log("Form values:",h);try{await r(h),e()}catch(g){console.error("Submission failed:",g),B.error(g.message||"Submission failed. Please try again.")}finally{y(!1)}},m=a==null?void 0:a.map(h=>({value:h.ID,label:h.Name})),p=n==null?void 0:n.map(h=>({value:h.ID,label:h.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(Re,{initialValues:l,validationSchema:Dje,onSubmit:f,enableReinitialize:!0,children:({values:h,errors:y,touched:g,handleChange:b,setFieldValue:v,isSubmitting:j,handleBlur:C,submitCount:x})=>o.jsxs(Be,{className:"space-y-4  bg-white rounded-lg",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:N=>c(N,v,h),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),h.Attachments.length>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((N,S)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:N.ID?o.jsx("a",{href:`${Eje}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:N.name||N.DataName}):N.name||N.DataName})]}),o.jsx("button",{type:"button",onClick:()=>u(S,v,h),className:"text-red-500 hover:text-red-700",children:o.jsx(er,{className:"h-4 w-4"})})]},S))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx("div",{className:"text-center",children:o.jsx(T,{name:"InvoiceNumber",type:"text",value:h.InvoiceNumber||"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),o.jsx("div",{children:o.jsx(yt,{label:"MR. / MRS.",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:N=>{const S=m.find(A=>A.value===N);v("CustomerName",(S==null?void 0:S.label)||""),v("CustomerID",(S==null?void 0:S.value)||"")},selectedValue:h.CustomerID,error:y.CustomerName,touched:g.CustomerName})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(yt,{label:"Name of Deceased",name:"DeceasedCustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:N=>{const S=m.find(A=>A.value===N);v("DeceasedCustomerName",(S==null?void 0:S.label)||""),v("DeceasedCustomerID",(S==null?void 0:S.value)||"")},selectedValue:h.DeceasedCustomerID,error:y.DeceasedCustomerName,touched:g.DeceasedCustomerName}),o.jsx(yt,{label:"Nationality",name:"NationalityID",type:"select",options:p,required:!0,placeholder:"Select Nationality",onSelect:N=>{const S=p.find(A=>A.value===N);v("NationalityID",N||""),v("Nationality",(S==null?void 0:S.label)||"")},className:"w-full",selectedValue:h.NationalityID,error:y.Nationality,touched:g.Nationality}),o.jsx(T,{label:"Age",name:"Age",type:"number",required:!0,value:h.Age,onChange:b,touched:g.Age,error:g.Age&&y.Age}),o.jsx(T,{label:"Sex",name:"Sex",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],value:h.Sex,onChange:b,touched:g.Sex,required:!0,error:g.sex&&y.sex}),o.jsx(T,{label:"Date of Death",name:"DeathDate",type:"date",required:!0,value:h.DeathDate,onChange:b,touched:g.DeathDate,error:g.DeathDate&&y.DeathDate}),o.jsx(T,{label:"Cause of Death",name:"CauseofDeath",type:"text",required:!0,value:h.CauseofDeath,onChange:b,touched:g.CauseofDeath,error:g.CauseofDeath&&y.CauseofDeath}),o.jsx(T,{label:"Name of Cemetery",name:"Cementery",type:"text",required:!0,value:h.Cementery,onChange:b,touched:g.Cementery,error:g.Cementery&&y.Cementery})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block font-medium",children:"Service Type"}),o.jsx("div",{className:"flex space-x-4",children:["INTER","DISINTER","REMOVE"].map(N=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"BurialType",value:N,checked:h.BurialType===N,onChange:S=>d(S,v),className:"form-radio"}),o.jsx("span",{className:"ml-2",children:N.toUpperCase()})]},N))}),g.BurialType&&y.BurialType&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:y.BurialType})]}),s&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Infectious",value:h.Infectious,checked:h.Infectious,onChange:b,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Infectious"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Embalmed",value:h.Embalmed,checked:h.Embalmed,onChange:b,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),o.jsx(T,{label:"Disposition of Remains",name:"Disposition",type:"textarea",rows:2,value:h.Disposition,onChange:b,onBlur:C,required:h.BurialType!=="INTER",error:g.Disposition&&y.Disposition})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Invoice Date",name:"InvoiceDate",type:"date",required:!0,value:h.InvoiceDate,onChange:b,onBlur:C,error:g.InvoiceDate&&y.InvoiceDate}),o.jsx(T,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,value:h.paymentMethod,onChange:b,onBlur:C,touched:g.paymentMethod,error:g.paymentMethod&&y.paymentMethod}),o.jsx(T,{label:"Amount Received",name:"Total",type:"number",required:!0,min:"0",value:h.Total,onChange:b,onBlur:C,touched:g.Total,error:g.Total&&y.Total}),o.jsx(T,{label:"Reference Number",name:"ReferenceNumber",type:"text",value:h.ReferenceNumber,onChange:b,onBlur:C,touched:g.ReferenceNumber,error:g.ReferenceNumber&&y.ReferenceNumber})]}),o.jsx(T,{label:"Remarks",name:"Remarks",type:"textarea",rows:2,value:h.Remarks,onChange:b,onBlur:C,touched:g.Remarks,error:g.Remarks&&y.Remarks}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:j?"Submitting...":"Submit"})]}),x>0&&Object.keys(y).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(y).map(([N,S])=>o.jsx("li",{children:S},N))})]})]})})]})}const lh="https://staging-engine.testthelink.online",Oje=[],af=F("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lh}/burialrecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),w1=F("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lh}/burialrecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Db=F("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lh}/burialrecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),N1=F("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lh}/burialrecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Eb=F("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lh}/burialrecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),OU=ve({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(af.pending,e=>{e.isLoading=!0,e.error=null}).addCase(af.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(af.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=Oje}).addCase(w1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(w1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(w1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(Db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Db.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(N1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(N1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(N1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(Eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:p9e}=OU.actions,_je=OU.reducer;function $je(){const t=ce(),{Add:e,Edit:r,Delete:n}=we(28),{customers:a,isLoading:s}=q(N=>N.customers),{nationalities:i,isLoading:l}=q(N=>N.nationalities),{records:c,isLoading:u}=q(N=>N.burialRecords),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Wi()),t(af()),t(Sn())},[t]);const h=[{key:"InvoiceNumber",header:"Receipt No",sortable:!0,className:"font-medium text-neutral-900",render:N=>o.jsx("div",{className:"flex items-center gap-1",children:N||""})},{key:"CustomerName",header:"Name",sortable:!0,render:N=>(N==null?void 0:N.trim())||"N/A"},{key:"Municipality",header:"Municipality",sortable:!0,render:N=>N||""},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"DocumentType.Name",header:"Service Type",sortable:!0,render:(N,S)=>{var A;return((A=S.DocumentType)==null?void 0:A.Name)||""},className:"text-gray-500"},{key:"Total",header:"Amount",sortable:!0,render:N=>y(N||"0.00"),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:N=>N||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:N=>({1:"General Fund",2:"Special Education Fund"})[N]||""}],y=N=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(N),g=()=>{p(null),f(!0)},b=N=>{p(N),f(!0)},v=async N=>{console.log("Deleting ticket:",N);try{await t(Eb(N.ID)).unwrap(),B.success("Burial Receipt deleted successfully")}catch(S){B.error(S.message||"Failed to delete Burial Receipt")}},j=()=>{f(!1),p(null)},C=async N=>{const S=new FormData;for(const A in N)if(A!=="Attachments"){const I=typeof N[A]=="object"?JSON.stringify(N[A]):N[A];A==="TransactionItemsAll"?S.append("Items",I):S.append(A,I)}N==null||N.Attachments.forEach((A,I)=>{A.ID?S.append(`Attachments[${I}].ID`,A.ID):S.append(`Attachments[${I}].File`,A)}),m?(S.append("IsNew","false"),S.append("LinkID",m.LinkID),S.append("ID",m.ID)):S.append("IsNew","true");try{await t(Db(S)).unwrap(),m?B.success("Burial Receipt Updated Successfully"):B.success("Burial Receipt Added Successfully"),t(af())}catch(A){B.error(A.message||"Something went wrong")}finally{j()}},x=[r&&{icon:va,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},n&&{icon:Ya,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Burial Service Receipts"})]}),e&&o.jsxs("button",{onClick:g,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:h,data:c,className:"min-w-full divide-y divide-gray-200",actions:x,isLoading:u||l||s})}),o.jsx(oe,{isOpen:d,onClose:j,title:m?"Edit Burial Service Receipt":"New Burial Service Receipt ",children:o.jsx(Pje,{initialData:m,onClose:j,onSubmit:C,nationalities:i,customers:a})})]})}const Rje="https://staging-engine.testthelink.online",Mje=ie().shape({InvoiceNumber:E().required("Invoice number is required"),CustomerName:E().required("Customer is required"),CustomerAge:Y().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),Remarks:E().required("Remarks are required"),InvoiceDate:Le().required("Invoice date is required"),Cenomar:E().required("CENOMAR is required"),MarrytoID:E().required('"Marry to" is required'),MarrytoName:E().required('"Marry to Name" is required'),MarrytoAge:Y().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),RegisterNumber:E().required("Register number is required"),Total:Y().required("Price is required").min(0,"Price cannot be negative"),RemainingBalance:Y().required("Balance is required").min(0,"Balance cannot be negative"),AmountReceived:Y().required("Amount received is required").min(0,"Amount cannot be negative"),Attachments:Gt()});function Lje({initialData:t,customers:e,onClose:r,onSubmit:n}){const[a,s]=w.useState(!1),[i,l]=w.useState([]),c={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"MA-RE-30GE-CEIPT",CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerAge:(t==null?void 0:t.CustomerAge)||"",Remarks:(t==null?void 0:t.Remarks)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],Cenomar:(t==null?void 0:t.Cenomar)||"",MarrytoID:(t==null?void 0:t.MarrytoID)||"",MarrytoName:(t==null?void 0:t.MarrytoName)||"",MarrytoAge:(t==null?void 0:t.MarrytoAge)||"",RegisterNumber:(t==null?void 0:t.RegisterNumber)||"",Total:(t==null?void 0:t.Total)||0,RemainingBalance:(t==null?void 0:t.RemainingBalance)||0,AmountReceived:(t==null?void 0:t.AmountReceived)||0,Attachments:(t==null?void 0:t.Attachments)||[]},u=async p=>{s(!0);try{await n(p),r()}catch(h){console.error("Error submitting form:",h),B.error(h.message||"Submission failed. Please try again.")}finally{s(!1)}},d=(p,h,y)=>{const b=Array.from(p.target.files).map(v=>v);h("Attachments",[...y.Attachments,...b])},f=(p,h,y)=>{const g=[...y.Attachments];g.splice(p,1),h("Attachments",g)},m=e==null?void 0:e.map(p=>({value:p.ID,label:p.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(Re,{initialValues:c,validationSchema:Mje,onSubmit:u,enableReinitialize:!0,children:({values:p,errors:h,touched:y,handleChange:g,handleBlur:b,setFieldValue:v})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:j=>d(j,v,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),(p==null?void 0:p.Attachments.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((j,C)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:j.ID?o.jsx("a",{href:`${Rje}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:j.name||j.DataName}):j.name||j.DataName})]}),o.jsx("button",{type:"button",onClick:()=>f(C,v,p),className:"text-red-500 hover:text-red-700",children:o.jsx(er,{className:"h-4 w-4"})})]},C))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(T,{label:"Invoice Number",name:"InvoiceNumber",type:"text",disabled:!0,readOnly:!0,value:p.InvoiceNumber,onChange:g,onBlur:b,error:h.InvoiceNumber,touched:y.InvoiceNumber,className:"bg-gray-200 cursor-not-allowed"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(yt,{label:"Customer",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const C=m.find(x=>x.value===j);v("CustomerName",(C==null?void 0:C.label)||""),v("CustomerID",(C==null?void 0:C.value)||"")},selectedValue:p.CustomerID,error:h.CustomerName,touched:y.CustomerName}),o.jsx(T,{label:"Age",name:"CustomerAge",type:"number",placeholder:"Enter customer age",required:!0,value:p.CustomerAge,onChange:g,onBlur:b,error:h.CustomerAge,touched:y.CustomerAge,min:"1"})]}),o.jsx(T,{label:"Remarks",name:"Remarks",type:"textarea",placeholder:"Enter remarks",rows:3,required:!0,value:p.Remarks,onChange:g,onBlur:b,error:h.Remarks,touched:y.Remarks}),o.jsx(T,{label:"Invoice Date",name:"InvoiceDate",type:"date",placeholder:"Enter invoice date",required:!0,value:p.InvoiceDate,onChange:g,onBlur:b,error:h.InvoiceDate,touched:y.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"CENOMAR",name:"Cenomar",type:"text",required:!0,placeholder:"Enter CENOMAR",value:p.Cenomar,onChange:g,onBlur:b,error:h.Cenomar,touched:y.Cenomar}),o.jsx(yt,{label:"Marry to",name:"MarrytoID",type:"select",options:m,required:!0,placeholder:"Select Marry to",onSelect:j=>{const C=m.find(x=>x.value===j);v("MarrytoName",(C==null?void 0:C.label)||""),v("MarrytoID",(C==null?void 0:C.value)||"")},selectedValue:p.MarrytoID,error:h.MarrytoName,touched:y.MarrytoName})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Age",name:"MarrytoAge",type:"number",required:!0,placeholder:"Enter Marry to age",value:p.MarrytoAge,onChange:g,onBlur:b,error:h.MarrytoAge,touched:y.MarrytoAge,min:"1"}),o.jsx(T,{label:"Register Number",name:"RegisterNumber",type:"text",required:!0,placeholder:"Enter register number",value:p.RegisterNumber,onChange:g,onBlur:b,error:h.RegisterNumber,touched:y.RegisterNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(T,{label:"Price",name:"Total",type:"number",required:!0,placeholder:"Enter price",value:p.Total,onChange:g,onBlur:b,error:h.Total,touched:y.Total,min:"0"}),o.jsx(T,{label:"Remaining Balance",name:"RemainingBalance",type:"number",required:!0,placeholder:"Enter remaining balance",value:p.RemainingBalance,onChange:g,onBlur:b,error:h.RemainingBalance,touched:y.RemainingBalance,min:"0"}),o.jsx(T,{label:"Amount Received",name:"AmountReceived",type:"number",required:!0,placeholder:"Enter amount received",value:p.AmountReceived,onChange:g,onBlur:b,error:h.AmountReceived,touched:y.AmountReceived,min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:a,children:t?"Update":"Create"})]})]})})]})}const ch="https://staging-engine.testthelink.online",Fje=[],sf=F("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ch}/marriagerecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),C1=F("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ch}/marriagerecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Pb=F("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ch}/marriagerecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),S1=F("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ch}/marriagerecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Ob=F("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ch}/marriagerecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),_U=ve({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(sf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sf.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(sf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=Fje}).addCase(C1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(C1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(C1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(Pb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(S1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(S1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(S1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(Ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ob.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:g9e}=_U.actions,Bje=_U.reducer;function qje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=ce(),{records:s,isLoading:i}=q(j=>j.marriageRecords),{customers:l,isLoading:c}=q(j=>j.customers),{Add:u,Edit:d,Delete:f}=we(59);w.useEffect(()=>{a(sf()),a(Sn())},[a]);const m=async j=>{console.log("Form data to save:",j);const C=new FormData;for(const x in j)if(x!=="Attachments"){const N=typeof j[x]=="object"?JSON.stringify(j[x]):j[x];x==="TransactionItemsAll"?C.append("Items",N):C.append(x,N)}j==null||j.Attachments.forEach((x,N)=>{x.ID?C.append(`Attachments[${N}].ID`,x.ID):C.append(`Attachments[${N}].File`,x)}),r?(C.append("IsNew",!1),C.append("LinkID",r.LinkID),C.append("ID",r.ID)):C.append("IsNew",!0);try{await a(Pb(C)).unwrap(),r?B.success("Marriage Receipt Updated Successfully"):B.success("Marriage Receipt Added Successfully"),a(sf())}catch(x){B.error(x.message||"Something went wrong")}finally{y()}},p=async j=>{console.log("Deleting ticket:",j);try{await a(Ob(j.ID)).unwrap(),B.success("Marriage Receipt deleted successfully")}catch(C){B.error(C.message||"Failed to delete Marriage Receipt")}},h=j=>{n(j),e(!0)},y=()=>{n(null),e(!1)},g=[{key:"Status",header:"Status",sortable:!0,render:j=>o.jsx("span",{className:`px-2 py-1 rounded ${j==="Posted"?"bg-green-100 text-green-800":j==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:j})},{key:"APAR",header:"AP/AR",sortable:!0,render:j=>j||""},{key:"CustomerName",header:"Customer",sortable:!0,render:j=>(j==null?void 0:j.trim())||"N/A"},{key:"Total",header:"Total Amount",sortable:!0,render:j=>b(j),className:"text-right font-medium"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:j=>b(j||"0.00"),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:j=>b(j||"0.00"),className:"text-right"},{key:"Debit",header:"Debit",sortable:!0,render:j=>b(j||"0.00"),className:"text-right"},{key:"EWT",header:"EWT",sortable:!0,render:j=>b(j||"0.00"),className:"text-right"},{key:"WithheldAmount",header:"Withheld Amount",sortable:!0,render:j=>b(j||"0.00"),className:"text-right"},{key:"Vat_Total",header:"Total",sortable:!0,render:j=>b(j||"0.00"),className:"text-right font-medium"},{key:"Discounts",header:"Discount (%)",sortable:!0,render:j=>j?`${j}%`:"0%",className:"text-right"},{key:"AmountDue",header:"Amount Due",sortable:!0,render:j=>b(j||"0.00"),className:"text-right font-medium"}],b=j=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(j||0),v=[d&&{icon:Ie,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},f&&{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Marriage Service Receipts"})]}),u&&o.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Receipt"]})]}),o.jsx(ye,{columns:g,data:s,actions:v,className:"bg-white rounded-lg shadow",isLoading:i||c}),o.jsx(oe,{isOpen:t,onClose:y,title:r?"Edit Receipt":"Add Receipt",children:o.jsx(Lje,{initialData:r,customers:l,onClose:y,onSubmit:m})})]})}const $U=6048e5,Vje=864e5,RU=6e4,MU=36e5,Z$=Symbol.for("constructDateFrom");function Ps(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Z$ in t?t[Z$](e):t instanceof Date?new t.constructor(e):new Date(e)}function Pn(t,e){return Ps(e||t,t)}let Uje={};function Gj(){return Uje}function tm(t,e){var l,c,u,d;const r=Gj(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Pn(t,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Xx(t,e){return tm(t,{...e,weekStartsOn:1})}function LU(t,e){const r=Pn(t,e==null?void 0:e.in),n=r.getFullYear(),a=Ps(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Xx(a),i=Ps(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Xx(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function eR(t){const e=Pn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function zje(t,...e){const r=Ps.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function tR(t,e){const r=Pn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Wje(t,e,r){const[n,a]=zje(r==null?void 0:r.in,t,e),s=tR(n),i=tR(a),l=+s-eR(s),c=+i-eR(i);return Math.round((l-c)/Vje)}function Hje(t,e){const r=LU(t,e),n=Ps(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Xx(n)}function Gje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yje(t){return!(!Gje(t)&&typeof t!="number"||isNaN(+Pn(t)))}function Kje(t,e){const r=Pn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Jje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xje=(t,e,r)=>{let n;const a=Jje[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function A1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Qje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ewe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},twe={date:A1({formats:Qje,defaultWidth:"full"}),time:A1({formats:Zje,defaultWidth:"full"}),dateTime:A1({formats:ewe,defaultWidth:"full"})},rwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nwe=(t,e,r,n)=>rwe[t];function td(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const awe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},swe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},owe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uwe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dwe={ordinalNumber:uwe,era:td({values:awe,defaultWidth:"wide"}),quarter:td({values:swe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:td({values:owe,defaultWidth:"wide"}),day:td({values:iwe,defaultWidth:"wide"}),dayPeriod:td({values:lwe,defaultWidth:"wide",formattingValues:cwe,defaultFormattingWidth:"wide"})};function rd(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?mwe(l,f=>f.test(i)):fwe(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function fwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function mwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function hwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const pwe=/^(\d+)(th|st|nd|rd)?/i,gwe=/\d+/i,ywe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bwe={any:[/^b/i,/^(a|c)/i]},xwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vwe={any:[/1/i,/2/i,/3/i,/4/i]},jwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Swe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Awe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Iwe={ordinalNumber:hwe({matchPattern:pwe,parsePattern:gwe,valueCallback:t=>parseInt(t,10)}),era:rd({matchPatterns:ywe,defaultMatchWidth:"wide",parsePatterns:bwe,defaultParseWidth:"any"}),quarter:rd({matchPatterns:xwe,defaultMatchWidth:"wide",parsePatterns:vwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rd({matchPatterns:jwe,defaultMatchWidth:"wide",parsePatterns:wwe,defaultParseWidth:"any"}),day:rd({matchPatterns:Nwe,defaultMatchWidth:"wide",parsePatterns:Cwe,defaultParseWidth:"any"}),dayPeriod:rd({matchPatterns:Swe,defaultMatchWidth:"any",parsePatterns:Awe,defaultParseWidth:"any"})},kwe={code:"en-US",formatDistance:Xje,formatLong:twe,formatRelative:nwe,localize:dwe,match:Iwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Twe(t,e){const r=Pn(t,e==null?void 0:e.in);return Wje(r,Kje(r))+1}function Dwe(t,e){const r=Pn(t,e==null?void 0:e.in),n=+Xx(r)-+Hje(r);return Math.round(n/$U)+1}function FU(t,e){var d,f,m,p;const r=Pn(t,e==null?void 0:e.in),n=r.getFullYear(),a=Gj(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=Ps((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=tm(i,e),c=Ps((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=tm(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function Ewe(t,e){var l,c,u,d;const r=Gj(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=FU(t,e),s=Ps((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),tm(s,e)}function Pwe(t,e){const r=Pn(t,e==null?void 0:e.in),n=+tm(r,e)-+Ewe(r,e);return Math.round(n/$U)+1}function ut(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ys={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ut(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ut(r+1,2)},d(t,e){return ut(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ut(t.getHours()%12||12,e.length)},H(t,e){return ut(t.getHours(),e.length)},m(t,e){return ut(t.getMinutes(),e.length)},s(t,e){return ut(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ut(a,e.length)}},Rl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ys.y(t,e)},Y:function(t,e,r,n){const a=FU(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return ut(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ut(s,e.length)},R:function(t,e){const r=LU(t);return ut(r,e.length)},u:function(t,e){const r=t.getFullYear();return ut(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ut(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ut(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ys.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ut(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Pwe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):ut(a,e.length)},I:function(t,e,r){const n=Dwe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ut(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ys.d(t,e)},D:function(t,e,r){const n=Twe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ut(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ut(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ut(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return ut(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Rl.noon:n===0?a=Rl.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Rl.evening:n>=12?a=Rl.afternoon:n>=4?a=Rl.morning:a=Rl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ys.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ys.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ut(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ut(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ys.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ys.s(t,e)},S:function(t,e){return Ys.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return aR(n);case"XXXX":case"XX":return yi(n);case"XXXXX":case"XXX":default:return yi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return aR(n);case"xxxx":case"xx":return yi(n);case"xxxxx":case"xxx":default:return yi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nR(n,":");case"OOOO":default:return"GMT"+yi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nR(n,":");case"zzzz":default:return"GMT"+yi(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return ut(n,e.length)},T:function(t,e,r){return ut(+t,e.length)}};function nR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+ut(s,2)}function aR(t,e){return t%60===0?(t>0?"-":"+")+ut(Math.abs(t)/60,2):yi(t,e)}function yi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=ut(Math.trunc(n/60),2),s=ut(n%60,2);return r+a+e+s}const sR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},BU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Owe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return sR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",sR(n,e)).replace("{{time}}",BU(a,e))},_we={p:BU,P:Owe},$we=/^D+$/,Rwe=/^Y+$/,Mwe=["D","DD","YY","YYYY"];function Lwe(t){return $we.test(t)}function Fwe(t){return Rwe.test(t)}function Bwe(t,e,r){const n=qwe(t,e,r);if(console.warn(n),Mwe.includes(t))throw new RangeError(n)}function qwe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zwe=/^'([^]*?)'?$/,Wwe=/''/g,Hwe=/[a-zA-Z]/;function oR(t,e,r){var d,f,m,p;const n=Gj(),a=n.locale??kwe,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=Pn(t,r==null?void 0:r.in);if(!Yje(l))throw new RangeError("Invalid time value");let c=e.match(Uwe).map(h=>{const y=h[0];if(y==="p"||y==="P"){const g=_we[y];return g(h,a.formatLong)}return h}).join("").match(Vwe).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const y=h[0];if(y==="'")return{isToken:!1,value:Gwe(h)};if(rR[y])return{isToken:!0,value:h};if(y.match(Hwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(h=>{if(!h.isToken)return h.value;const y=h.value;(Fwe(y)||Lwe(y))&&Bwe(y,e,String(t));const g=rR[y[0]];return g(l,y,a.localize,u)}).join("")}function Gwe(t){const e=t.match(zwe);return e?e[1].replace(Wwe,"'"):t}function iR(t,e){const r=()=>Ps(e==null?void 0:e.in,NaN),a=Xwe(t);let s;if(a.date){const u=Qwe(a.date,2);s=Zwe(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=eNe(a.time),isNaN(l)))return r();if(a.timezone){if(c=tNe(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=Pn(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Pn(i+l+c,e==null?void 0:e.in)}const dp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ywe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Kwe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Jwe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Xwe(t){const e={},r=t.split(dp.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],dp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(dp.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=dp.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Qwe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Zwe(t,e){if(e===null)return new Date(NaN);const r=t.match(Ywe);if(!r)return new Date(NaN);const n=!!r[4],a=nd(r[1]),s=nd(r[2])-1,i=nd(r[3]),l=nd(r[4]),c=nd(r[5])-1;if(n)return oNe(e,l,c)?rNe(e,l,c):new Date(NaN);{const u=new Date(0);return!aNe(e,s,i)||!sNe(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,i)),u)}}function nd(t){return t?parseInt(t):1}function eNe(t){const e=t.match(Kwe);if(!e)return NaN;const r=I1(e[1]),n=I1(e[2]),a=I1(e[3]);return iNe(r,n,a)?r*MU+n*RU+a*1e3:NaN}function I1(t){return t&&parseFloat(t.replace(",","."))||0}function tNe(t){if(t==="Z")return 0;const e=t.match(Jwe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return lNe(n,a)?r*(n*MU+a*RU):NaN}function rNe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const nNe=[31,null,31,30,31,30,31,31,30,31,30,31];function qU(t){return t%400===0||t%4===0&&t%100!==0}function aNe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(nNe[e]||(qU(t)?29:28))}function sNe(t,e){return e>=1&&e<=(qU(t)?366:365)}function oNe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function iNe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function lNe(t,e){return e>=0&&e<=59}const uh="https://staging-engine.testthelink.online",cNe=[],Sc=F("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uh}/public-market-ticketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),k1=F("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uh}/public-market-ticketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),of=F("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uh}/public-market-ticketing/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),T1=F("publicMarketTicketing/public-market-ticketing",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uh}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),_b=F("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uh}/public-market-ticketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),VU=ve({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(Sc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sc.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(Sc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=cNe}).addCase(k1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(k1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(k1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(of.pending,e=>{e.isLoading=!0,e.error=null}).addCase(of.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(of.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(T1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(T1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(T1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(_b.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(_b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:y9e}=VU.actions,uNe=VU.reducer,dNe=ie().shape({items:E().required("Items type is required"),startTime:Le().required("Start time is required"),endTime:Le().required("End time is required").min(cl("startTime"),"End time must be after start time"),issuedBy:E().required("Issued by is required"),dateIssued:Le().required("Date issued is required"),postingPeriod:Le().required("Posting period is required"),amountIssued:Y().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:E().required("Remarks are required")}),fNe={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},mNe=({ticket:t,onClose:e})=>{const r=ce(),n=s=>s?(console.log(s),{...s,items:s.Items||"",startTime:s.StartTime?oR(iR(s.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:s.EndTime?oR(iR(s.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:s.IssuedBy||"",dateIssued:s.DateIssued||"",postingPeriod:s.PostingPeriod||"",amountIssued:s.AmountIssued||"",remarks:s.Remarks||""}):fNe,a=async s=>{try{const i={Items:s.items,StartTime:new Date(s.startTime).toISOString(),EndTime:new Date(s.endTime).toISOString(),IssuedBy:s.issuedBy,DateIssued:s.dateIssued,PostingPeriod:s.postingPeriod,AmountIssued:s.amountIssued,Remarks:s.remarks};t?(await r(of({IsNew:!1,ID:t.ID,LinkID:t.LinkID,...i})).unwrap(),le.success("Ticket updated successfully"),r(Sc())):(await r(of({IsNew:!0,...i})).unwrap(),le.success("Ticket added successfully"),r(Sc()))}catch(i){le.error(i.message||"Something went wrong")}finally{e()}};return o.jsx(Re,{initialValues:n(t),validationSchema:dNe,onSubmit:a,enableReinitialize:!0,children:({isSubmitting:s,isValid:i,dirty:l,values:c,errors:u,touched:d,handleChange:f,handleBlur:m})=>o.jsxs(Be,{className:"space-y-6",children:[o.jsx(T,{label:"Items:",name:"items",type:"text",placeholder:"Enter items",required:!0,error:d.items&&u.items,touched:d.items,value:c.items,onChange:f,onBlur:m}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(T,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0],required:!0,error:d.dateIssued&&u.dateIssued,touched:d.dateIssued,value:c.dateIssued,onChange:f,onBlur:m}),o.jsx(T,{label:"Posting Period:",name:"postingPeriod",type:"date",min:c.dateIssued,max:new Date().toISOString().split("T")[0],required:!0,error:d.postingPeriod&&u.postingPeriod,touched:d.postingPeriod,value:c.postingPeriod,onChange:f,onBlur:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(T,{label:"Start Time:",name:"startTime",type:"datetime-local",max:c.postingPeriod,required:!0,error:d.startTime&&u.startTime,touched:d.startTime,value:c.startTime,onChange:f,onBlur:m}),o.jsx(T,{label:"End Time:",name:"endTime",type:"datetime-local",min:c.startTime,max:c.postingPeriod,required:!0,error:d.endTime&&u.endTime,touched:d.endTime,value:c.endTime,onChange:f,onBlur:m})]}),o.jsx(T,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name",required:!0,error:d.issuedBy&&u.issuedBy,touched:d.issuedBy,value:c.issuedBy,onChange:f,onBlur:m}),o.jsx(T,{label:"Amount Issued:",name:"amountIssued",type:"number",placeholder:"0.00",min:"0",step:"0.01",required:!0,error:d.amountIssued&&u.amountIssued,touched:d.amountIssued,value:c.amountIssued,onChange:f,onBlur:m}),o.jsx(T,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",required:!0,error:d.remarks&&u.remarks,touched:d.remarks,value:c.remarks,onChange:f,onBlur:m,rows:4}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,disabled:s,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s||!i||!l,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},hNe=()=>{const t=ce(),{Add:e,Edit:r,Delete:n}=we(68),[a,s]=w.useState(!1),[i,l]=w.useState(null),{tickets:c,isLoading:u,error:d}=q(g=>g.publicMarketTicketing);w.useEffect(()=>{t(Sc())},[t]),w.useEffect(()=>{d&&le.error(d)},[d]);const f=()=>{l(null),s(!0)},m=async g=>{console.log("Deleting ticket:",g);try{await t(_b(g.ID)).unwrap(),le.success("Ticket deleted successfully")}catch(b){le.error(b.message||"Failed to delete ticket")}},p=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",render:g=>new Date(g).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",render:g=>new Date(g).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",render:g=>new Date(g).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",render:g=>new Date(g).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",render:g=>`${g==null?void 0:g.toLocaleString()}`},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],y=[r&&{icon:va,title:"Edit",onClick:g=>{console.log("Edit ticket:",g),l(g),s(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},n&&{icon:Ya,title:"Delete",onClick:m,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header max-sm:flex-wrap gap-4",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),e&&o.jsxs(Ct,{onClick:f,disabled:u,className:"max-sm:w-full",children:[o.jsx(nde,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:p,data:c,isLoading:u,actions:y})}),o.jsx(oe,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Ticket":"Add Ticket",children:o.jsx(mNe,{ticket:i,onClose:()=>s(!1)})})]})};ie().shape({budgetName:E().required("Budget Name is required"),fiscalYear:E().required("Fiscal Year is required"),department:E().required("Department is required"),subDepartment:E().required("Sub-Department is required"),chartOfAccounts:E().required("Chart of Accounts is required"),fund:E().required("Fund is required"),project:E().required("Project is required"),january:E().required("January is required"),february:E().required("February is required"),march:E().required("March is required"),april:E().required("April is required"),may:E().required("May is required"),june:E().required("June is required"),july:E().required("July is required"),august:E().required("August is required"),september:E().required("September is required"),october:E().required("October is required"),november:E().required("November is required"),december:E().required("December is required")});const pNe=ie().shape({Name:E().required("Budget name is required"),FiscalYearID:Y().required("Fiscal year is required"),DepartmentID:Y().required("Department is required"),SubDepartmentID:Y().required("Sub department is required"),ChartofAccountsID:Y().required("Chart of accounts is required"),FundID:Y().required("Fund is required"),ProjectID:Y().required("Project is required"),Appropriation:Y().required("Appropriation is required"),Charges:Y().required("Charges is required"),January:Y().nullable(),February:Y().nullable(),March:Y().nullable(),April:Y().nullable(),May:Y().nullable(),June:Y().nullable(),July:Y().nullable(),August:Y().nullable(),September:Y().nullable(),October:Y().nullable(),November:Y().nullable(),December:Y().nullable()}),lR={ID:"",IsNew:!0,Name:"",FiscalYearID:"",DepartmentID:"",SubDepartmentID:"",ChartofAccountsID:"",FundID:"",ProjectID:"",Appropriation:0,Charges:0,January:0,February:0,March:0,April:0,May:0,June:0,July:0,August:0,September:0,October:0,November:0,December:0};function UU({initialData:t,onSubmit:e,onClose:r,departmentOptions:n,subDepartmentOptions:a,chartOfAccountsOptions:s,fundOptions:i,projectOptions:l,fiscalYearOptions:c}){const[u,d]=w.useState({...lR}),f=(m,{setSubmitting:p})=>{e(m),p(!1),console.log("Form submitted with values:",m)};return w.useEffect(()=>{t!=null&&t.ID?d({ID:t.ID,IsNew:!1,Name:t.Name||"",FiscalYearID:t.FiscalYearID||"",DepartmentID:t.DepartmentID||"",SubDepartmentID:t.SubDepartmentID||"",ChartofAccountsID:t.ChartofAccountsID||"",FundID:t.FundID||"",ProjectID:t.ProjectID||"",Appropriation:t.Appropriation||0,Charges:t.Charges||0,January:t.January||0,February:t.February||0,March:t.March||0,April:t.April||0,May:t.May||0,June:t.June||0,July:t.July||0,August:t.August||0,September:t.September||0,October:t.October||0,November:t.November||0,December:t.December||0}):d(lR)},[t]),o.jsx(Re,{enableReinitialize:!0,onSubmit:f,initialValues:u,validationSchema:pNe,children:({values:m,errors:p,touched:h,handleChange:y,handleBlur:g,isSubmitting:b,submitCount:v})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(T,{label:"Budget Name",name:"Name",value:m.Name,type:"text",onChange:y,onBlur:g,error:p.Name,touched:h.Name,required:!0})}),o.jsx(T,{label:"Fiscal Year",name:"FiscalYearID",type:"select",onChange:y,onBlur:g,value:m.FiscalYearID,error:p.FiscalYearID,touched:h.FiscalYearID,options:c,required:!0}),o.jsx(T,{label:"Department",name:"DepartmentID",type:"select",onChange:y,onBlur:g,value:m.DepartmentID,error:p.DepartmentID,touched:h.DepartmentID,options:n,required:!0}),o.jsx(T,{label:"Sub-Department",name:"SubDepartmentID",type:"select",onChange:y,onBlur:g,value:m.SubDepartmentID,error:p.SubDepartmentID,touched:h.SubDepartmentID,options:a,required:!0}),o.jsx(T,{label:"Chart of Accounts",name:"ChartofAccountsID",type:"select",onChange:y,onBlur:g,value:m.ChartofAccountsID,error:p.ChartofAccountsID,touched:h.ChartofAccountsID,options:s,required:!0}),o.jsx(T,{label:"Fund",name:"FundID",type:"select",onChange:y,onBlur:g,value:m.FundID,error:p.FundID,touched:h.FundID,options:i,required:!0}),o.jsx(T,{label:"Project",name:"ProjectID",type:"select",onChange:y,onBlur:g,value:m.ProjectID,error:p.ProjectID,touched:h.ProjectID,options:l,required:!0}),o.jsx(T,{label:"Appropriation",name:"Appropriation",onChange:y,onBlur:g,value:m.Appropriation,error:p.Appropriation,touched:h.Appropriation,type:"number",required:!0}),o.jsx(T,{label:"Charges",name:"Charges",type:"number",onChange:y,onBlur:g,value:m.Charges,error:p.Charges,touched:h.Charges,required:!0}),o.jsx(T,{label:"Total Amount",name:"TotalAmount",type:"number",onChange:y,onBlur:g,value:m.TotalAmount,error:p.TotalAmount,touched:h.TotalAmount,readOnly:!0,className:"bg-gray-100"}),o.jsx(T,{label:"Balance",name:"AppropriationBalance",type:"number",onChange:y,onBlur:g,value:m.AppropriationBalance,error:p.AppropriationBalance,touched:h.AppropriationBalance,readOnly:!0,className:"bg-gray-100"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(j=>o.jsx(T,{label:j,name:j,type:"number",onChange:y,onBlur:g,value:m[j],error:p[j],touched:h[j]},j))}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]}),v>0&&Object.keys(p).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(p).map(([j,C])=>o.jsx("li",{children:C},j))})]})]})})}const gNe=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],yNe=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],bNe=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],xNe=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],vNe=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],cR=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],oI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jNe=ie().shape({budgetName:E().required("Required"),fiscalYear:E().required("Required"),department:E().required("Required"),subDepartment:E().required("Required"),chartOfAccount:E().required("Required"),fund:E().required("Required"),project:E().required("Required"),monthlyAmounts:ie().shape(oI.reduce((t,e)=>(t[e]=Y().min(0,"Must be >= 0").required("Required"),t),{}))});function wNe(){const[t,e]=w.useState({});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),o.jsx(Re,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:oI.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:jNe,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(w.useEffect(()=>{const s=cR.find(i=>i.value===r.project);s&&e(s)},[r.project]),o.jsxs(Be,{className:"space-y-4",children:[o.jsx(T,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),o.jsx(T,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:gNe,value:r.fiscalYear,onChange:n}),o.jsx(T,{name:"department",label:"Department",type:"select",required:!0,options:yNe,value:r.department,onChange:n}),o.jsx(T,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:bNe,value:r.subDepartment,onChange:n}),o.jsx(T,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:xNe,value:r.chartOfAccount,onChange:n}),o.jsx(T,{name:"fund",label:"Fund",type:"select",required:!0,options:vNe,value:r.fund,onChange:n}),o.jsx(T,{name:"project",label:"Project",type:"select",required:!0,options:cR.map(s=>({value:s.value,label:s.label})),value:r.project,onChange:n}),r.project&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",t.charges]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Amount:"})," ",t.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:oI.map(s=>o.jsx(T,{name:`monthlyAmounts.${s}`,label:s,type:"number",value:r.monthlyAmounts[s],onChange:n,min:"0",step:"0.01"},s))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}ie().shape({Status:E().oneOf(["Requested"]).required(),APAR:E().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:Y().oneOf([21]).required(),RequestedBy:Y().required("Requested by (lngUser) is required"),InvoiceDate:Le().required("Invoice date is required"),InvoiceNumber:E().required("Invoice number is required"),Total:Y().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Fo().required("Active is required"),Remarks:E().nullable(),CreatedBy:E().required("Created by is required"),CreatedDate:Le().required("Created date is required"),ApprovalProgress:Y().min(0).required("Approval progress is required"),BudgetID:Y().required("Budget id is requeired"),ApprovalVersion:Y().required("Approval version is required")});const Yj="https://staging-engine.testthelink.online",NNe=[],lf=F("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Yj}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),$b=F("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${Yj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),iI=F("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${Yj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Rb=F("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${Yj}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),CNe=ve({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(lf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lf.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(lf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=NNe}).addCase($b.pending,e=>{e.isLoading=!0,e.error=null}).addCase($b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase($b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(iI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(Rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(Rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),SNe=CNe.reducer;function ANe(){ce();const[t,e]=w.useState(!1),[r,n]=w.useState(null),{budgets:a,isLoading:s}=q(m=>m.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(p){console.error("Error saving record:",p)}};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),o.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(ke,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsx(ye,{columns:l,data:i,isLoading:s,onEdit:u,onDelete:d})}),o.jsx(oe,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(UU,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}function INe({fiscalYears:t=[],accLoading:e=!1,onView:r,onGenerateJournal:n,onExportExcel:a}){const s=w.useRef(null),i=ie({fiscalYearID:E().required("Fiscal Year is required")}),l={fiscalYearID:""},c=(u,{setSubmitting:d})=>{const f=s.current;f==="view"?r(u):f==="generate"?n(u):f==="export"&&a(u),d(!1),s.current=null};return o.jsx(Re,{initialValues:l,validationSchema:i,onSubmit:c,validateOnMount:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:p,isSubmitting:h,setFieldValue:y})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:o.jsx(T,{type:"select",label:"Fiscal Year",name:"fiscalYearID",options:t.map(g=>({value:g.ID,label:g.Name})),value:u.fiscalYearID,onChange:m,onBlur:p,error:d.fiscalYearID,touched:f.fiscalYearID,required:!0})}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>s.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>s.current="export",children:"Export to Excel"})]})]})})}const kNe="https://staging-engine.testthelink.online",TNe={statementComparisons:[],isLoading:!1,error:null},Mb=F("statementComparison/fetchStatementComparisons",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${kNe}/statementOfComparison/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),D1=F("statementComparison/exportStatementComparisons",async t=>!0),zU=ve({name:"statementComparison",initialState:TNe,reducers:{resetStatementComparisonState:t=>{t.statementComparisons=[],t.error=null}},extraReducers:t=>{t.addCase(Mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mb.fulfilled,(e,r)=>{e.isLoading=!1,e.statementComparisons=r.payload}).addCase(Mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(D1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(D1.fulfilled,e=>{e.isLoading=!1}).addCase(D1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetStatementComparisonState:DNe}=zU.actions,ENe=zU.reducer;function PNe(){const t="https://staging-engine.testthelink.online",e=ce(),{statementComparisons:r,isLoading:n,error:a}=q(u=>u.statementComparison),{fiscalYears:s}=q(u=>u.fiscalYears);w.useEffect(()=>{e(DNe()),e(un())},[e]);const i=[{key:"Type",header:"Type",sortable:!0},{key:"SubID",header:"Sub ID",sortable:!0},{key:"Subtype",header:"Subtype",sortable:!0},{key:"Category",header:"Category",sortable:!0},{key:"Chart of Accounts",header:"Chart of Accounts",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Original",header:"Original",sortable:!0,className:"text-right"},{key:"Final",header:"Final",sortable:!0,className:"text-right"},{key:"Difference",header:"Difference",sortable:!0,className:"text-right"},{key:"Actual",header:"Actual",sortable:!0,className:"text-right"},{key:"Difference 2",header:"Difference 2",sortable:!0,className:"text-right"},{key:"Period",header:"Period",sortable:!0},{key:"Original_Sum",header:"Original_Sum",sortable:!0},{key:"Final_Sum",header:"Final_Sum",sortable:!0},{key:"Difference_Sum",header:"Difference_Sum",sortable:!0},{key:"Actual_Sum",header:"Actual_Sum",sortable:!0},{key:"Difference2_Sum",header:"Difference2_Sum",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0},{key:"Province",header:"Province",sortable:!0}],l=async u=>{try{const d=await fetch(`${t}/statementOfComparison/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({fiscalYearID:u.fiscalYearID})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let p="Statement_of_Comparison.xlsx";m&&m.includes("filename=")&&(p=m.split("filename=")[1].replace(/['"]/g,""));const h=window.URL.createObjectURL(f),y=document.createElement("a");y.href=h,y.download=p,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(h)}catch(d){console.error("Export failed:",d),B.error(d.message||"Failed to export")}},c=u=>{e(Mb(u))};return o.jsxs("div",{className:"page-container",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Statement of Comparison"}),o.jsx("p",{children:"Compare original, final, and actual budget amounts by fiscal year"})]})}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(INe,{fiscalYears:s,onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 rounded-md",children:o.jsx("p",{className:"text-red-800",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:i,data:r,loading:n,pagination:!0})})]})}const ONe=()=>{const t=ce(),[e,r]=w.useState(null),{Edit:n}=we(58);w.useEffect(()=>{t(To()),t(ko()),t(Io()),t(Ao()),s()},[t]);const a="https://staging-engine.testthelink.online",s=async()=>{try{const N=localStorage.getItem("token"),S=await fetch(`${a}/lgu`,{headers:{Authorization:`Bearer ${N}`}});if(!S.ok)throw new Error("Failed to fetch LGU data");const A=await S.json(),I=i(A);p(I),y(A.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(N){console.error("Error loading LGU data:",N)}},i=N=>{var O,L,V,$;const{BarangayID:S,MunicipalityID:A,ProvinceID:I,RegionID:k}=N,D=(O=c.find(R=>R.ID===S))==null?void 0:O.Name,_=(L=u.find(R=>R.ID===A))==null?void 0:L.Name,M=(V=d.find(R=>R.ID===I))==null?void 0:V.Name,P=($=f.find(R=>R.ID===k))==null?void 0:$.Name;return N.BarangayName=D,N.MunicipalityName=_,N.ProvinceName=M,N.RegionName=P,N},l=async(N,S)=>{try{const A=localStorage.getItem("token"),I=new FormData;Object.entries(N).forEach(([_,M])=>{I.append(_,M)}),S&&I.append("Logo",S);const k=await fetch(`${a}/lgu/${N.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${A}`},body:I});if(!k.ok)throw new Error("Failed to update LGU");const D=await k.json();return p(D),y(D.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(A){return console.error("Update error:",A),!1}},{barangays:c}=q(N=>N.barangays),{municipalities:u}=q(N=>N.municipalities),{provinces:d}=q(N=>N.provinces),{regions:f}=q(N=>N.regions),[m,p]=w.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[h,y]=w.useState("https://placehold.co/150x150?text=LGU+Logo"),[g,b]=w.useState(!1),v=ie({Code:E().required("Code is required"),Name:E().required("Name is required"),TIN:E().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),RDO:E().required("RDO is required"),StreetAddress:E().required("Street Address is required"),BarangayID:E().required("Barangay is required"),MunicipalityID:E().required("Municipality is required"),ProvinceID:E().required("Province is required"),RegionID:E().required("Region is required"),ZIPCode:E().required("Zip Code is required"),PhoneNumber:Y().required("Phone Number is required"),EmailAddress:E().email("Invalid email").required("Email is required"),Website:E().required("Website is required")}),j=at({initialValues:m,validationSchema:v,enableReinitialize:!0,onSubmit:async(N,{setSubmitting:S})=>{await l(N,e)&&(b(!1),B.success("LGU updated successfully"),s()),S(!1)}}),C=N=>{var A;const S=(A=N.target.files)==null?void 0:A[0];if(S){r(S);const I=new FileReader;I.onloadend=()=>{y(I.result)},I.readAsDataURL(S)}},x=["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","17A","17B","018","019","020","21A","21B","21C","022","23A","23B","024","25A","25B","026","027","028","029","030","031","032","033","034","035","036","037","038","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","53A","53B","54A","54B","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","93A","93B","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113A","113B","114","115"].map((N,S)=>({ID:S+1,Name:N}));return o.jsxs("div",{className:"sm:py-6 sm:px-4",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Q6,{className:"h-5 w-5 mr-2 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),n&&!g&&o.jsx("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:h,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),g&&o.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"mt-2 w-full"})]}),g?o.jsxs("form",{onSubmit:j.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"LGU Code",name:"Code",value:j.values.Code,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.Code,touched:j.touched.Code,required:!0}),o.jsx(T,{label:"LGU Name",name:"Name",value:j.values.Name,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.Name,touched:j.touched.Name,required:!0}),o.jsx(T,{label:"TIN",name:"TIN",value:j.values.TIN,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.TIN,touched:j.touched.TIN,required:!0}),o.jsx(T,{label:"RDO",name:"RDO",type:"select",options:x.map(N=>({value:N.ID,label:N.Name})),value:j.values.RDO,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.RDO,touched:j.touched.RDO,required:!0}),o.jsx(T,{label:"Street Address",name:"StreetAddress",value:j.values.StreetAddress,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.StreetAddress,touched:j.touched.StreetAddress,required:!0}),o.jsx(T,{label:"Barangay",name:"BarangayID",type:"select",value:j.values.BarangayID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.BarangayID,touched:j.touched.BarangayID,options:c.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(T,{label:"Municipality",name:"MunicipalityID",type:"select",value:j.values.MunicipalityID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.MunicipalityID,touched:j.touched.MunicipalityID,options:u.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(T,{label:"Province",name:"ProvinceID",type:"select",value:j.values.ProvinceID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.ProvinceID,touched:j.touched.ProvinceID,options:d.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(T,{label:"Region",name:"RegionID",type:"select",value:j.values.RegionID,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.RegionID,touched:j.touched.RegionID,options:f.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(T,{label:"Zip Code",name:"ZIPCode",value:j.values.ZIPCode,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.ZIPCode,touched:j.touched.ZIPCode,required:!0}),o.jsx(T,{label:"Mobile Number",name:"PhoneNumber",value:j.values.PhoneNumber,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.PhoneNumber,touched:j.touched.PhoneNumber,required:!0}),o.jsx(T,{label:"Email",name:"EmailAddress",type:"email",value:j.values.EmailAddress,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.EmailAddress,touched:j.touched.EmailAddress,required:!0}),o.jsx(T,{label:"Website",name:"Website",value:j.values.Website,onChange:j.handleChange,onBlur:j.handleBlur,error:j.errors.Website,touched:j.touched.Website,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>{j.resetForm(),b(!1)},className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:j.isSubmitting,children:j.isSubmitting?"Saving...":"Save"})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([N,S])=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:S}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m[N]})]},N))})]})]})]})},_Ne=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:s,handleRemoveAttachment:i})=>o.jsxs("div",{className:" sm:p-4 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),o.jsx(T,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),o.jsx(T,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),o.jsx(T,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),o.jsx(T,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),o.jsx(T,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),o.jsx(T,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(T,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),o.jsx(T,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),o.jsx(T,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(T,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),o.jsx(T,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(T,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),o.jsx(T,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),o.jsx(T,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),o.jsx(T,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),o.jsx(T,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),o.jsx(T,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(T,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(T,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(T,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),o.jsx(T,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),o.jsx(T,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),o.jsx(T,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),o.jsx(T,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(T,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(T,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(T,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),o.jsx(T,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),o.jsx(T,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(T,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),o.jsx(T,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),o.jsx(T,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),o.jsx(T,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),o.jsx(T,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(T,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),o.jsx(T,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),o.jsx(T,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(T,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),o.jsx(T,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),o.jsx(T,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),o.jsx(T,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),o.jsxs("div",{className:"pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),o.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),o.jsx("input",{type:"file",onChange:s,className:"hidden",id:"fileUpload",multiple:!0}),o.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsx("span",{className:"text-sm truncate",children:l.name}),o.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function $Ne(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),[a,s]=w.useState(""),{Add:i,Edit:l,Delete:c}=we(29),u=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[d,f]=w.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),m=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:x=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:x})}],p=[{icon:eV,title:"View",onClick:x=>g(x)},l&&{icon:va,title:"Edit",onClick:x=>b(x)},c&&{icon:Ya,title:"Delete",onClick:x=>v(x)}],h=(x,N)=>{f(S=>({...S,[x]:N}))},y=()=>{n(null),f({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},g=x=>{n(x),e(!0)},b=x=>{n(x),e(!0)},v=x=>{console.log("Deleting permit:",x)},j=()=>{console.log("Saving form data:",d),e(!1)},C=u.filter(x=>x.businessName.toLowerCase().includes(a.toLowerCase())||x.ownerName.toLowerCase().includes(a.toLowerCase())||x.dtiSecCdaRegistration.includes(a));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Business Permit Applications"}),o.jsx("p",{children:"Manage business permit applications and registrations"})]}),i&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Z0,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:a,onChange:x=>s(x.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),o.jsx(ye,{columns:m,data:C,actions:p,pagination:!0})]})}),o.jsx(oe,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:o.jsx(_Ne,{formData:d,handleInputChange:h,handleSave:j,onCancel:()=>e(!1),isEdit:!!r})})]})}const RNe="https://staging-engine.testthelink.online",MNe=ie().shape({payee:E().required("Payee is required"),amount:Y().required("Amount is required").positive("Amount must be positive"),date:Le().required("Date is required"),bank:E().required("Bank is required"),accountNumber:E().required("Account number is required"),accountName:E().required("Account name is required"),chequeType:E().required("Cheque type is required"),checkNumber:E().required("Check number is required"),brstn:E().required("BRSTN is required"),dv:E().required("DV is required"),signatory1:E().required("Signatory 1 is required"),signatory2:E().required("Signatory 2 is required").notOneOf([cl("signatory1")],"Signatories must be different"),Attachments:Gt()});function LNe(){var S,A,I;const[t,e]=w.useState([]),[r,n]=w.useState(null),[a,s]=w.useState([]),i=ce(),{banks:l,isLoading:c}=q(k=>k.banks),{employees:u,isLoading:d}=q(k=>k.employees),{Add:f,Edit:m,Delete:p}=we(33),h=at({initialValues:{status:"Pending",payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",accountName:"",chequeType:"Single",particulars:"",checkNumber:"",brstn:"",dv:"",additionalInformation:"",signatory1:"",signatory2:"",Attachments:[]},validationSchema:MNe,onSubmit:async k=>{await v(k)}});w.useEffect(()=>{i(Hi()),i(cn()),y()},[]);const y=async()=>{try{const k=await Ke("/chequeGenerator/checkList");s(k.data)}catch(k){throw console.error("Error fetching cheque list:",k),k}},g=(k,D,_)=>{const P=Array.from(k.target.files).map(O=>O);console.log(P,_),D("Attachments",[..._.Attachments,...P])},b=(k,D,_)=>{const M=[..._.Attachments];M.splice(k,1),D("Attachments",M)},v=async k=>{try{const D=new FormData;D.append("IsNew",r?"false":"true"),D.append("ID",(r==null?void 0:r.ID)||""),D.append("AddCondition","true"),D.append("DisbursementID",k.dv),D.append("BankID",k.bank),D.append("SignatoryType",k.chequeType),D.append("AccountNumber",k.accountNumber),D.append("AccountName",k.accountName),D.append("CheckNumber",k.checkNumber),D.append("BRSTN",k.brstn),D.append("CheckDate",k.date),D.append("Payee",k.payee),D.append("Amount",k.amount),D.append("Words",Yi(k.amount)),D.append("SignatoryOneID",k.signatory1),D.append("SignatoryTwoID",k.signatory2),D.append("Remarks",k.additionalInformation),D.append("OBR",k.obr||""),t.length>0?t.forEach((P,O)=>{P.ID?D.append(`Attachments[${O}].ID`,P.ID):D.append(`Attachments[${O}].File`,P)}):D.append("Attachments","[]");const _={headers:{"Content-Type":"multipart/form-data"}},M=await Ke.post("/chequeGenerator/save",D,_);if(M.data.error&&M.status!==200){B.error(M.data.error);return}B.success("Cheque saved successfully"),y(),C()}catch(D){throw console.error("Error saving cheque:",D),B.error("Failed to save cheque"),D}},j=k=>{n(k),h.setValues({status:k.Status,payee:k.Payee,amount:k.Amount,date:k.CheckDate,bank:k.BankID.toString(),accountNumber:k.AccountNumber,accountName:k.AccountName,chequeType:k.SignatoryType,particulars:k.Particulars||"",checkNumber:k.CheckNumber,brstn:k.BRSTN,dv:k.DisbursementID,additionalInformation:k.Remarks,obr:k.OBR||"",signatory1:k.SignatoryOneID.toString(),signatory2:k.SignatoryTwoID.toString(),Attachments:k.Attachments||[]})},C=()=>{n(null),h.resetForm(),e([])},x=[{key:"Status",header:"Status",sortable:!0,render:k=>o.jsx("span",{className:`px-2 py-1 text-xs rounded font-medium ${k==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:k})},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"Payee",header:"Payee",sortable:!0},{key:"Amount",header:"Amount",sortable:!0},{key:"ApprovalProgress",header:"Approval Progress",sortable:!0},{key:"ApprovalVersion",header:"Approval Version",sortable:!0}],N=[m&&{icon:va,title:"Edit",onClick:k=>j(k)}];return o.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Cheque Generator"}),o.jsx("p",{children:"Generate and print cheques"})]}),o.jsxs("div",{className:"flex gap-2 max-sm:w-full",children:[!r&&f&&o.jsxs("button",{type:"submit",onClick:h.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:h.isSubmitting,children:[o.jsx(rfe,{className:"h-5 w-5 mr-2"}),"Save"]}),r&&m&&o.jsxs("button",{type:"submit",onClick:h.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:h.isSubmitting,children:[o.jsx(afe,{className:"h-5 w-5 mr-2"}),"Edit"]}),r&&o.jsx("button",{type:"button",onClick:C,className:"btn btn-outline mr-2",children:"Cancel Edit"})]})]})}),o.jsx("form",{onSubmit:h.handleSubmit,children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(yt,{options:l.map(k=>({value:k.ID.toString(),label:k.Name})),label:"Bank",placeholder:"Select Bank",name:"bank",selectedValue:h.values.bank,onSelect:k=>h.setFieldValue("bank",k),error:h.touched.bank&&h.errors.bank,touched:h.touched.bank,required:!0})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:h.values.chequeType==="Single",onChange:h.handleChange,className:"mr-2"}),"Single"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:h.values.chequeType==="Double",onChange:h.handleChange,className:"mr-2"}),"Double"]})]}),h.touched.chequeType&&h.errors.chequeType&&o.jsx("div",{className:"text-red-500 text-sm",children:h.errors.chequeType})]}),o.jsx(T,{type:"text",label:"DV",value:h.values.dv,onChange:h.handleChange,name:"dv",error:h.touched.dv&&h.errors.dv,touched:h.touched.dv})]}),o.jsxs("div",{className:"my-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:k=>g(k,h.setFieldValue,h.values),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`},h.values.Attachments.length)]}),((A=(S=h==null?void 0:h.values)==null?void 0:S.Attachments)==null?void 0:A.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.values.Attachments.map((k,D)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:k.ID?o.jsx("a",{href:`${RNe}/uploads/${k.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:k.name||k.DataName}):k.name||k.DataName})]}),o.jsx("button",{type:"button",onClick:()=>b(D,h.setFieldValue,h.values),className:"text-red-500 hover:text-red-700",children:o.jsx(er,{className:"h-4 w-4"})})]},D))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:["Status: ",h.values.status]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(T,{type:"text",label:"Account Number",name:"accountNumber",value:h.values.accountNumber,onChange:h.handleChange,error:h.touched.accountNumber&&h.errors.accountNumber,touched:h.touched.accountNumber})}),o.jsx("div",{children:o.jsx(T,{type:"text",label:"Account Name",name:"accountName",value:h.values.accountName,onChange:h.handleChange,error:h.touched.accountName&&h.errors.accountName,touched:h.touched.accountName})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(T,{type:"text",label:"Check Number",name:"checkNumber",value:h.values.checkNumber,onChange:h.handleChange,error:h.touched.checkNumber&&h.errors.checkNumber,touched:h.touched.checkNumber})}),o.jsx("div",{children:o.jsx(T,{type:"text",label:"BRSTN",name:"brstn",value:h.values.brstn,onChange:h.handleChange,error:h.touched.brstn&&h.errors.brstn,touched:h.touched.brstn})})]}),o.jsx("div",{children:o.jsx(T,{type:"date",label:"Date",name:"date",value:h.values.date,onChange:h.handleChange,error:h.touched.date&&h.errors.date,touched:h.touched.date})}),o.jsx("div",{children:o.jsx(T,{type:"text",label:"Pay to the order of:",name:"payee",value:h.values.payee,onChange:h.handleChange,error:h.touched.payee&&h.errors.payee,touched:h.touched.payee})}),o.jsx("div",{children:o.jsx(T,{type:"number",label:"Amount",name:"amount",value:h.values.amount,onChange:h.handleChange,step:"0.01",error:h.touched.amount&&h.errors.amount,touched:h.touched.amount})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),o.jsx(T,{type:"text",value:Yi(h.values.amount),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(yt,{options:u==null?void 0:u.map(k=>({value:k.ID.toString(),label:`${k.FirstName} ${k.LastName}`})),label:"Signatory 1",placeholder:"Select signatory",name:"signatory1",selectedValue:h.values.signatory1,onSelect:k=>{if(k===h.values.signatory2){B.error("Signatory 1 cannot be the same as Signatory 2");return}h.setFieldValue("signatory1",k)},error:h.touched.signatory1&&h.errors.signatory1,touched:h.touched.signatory1,required:!0})}),o.jsx("div",{children:o.jsx(yt,{options:u==null?void 0:u.map(k=>({value:k.ID.toString(),label:`${k.FirstName} ${k.LastName}`})),label:"Signatory 2",placeholder:"Select signatory",name:"signatory2",selectedValue:h.values.signatory2,onSelect:k=>{if(k===h.values.signatory1){B.error("Signatory 2 cannot be the same as Signatory 1");return}h.setFieldValue("signatory2",k)},error:h.touched.signatory2&&h.errors.signatory2,touched:h.touched.signatory2,required:!0})}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),o.jsx("textarea",{value:h.values.additionalInformation,name:"additionalInformation",onChange:h.handleChange,placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]})}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Check List"})}),o.jsx(ye,{columns:x,data:a,actions:N,loading:c||d,pagination:!0})]}),o.jsxs("div",{className:"mt-6 bg-white p-3 sm:p-6 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),o.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),o.jsx("p",{className:"font-medium",children:((I=l.find(k=>k.ID.toString()===h.values.bank))==null?void 0:I.Name)||"Select a bank"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium",children:h.values.date?new Date(h.values.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),o.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:h.values.payee||"Enter payee name"})]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),o.jsx("p",{className:"font-medium",children:h.values.amount?Yi(h.values.amount):"Enter amount"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),o.jsx("p",{className:"font-medium text-lg",children:h.values.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(h.values.amount):"0.00"})]})]}),o.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]})}function FNe({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=ie({ChartofAccountsID:E().required("Chart of Accounts is required"),CutOffDate:E().required("Cut Off Date is required"),FundID:E().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(Re,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isSubmitting:y,setFieldValue:g})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4 gap-1",children:[o.jsx(yt,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:b=>g("ChartofAccountsID",b),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID,className:"w-full mb-3"}),o.jsx(T,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:p,onBlur:h,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"FundID",options:t.map(b=>({value:b.ID,label:b.Name})),value:d.FundID,onChange:p,onBlur:h,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const BNe="https://staging-engine.testthelink.online",qNe={generalLedgers:[],isLoading:!1,error:null},Lb=F("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${BNe}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),E1=F("generalLedger/exportGeneralLedgers",async t=>!0),WU=ve({name:"generalLedger",initialState:qNe,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Lb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(Lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(E1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(E1.fulfilled,e=>{e.isLoading=!1}).addCase(E1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:VNe}=WU.actions,UNe=WU.reducer,zNe="https://staging-engine.testthelink.online";function WNe(){const t=ce(),{generalLedgers:e,isLoading:r,error:n}=q(d=>d.generalLedger),{funds:a}=q(d=>d.funds),{accounts:s}=q(d=>d.chartOfAccounts),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{t(VNe()),t(Kt()),t(xr())},[t]);const l=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:d=>i(d),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],c=async d=>{try{const f=await fetch(`${zNe}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(d)});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),p=f.headers.get("Content-Disposition");let h="General_Ledger.xlsx";p&&p.includes("filename=")&&(h=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(m),g=document.createElement("a");g.href=y,g.download=h,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(y)}catch(f){console.error("Export failed:",f),B.error(f.message||"Failed to export general ledger")}},u=d=>{t(Lb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Ledger"}),o.jsx("p",{children:"Generate general ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(FNe,{funds:a,accountOptions:s.map(d=>({value:d.ID,label:`${d.AccountCode} - ${d.Name}`})),onExportExcel:c,onView:u,onClose:()=>{}})}),n&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:n})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:l,data:e,loading:r,pagination:!0})})]})}function HNe({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=ie({ChartofAccountsID:E().required("Chart of Accounts is required"),CutOffDate:E().required("Cut Off Date is required"),FundID:E().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(Re,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isSubmitting:y,setFieldValue:g})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1 sm:gap-4",children:[o.jsx(yt,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:b=>g("ChartofAccountsID",b),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID}),o.jsx(T,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:p,onBlur:h,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"FundID",options:t.map(b=>({value:b.ID,label:b.Name})),value:d.FundID,onChange:p,onBlur:h,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const GNe="https://staging-engine.testthelink.online",YNe={subsidiaryLedgers:[],isLoading:!1,error:null},Fb=F("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${GNe}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),P1=F("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),HU=ve({name:"subsidiaryLedger",initialState:YNe,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fb.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(Fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(P1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(P1.fulfilled,e=>{e.isLoading=!1}).addCase(P1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:KNe}=HU.actions,JNe=HU.reducer;function XNe(){const t="https://staging-engine.testthelink.online",e=ce(),{subsidiaryLedgers:r,isLoading:n,error:a}=q(f=>f.subsidiaryLedger),{funds:s}=q(f=>f.funds),{accounts:i}=q(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(KNe()),e(Kt()),e(xr())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),p=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify(f)});if(!p.ok)throw new Error("Server response was not ok");const h=await p.blob(),y=p.headers.get("Content-Disposition");let g="Subsidiary_Ledger.xlsx";y&&y.includes("filename=")&&(g=y.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(h),v=document.createElement("a");v.href=b,v.download=g,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(b)}catch(m){console.error("Export failed:",m),B.error(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(Fb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Subsidiary Ledger"}),o.jsx("p",{children:"Generate subsidiary ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(HNe,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:c,data:r,loading:n,pagination:!0})})]})}function QNe({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=w.useRef(null),a=ie({year:E().required("Year is required")}),s={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return o.jsx(Re,{initialValues:s,validationSchema:a,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:p})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:o.jsx(T,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 max-sm:flex-col  gap-4",children:[o.jsx("button",{type:"submit",className:"btn btn-primary ",disabled:m,onClick:()=>n.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary text-center",disabled:m,children:"Generate FSP"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const ZNe="https://staging-engine.testthelink.online",e1e={financialStatements:[],isLoading:!1,error:null},Bb=F("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ZNe}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),O1=F("financialStatement/exportFinancialStatements",async t=>!0),GU=ve({name:"financialStatement",initialState:e1e,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(Bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bb.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(Bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(O1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(O1.fulfilled,e=>{e.isLoading=!1}).addCase(O1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:t1e}=GU.actions,r1e=GU.reducer;function n1e(){const t="https://staging-engine.testthelink.online",e=ce(),{financialStatements:r,isLoading:n,error:a}=q(u=>u.financialStatementsReports);w.useEffect(()=>{e(t1e())},[e]);const s=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>s(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>s(u),className:"text-right"}],l=async u=>{try{const d=localStorage.getItem("token"),f=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({year:u.year})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),p=f.headers.get("Content-Disposition");let h="Consolidated_Statement_of_Financial_Position.xlsx";p&&p.includes("filename=")&&(h=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(m),g=document.createElement("a");g.href=y,g.download=h,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(y)}catch(d){console.error("Export failed:",d),B.error(d.message||"Failed to export")}},c=u=>{e(Bb(u))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Consolidated Comparison"}),o.jsx("p",{children:"Generate consolidated comparison reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(QNe,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:i,data:r,loading:n,pagination:!0})})]})}const uR="https://staging-engine.testthelink.online";function dR(){const[t,e]=w.useState(""),[r,n]=w.useState(""),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState([]),[m,p]=w.useState(!1),h=ce(),{funds:y}=q(A=>A.funds),{departments:g}=q(A=>A.departments),{fiscalYears:b}=q(A=>A.fiscalYears);w.useEffect(()=>{h(Kt()),h(sr()),h(un())},[h]);const v=[{key:"Name",header:"Name",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Appropriated",header:"Appropriation",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Adjustments",header:"Adjustments",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Allotments",header:"Allotments",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Obligations",header:"Obligations",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Appropriation Balance",header:"Appropriation Balance",sortable:!0,render:A=>j(A),className:"text-right"},{key:"Allotment Balance",header:"Allotment Balance",sortable:!0,render:A=>j(A),className:"text-right"}],j=A=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(A),C=()=>({startDate:t,endDate:r,fiscalYearID:a,fundsID:i,departmentID:c}),x=async()=>{if(!N()){B.error("Please select all filters");return}try{p(!0);const A=await rt.post(`${uR}/budgetReport/view`,C());f(A.data||[])}catch{B.error("Failed to fetch data")}finally{p(!1)}},N=()=>t&&r&&a&&i&&c,S=async()=>{if(!N()){B.error("Please select all filters");return}try{const A=await rt.post(`${uR}/budgetReport/exportExcel`,C(),{responseType:"blob"}),I=new Blob([A.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),k=window.URL.createObjectURL(I),D=document.createElement("a");D.href=k,D.download="Budget_Report.xlsx",document.body.appendChild(D),D.click(),document.body.removeChild(D)}catch{B.error("Export failed")}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Reports"}),o.jsx("p",{children:"View and generate budget utilization reports"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:o.jsxs("button",{onClick:S,className:"btn btn-outline  max-sm:w-full ",children:[o.jsx(i3,{className:"h-5 w-5 mr-2"})," Export"]})})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(T,{label:"Start Date",name:"startDate",type:"date",value:t,required:!0,onChange:A=>e(A.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(T,{label:"End Date",name:"endDate",type:"date",value:r,required:!0,onChange:A=>n(A.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(T,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:a,required:!0,onChange:A=>s(A.target.value),options:b.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(T,{label:"Fund",name:"fundsID",type:"select",value:i,required:!0,onChange:A=>l(A.target.value),options:y.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(T,{label:"Department",name:"departmentID",type:"select",value:c,required:!0,onChange:A=>u(A.target.value),options:g.map(A=>({label:A.Name,value:A.ID}))})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:x,children:"View"})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(ye,{columns:v,data:d,pagination:!0,loading:m})})]})}function a1e(){const[t,e]=w.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),{Print:r}=we(16),n=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],a=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],s=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d),i=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],l=[{key:"date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:d=>s(d),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:d=>`${(d*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:d=>s(d),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:d=>s(d),className:"text-right"}],u=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(a.find(f=>f.value===t.vendor)||a[0]).label,address:"Employee Address, City",zipCode:"1000"};{const d=n.find(f=>f.value===t.vendor)||n[0];return{tin:"123-456-789-000",name:d.label,address:`${d.label} Street, Business District`,zipCode:"2000"}}})();return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-[200px]",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(i3,{className:"h-5 w-5 mr-2"}),"Export"]}),r&&o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(yu,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(T,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:d=>e({...t,startDate:d.target.value})}),o.jsx(T,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:d=>e({...t,endDate:d.target.value})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:d=>e({...t,payeeType:d.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Employee"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:d=>e({...t,payeeType:d.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),o.jsx(T,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:d=>e({...t,vendor:d.target.value}),options:t.payeeType==="employee"?a:n})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),o.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",u.tin]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",u.name]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",u.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",u.zipCode]})]})]})]}),o.jsx(ye,{columns:l,data:i,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.grossAmount,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.taxWithheld,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.netAmount,0))})]})]})}),o.jsxs("div",{className:"mt-6 card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),o.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),o.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),o.jsx("p",{className:"font-medium",children:"Maria Santos"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const fR="https://staging-engine.testthelink.online",_1={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function s1e(){const t=ce(),{userroles:e,isLoading:r,error:n}=q(y=>y.userroles),{Add:a}=we(83),s=q(y=>y.modules.modules),[i,l]=w.useState(null),[c,u]=w.useState({});w.useEffect(()=>{t(So()),t(Ui())},[t]),w.useEffect(()=>{e.length>0&&!i&&l(e[0])},[e]);const d=async()=>{try{const y=await fetch(`${fR}/moduleAccess/${i.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),g=await y.json();if(!y.ok)throw new Error(g.message||"Failed to fetch access");const b={};g.forEach(j=>{b[j.ModuleID]={id:j.ID,view:!!j.View,add:!!j.Add,edit:!!j.Edit,delete:!!j.Delete,print:!!j.Print,mayor:!!j.Mayor}});const v={};s.forEach(j=>{v[j.ID]=b[j.ID]||{..._1}}),u(v)}catch(y){console.error("Error loading module access:",y.message)}};w.useEffect(()=>{!(i!=null&&i.ID)||s.length===0||d()},[i,s]);const f=(y,g)=>{u(b=>({...b,[y]:{...b[y],[g]:!b[y][g]}}))},m=y=>{const g={};s.forEach(b=>{g[b.ID]={...c[b.ID]||_1,view:y,add:y,edit:y,delete:y,print:y,mayor:y}}),u(g)},p=(y,g)=>{const b={...c};s.forEach(v=>{b[v.ID]={...b[v.ID]||_1,[y]:g}}),u(b)},h=async()=>{if(!(i!=null&&i.ID))return;const y=Object.entries(c).map(([g,b])=>({id:b.id||null,ModuleID:parseInt(g),View:b.view?1:0,Add:b.add?1:0,Edit:b.edit?1:0,Delete:b.delete?1:0,Print:b.print?1:0,Mayor:b.mayor?1:0}));try{const g=await fetch(`${fR}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:i.ID,modules:y})});if(!g.ok){const b=await g.json();throw new Error(b.message||"Failed to save permissions")}B.success("Permissions saved successfully!")}catch(g){console.error("Save failed:",g.message),B.error("Error saving permissions.")}};return o.jsxs("div",{className:"sm:p-4 space-y-4",children:[o.jsxs("header",{className:"page-header space-y-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),o.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),a&&o.jsx("button",{className:"btn btn-primary flex items-center",onClick:h,children:"Save"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[o.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?o.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?o.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):o.jsx("ul",{children:e.map(y=>o.jsx("li",{onClick:()=>l(y),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(i==null?void 0:i.ID)===y.ID?"bg-blue-200 font-semibold":""}`,children:y.Description},y.ID))})]}),o.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[o.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(i==null?void 0:i.Description)||""]}),o.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(y=>o.jsx("th",{className:"px-2 capitalize text-center",children:o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{children:y})})},y))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(y=>o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:s.every(g=>{var b;return(b=c[g.ID])==null?void 0:b[y]}),onChange:g=>p(y,g.target.checked),className:"accent-blue-600"})},`select-all-${y}`))]}),s.map(y=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-1",children:y.Description}),["view","add","edit","delete","print","mayor"].map(g=>{var b;return o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:((b=c[y.ID])==null?void 0:b[g])||!1,onChange:()=>f(y.ID,g),className:"accent-blue-600"})},g)})]},y.ID))]})]}),o.jsxs("div",{className:"p-2 border-t space-x-2",children:[o.jsx("button",{onClick:()=>m(!0),className:"btn btn-outline",children:"Select All"}),o.jsx("button",{onClick:()=>m(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const o1e=()=>{const t=qm(),[e,r]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""});ce();const[n,a]=w.useState({current:!1,new:!1,confirm:!1}),s=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){B.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){B.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),B.success("Password updated successfully!"),t("/dashboard")}catch(d){B.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:s,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?o.jsx(Gde,{size:18}):o.jsx(eV,{size:18})})]})]});return o.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[o.jsx(Vde,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),o.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),o.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})};var i1e=Array.isArray,pn=i1e,l1e=typeof xh=="object"&&xh&&xh.Object===Object&&xh,YU=l1e,c1e=YU,u1e=typeof self=="object"&&self&&self.Object===Object&&self,d1e=c1e||u1e||Function("return this")(),Ka=d1e,f1e=Ka,m1e=f1e.Symbol,dh=m1e,mR=dh,KU=Object.prototype,h1e=KU.hasOwnProperty,p1e=KU.toString,ad=mR?mR.toStringTag:void 0;function g1e(t){var e=h1e.call(t,ad),r=t[ad];try{t[ad]=void 0;var n=!0}catch{}var a=p1e.call(t);return n&&(e?t[ad]=r:delete t[ad]),a}var y1e=g1e,b1e=Object.prototype,x1e=b1e.toString;function v1e(t){return x1e.call(t)}var j1e=v1e,hR=dh,w1e=y1e,N1e=j1e,C1e="[object Null]",S1e="[object Undefined]",pR=hR?hR.toStringTag:void 0;function A1e(t){return t==null?t===void 0?S1e:C1e:pR&&pR in Object(t)?w1e(t):N1e(t)}var qs=A1e;function I1e(t){return t!=null&&typeof t=="object"}var Vs=I1e,k1e=qs,T1e=Vs,D1e="[object Symbol]";function E1e(t){return typeof t=="symbol"||T1e(t)&&k1e(t)==D1e}var Nu=E1e,P1e=pn,O1e=Nu,_1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$1e=/^\w*$/;function R1e(t,e){if(P1e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||O1e(t)?!0:$1e.test(t)||!_1e.test(t)||e!=null&&t in Object(e)}var GD=R1e;function M1e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xo=M1e;const Cu=it(Xo);var L1e=qs,F1e=Xo,B1e="[object AsyncFunction]",q1e="[object Function]",V1e="[object GeneratorFunction]",U1e="[object Proxy]";function z1e(t){if(!F1e(t))return!1;var e=L1e(t);return e==q1e||e==V1e||e==B1e||e==U1e}var YD=z1e;const We=it(YD);var W1e=Ka,H1e=W1e["__core-js_shared__"],G1e=H1e,$1=G1e,gR=function(){var t=/[^.]+$/.exec($1&&$1.keys&&$1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Y1e(t){return!!gR&&gR in t}var K1e=Y1e,J1e=Function.prototype,X1e=J1e.toString;function Q1e(t){if(t!=null){try{return X1e.call(t)}catch{}try{return t+""}catch{}}return""}var JU=Q1e,Z1e=YD,eCe=K1e,tCe=Xo,rCe=JU,nCe=/[\\^$.*+?()[\]{}|]/g,aCe=/^\[object .+?Constructor\]$/,sCe=Function.prototype,oCe=Object.prototype,iCe=sCe.toString,lCe=oCe.hasOwnProperty,cCe=RegExp("^"+iCe.call(lCe).replace(nCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uCe(t){if(!tCe(t)||eCe(t))return!1;var e=Z1e(t)?cCe:aCe;return e.test(rCe(t))}var dCe=uCe;function fCe(t,e){return t==null?void 0:t[e]}var mCe=fCe,hCe=dCe,pCe=mCe;function gCe(t,e){var r=pCe(t,e);return hCe(r)?r:void 0}var Cl=gCe,yCe=Cl,bCe=yCe(Object,"create"),Kj=bCe,yR=Kj;function xCe(){this.__data__=yR?yR(null):{},this.size=0}var vCe=xCe;function jCe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wCe=jCe,NCe=Kj,CCe="__lodash_hash_undefined__",SCe=Object.prototype,ACe=SCe.hasOwnProperty;function ICe(t){var e=this.__data__;if(NCe){var r=e[t];return r===CCe?void 0:r}return ACe.call(e,t)?e[t]:void 0}var kCe=ICe,TCe=Kj,DCe=Object.prototype,ECe=DCe.hasOwnProperty;function PCe(t){var e=this.__data__;return TCe?e[t]!==void 0:ECe.call(e,t)}var OCe=PCe,_Ce=Kj,$Ce="__lodash_hash_undefined__";function RCe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=_Ce&&e===void 0?$Ce:e,this}var MCe=RCe,LCe=vCe,FCe=wCe,BCe=kCe,qCe=OCe,VCe=MCe;function Su(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Su.prototype.clear=LCe;Su.prototype.delete=FCe;Su.prototype.get=BCe;Su.prototype.has=qCe;Su.prototype.set=VCe;var UCe=Su;function zCe(){this.__data__=[],this.size=0}var WCe=zCe;function HCe(t,e){return t===e||t!==t&&e!==e}var KD=HCe,GCe=KD;function YCe(t,e){for(var r=t.length;r--;)if(GCe(t[r][0],e))return r;return-1}var Jj=YCe,KCe=Jj,JCe=Array.prototype,XCe=JCe.splice;function QCe(t){var e=this.__data__,r=KCe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():XCe.call(e,r,1),--this.size,!0}var ZCe=QCe,eSe=Jj;function tSe(t){var e=this.__data__,r=eSe(e,t);return r<0?void 0:e[r][1]}var rSe=tSe,nSe=Jj;function aSe(t){return nSe(this.__data__,t)>-1}var sSe=aSe,oSe=Jj;function iSe(t,e){var r=this.__data__,n=oSe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var lSe=iSe,cSe=WCe,uSe=ZCe,dSe=rSe,fSe=sSe,mSe=lSe;function Au(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Au.prototype.clear=cSe;Au.prototype.delete=uSe;Au.prototype.get=dSe;Au.prototype.has=fSe;Au.prototype.set=mSe;var Xj=Au,hSe=Cl,pSe=Ka,gSe=hSe(pSe,"Map"),JD=gSe,bR=UCe,ySe=Xj,bSe=JD;function xSe(){this.size=0,this.__data__={hash:new bR,map:new(bSe||ySe),string:new bR}}var vSe=xSe;function jSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var wSe=jSe,NSe=wSe;function CSe(t,e){var r=t.__data__;return NSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Qj=CSe,SSe=Qj;function ASe(t){var e=SSe(this,t).delete(t);return this.size-=e?1:0,e}var ISe=ASe,kSe=Qj;function TSe(t){return kSe(this,t).get(t)}var DSe=TSe,ESe=Qj;function PSe(t){return ESe(this,t).has(t)}var OSe=PSe,_Se=Qj;function $Se(t,e){var r=_Se(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var RSe=$Se,MSe=vSe,LSe=ISe,FSe=DSe,BSe=OSe,qSe=RSe;function Iu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Iu.prototype.clear=MSe;Iu.prototype.delete=LSe;Iu.prototype.get=FSe;Iu.prototype.has=BSe;Iu.prototype.set=qSe;var XD=Iu,XU=XD,VSe="Expected a function";function QD(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(VSe);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(QD.Cache||XU),r}QD.Cache=XU;var QU=QD;const USe=it(QU);var zSe=QU,WSe=500;function HSe(t){var e=zSe(t,function(n){return r.size===WSe&&r.clear(),n}),r=e.cache;return e}var GSe=HSe,YSe=GSe,KSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JSe=/\\(\\)?/g,XSe=YSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(KSe,function(r,n,a,s){e.push(a?s.replace(JSe,"$1"):n||r)}),e}),QSe=XSe;function ZSe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var ZD=ZSe,xR=dh,eAe=ZD,tAe=pn,rAe=Nu,vR=xR?xR.prototype:void 0,jR=vR?vR.toString:void 0;function ZU(t){if(typeof t=="string")return t;if(tAe(t))return eAe(t,ZU)+"";if(rAe(t))return jR?jR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var nAe=ZU,aAe=nAe;function sAe(t){return t==null?"":aAe(t)}var ez=sAe,oAe=pn,iAe=GD,lAe=QSe,cAe=ez;function uAe(t,e){return oAe(t)?t:iAe(t,e)?[t]:lAe(cAe(t))}var tz=uAe,dAe=Nu;function fAe(t){if(typeof t=="string"||dAe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Zj=fAe,mAe=tz,hAe=Zj;function pAe(t,e){e=mAe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[hAe(e[r++])];return r&&r==n?t:void 0}var eE=pAe,gAe=eE;function yAe(t,e,r){var n=t==null?void 0:gAe(t,e);return n===void 0?r:n}var rz=yAe;const ya=it(rz);function bAe(t){return t==null}var xAe=bAe;const Je=it(xAe);var vAe=qs,jAe=pn,wAe=Vs,NAe="[object String]";function CAe(t){return typeof t=="string"||!jAe(t)&&wAe(t)&&vAe(t)==NAe}var SAe=CAe;const fh=it(SAe);var nz={exports:{}},pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE=Symbol.for("react.element"),rE=Symbol.for("react.portal"),ew=Symbol.for("react.fragment"),tw=Symbol.for("react.strict_mode"),rw=Symbol.for("react.profiler"),nw=Symbol.for("react.provider"),aw=Symbol.for("react.context"),AAe=Symbol.for("react.server_context"),sw=Symbol.for("react.forward_ref"),ow=Symbol.for("react.suspense"),iw=Symbol.for("react.suspense_list"),lw=Symbol.for("react.memo"),cw=Symbol.for("react.lazy"),IAe=Symbol.for("react.offscreen"),az;az=Symbol.for("react.module.reference");function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tE:switch(t=t.type,t){case ew:case rw:case tw:case ow:case iw:return t;default:switch(t=t&&t.$$typeof,t){case AAe:case aw:case sw:case cw:case lw:case nw:return t;default:return e}}case rE:return e}}}pt.ContextConsumer=aw;pt.ContextProvider=nw;pt.Element=tE;pt.ForwardRef=sw;pt.Fragment=ew;pt.Lazy=cw;pt.Memo=lw;pt.Portal=rE;pt.Profiler=rw;pt.StrictMode=tw;pt.Suspense=ow;pt.SuspenseList=iw;pt.isAsyncMode=function(){return!1};pt.isConcurrentMode=function(){return!1};pt.isContextConsumer=function(t){return Zn(t)===aw};pt.isContextProvider=function(t){return Zn(t)===nw};pt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tE};pt.isForwardRef=function(t){return Zn(t)===sw};pt.isFragment=function(t){return Zn(t)===ew};pt.isLazy=function(t){return Zn(t)===cw};pt.isMemo=function(t){return Zn(t)===lw};pt.isPortal=function(t){return Zn(t)===rE};pt.isProfiler=function(t){return Zn(t)===rw};pt.isStrictMode=function(t){return Zn(t)===tw};pt.isSuspense=function(t){return Zn(t)===ow};pt.isSuspenseList=function(t){return Zn(t)===iw};pt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ew||t===rw||t===tw||t===ow||t===iw||t===IAe||typeof t=="object"&&t!==null&&(t.$$typeof===cw||t.$$typeof===lw||t.$$typeof===nw||t.$$typeof===aw||t.$$typeof===sw||t.$$typeof===az||t.getModuleId!==void 0)};pt.typeOf=Zn;nz.exports=pt;var kAe=nz.exports,TAe=qs,DAe=Vs,EAe="[object Number]";function PAe(t){return typeof t=="number"||DAe(t)&&TAe(t)==EAe}var sz=PAe;const OAe=it(sz);var _Ae=sz;function $Ae(t){return _Ae(t)&&t!=+t}var RAe=$Ae;const mh=it(RAe);var Hn=function(e){return e===0?0:e>0?1:-1},Di=function(e){return fh(e)&&e.indexOf("%")===e.length-1},je=function(e){return OAe(e)&&!mh(e)},fr=function(e){return je(e)||fh(e)},MAe=0,uw=function(e){var r=++MAe;return"".concat(e||"").concat(r)},nn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!fh(e))return n;var s;if(Di(e)){var i=e.indexOf("%");s=r*parseFloat(e.slice(0,i))/100}else s=+e;return mh(s)&&(s=n),a&&s>r&&(s=r),s},Fl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},LAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},wR=function(e,r){return je(e)&&je(r)?function(n){return e+n*(r-e)}:function(){return r}};function lI(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ya(n,e))===r})}function cI(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function uI(t){"@babel/helpers - typeof";return uI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uI(t)}var FAe=["viewBox","children"],BAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NR=["points","pathLength"],R1={svg:FAe,polygon:NR,polyline:NR},nE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qx=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),!Cu(n))return null;var a={};return Object.keys(n).forEach(function(s){nE.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},qAe=function(e,r,n){return function(a){return e(r,n,a),null}},dw=function(e,r,n){if(!Cu(e)||uI(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var i=e[s];nE.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=qAe(i,r,n))}),a},VAe=["children"],UAe=["children"];function CR(t,e){if(t==null)return{};var r=zAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var SR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},js=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},AR=null,M1=null,aE=function t(e){if(e===AR&&Array.isArray(M1))return M1;var r=[];return w.Children.forEach(e,function(n){Je(n)||(kAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),M1=r,AR=e,r};function Va(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return js(a)}):n=[js(e)],aE(t).forEach(function(a){var s=ya(a,"type.displayName")||ya(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function qn(t,e){var r=Va(t,e);return r&&r[0]}var IR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!je(n)||n<=0||!je(a)||a<=0)},WAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],HAe=function(e){return e&&e.type&&fh(e.type)&&WAe.indexOf(e.type)>=0},GAe=function(e,r,n,a){var s,i=(s=R1==null?void 0:R1[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!We(e)&&(a&&i.includes(r)||BAe.includes(r))||n&&nE.includes(r)},ze=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(w.isValidElement(e)&&(a=e.props),!Cu(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;GAe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},dI=function t(e,r){if(e===r)return!0;var n=w.Children.count(e);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return kR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!t(s,i))return!1}else if(!kR(s,i))return!1}return!0},kR=function(e,r){if(Je(e)&&Je(r))return!0;if(!Je(e)&&!Je(r)){var n=e.props||{},a=n.children,s=CR(n,VAe),i=r.props||{},l=i.children,c=CR(i,UAe);return a&&l?cI(s,c)&&dI(a,l):!a&&!l?cI(s,c):!1}return!1},TR=function(e,r){var n=[],a={};return aE(e).forEach(function(s,i){if(HAe(s))n.push(s);else if(s){var l=js(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},YAe=function(e){var r=e&&e.type;return r&&SR[r]?SR[r]:null},KAe=function(e,r){return aE(r).indexOf(e)},JAe=["children","width","height","viewBox","className","style","title","desc"];function fI(){return fI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fI.apply(this,arguments)}function XAe(t,e){if(t==null)return{};var r=QAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mI(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,i=t.style,l=t.title,c=t.desc,u=XAe(t,JAe),d=a||{width:r,height:n,x:0,y:0},f=$e("recharts-surface",s);return z.createElement("svg",fI({},ze(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),e)}var ZAe=["children","className"];function hI(){return hI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hI.apply(this,arguments)}function eIe(t,e){if(t==null)return{};var r=tIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Wt=z.forwardRef(function(t,e){var r=t.children,n=t.className,a=eIe(t,ZAe),s=$e("recharts-layer",n);return z.createElement("g",hI({className:s},ze(a,!0),{ref:e}),r)}),ws=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function rIe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(a);++n<a;)s[n]=t[n+e];return s}var nIe=rIe,aIe=nIe;function sIe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:aIe(t,e,r)}var oIe=sIe,iIe="\\ud800-\\udfff",lIe="\\u0300-\\u036f",cIe="\\ufe20-\\ufe2f",uIe="\\u20d0-\\u20ff",dIe=lIe+cIe+uIe,fIe="\\ufe0e\\ufe0f",mIe="\\u200d",hIe=RegExp("["+mIe+iIe+dIe+fIe+"]");function pIe(t){return hIe.test(t)}var oz=pIe;function gIe(t){return t.split("")}var yIe=gIe,iz="\\ud800-\\udfff",bIe="\\u0300-\\u036f",xIe="\\ufe20-\\ufe2f",vIe="\\u20d0-\\u20ff",jIe=bIe+xIe+vIe,wIe="\\ufe0e\\ufe0f",NIe="["+iz+"]",pI="["+jIe+"]",gI="\\ud83c[\\udffb-\\udfff]",CIe="(?:"+pI+"|"+gI+")",lz="[^"+iz+"]",cz="(?:\\ud83c[\\udde6-\\uddff]){2}",uz="[\\ud800-\\udbff][\\udc00-\\udfff]",SIe="\\u200d",dz=CIe+"?",fz="["+wIe+"]?",AIe="(?:"+SIe+"(?:"+[lz,cz,uz].join("|")+")"+fz+dz+")*",IIe=fz+dz+AIe,kIe="(?:"+[lz+pI+"?",pI,cz,uz,NIe].join("|")+")",TIe=RegExp(gI+"(?="+gI+")|"+kIe+IIe,"g");function DIe(t){return t.match(TIe)||[]}var EIe=DIe,PIe=yIe,OIe=oz,_Ie=EIe;function $Ie(t){return OIe(t)?_Ie(t):PIe(t)}var RIe=$Ie,MIe=oIe,LIe=oz,FIe=RIe,BIe=ez;function qIe(t){return function(e){e=BIe(e);var r=LIe(e)?FIe(e):void 0,n=r?r[0]:e.charAt(0),a=r?MIe(r,1).join(""):e.slice(1);return n[t]()+a}}var VIe=qIe,UIe=VIe,zIe=UIe("toUpperCase"),WIe=zIe;const fw=it(WIe);function Nt(t){return function(){return t}}const mz=Math.cos,Zx=Math.sin,wa=Math.sqrt,ev=Math.PI,mw=2*ev,yI=Math.PI,bI=2*yI,bi=1e-6,HIe=bI-bi;function hz(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function GIe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hz;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class YIe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hz:GIe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>bi)if(!(Math.abs(f*c-u*d)>bi)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-i,h=a-l,y=c*c+u*u,g=p*p+h*h,b=Math.sqrt(y),v=Math.sqrt(m),j=s*Math.tan((yI-Math.acos((y+m-g)/(2*b*v)))/2),C=j/v,x=j/b;Math.abs(C-1)>bi&&this._append`L${e+C*d},${r+C*f}`,this._append`A${s},${s},0,0,${+(f*p>d*h)},${this._x1=e+x*c},${this._y1=r+x*u}`}}arc(e,r,n,a,s,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>bi||Math.abs(this._y1-d)>bi)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%bI+bI),m>HIe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>bi&&this._append`A${n},${n},0,${+(m>=yI)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function sE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new YIe(e)}function oE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pz(t){this._context=t}pz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hw(t){return new pz(t)}function gz(t){return t[0]}function yz(t){return t[1]}function bz(t,e){var r=Nt(!0),n=null,a=hw,s=null,i=sE(l);t=typeof t=="function"?t:t===void 0?gz:Nt(t),e=typeof e=="function"?e:e===void 0?yz:Nt(e);function l(c){var u,d=(c=oE(c)).length,f,m=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Nt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Nt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function fp(t,e,r){var n=null,a=Nt(!0),s=null,i=hw,l=null,c=sE(u);t=typeof t=="function"?t:t===void 0?gz:Nt(+t),e=typeof e=="function"?e:Nt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?yz:Nt(+r);function u(f){var m,p,h,y=(f=oE(f)).length,g,b=!1,v,j=new Array(y),C=new Array(y);for(s==null&&(l=i(v=c())),m=0;m<=y;++m){if(!(m<y&&a(g=f[m],m,f))===b)if(b=!b)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=m-1;h>=p;--h)l.point(j[h],C[h]);l.lineEnd(),l.areaEnd()}b&&(j[m]=+t(g,m,f),C[m]=+e(g,m,f),l.point(n?+n(g,m,f):j[m],r?+r(g,m,f):C[m]))}if(v)return l=null,v+""||null}function d(){return bz().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Nt(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class xz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function KIe(t){return new xz(t,!0)}function JIe(t){return new xz(t,!1)}const iE={draw(t,e){const r=wa(e/ev);t.moveTo(r,0),t.arc(0,0,r,0,mw)}},XIe={draw(t,e){const r=wa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},vz=wa(1/3),QIe=vz*2,ZIe={draw(t,e){const r=wa(e/QIe),n=r*vz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},eke={draw(t,e){const r=wa(e),n=-r/2;t.rect(n,n,r,r)}},tke=.8908130915292852,jz=Zx(ev/10)/Zx(7*ev/10),rke=Zx(mw/10)*jz,nke=-mz(mw/10)*jz,ake={draw(t,e){const r=wa(e*tke),n=rke*r,a=nke*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const i=mw*s/5,l=mz(i),c=Zx(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},L1=wa(3),ske={draw(t,e){const r=-wa(e/(L1*3));t.moveTo(0,r*2),t.lineTo(-L1*r,-r),t.lineTo(L1*r,-r),t.closePath()}},Ln=-.5,Fn=wa(3)/2,xI=1/wa(12),oke=(xI/2+1)*3,ike={draw(t,e){const r=wa(e/oke),n=r/2,a=r*xI,s=n,i=r*xI+r,l=-s,c=i;t.moveTo(n,a),t.lineTo(s,i),t.lineTo(l,c),t.lineTo(Ln*n-Fn*a,Fn*n+Ln*a),t.lineTo(Ln*s-Fn*i,Fn*s+Ln*i),t.lineTo(Ln*l-Fn*c,Fn*l+Ln*c),t.lineTo(Ln*n+Fn*a,Ln*a-Fn*n),t.lineTo(Ln*s+Fn*i,Ln*i-Fn*s),t.lineTo(Ln*l+Fn*c,Ln*c-Fn*l),t.closePath()}};function lke(t,e){let r=null,n=sE(a);t=typeof t=="function"?t:Nt(t||iE),e=typeof e=="function"?e:Nt(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Nt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Nt(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function tv(){}function rv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function wz(t){this._context=t}wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cke(t){return new wz(t)}function Nz(t){this._context=t}Nz.prototype={areaStart:tv,areaEnd:tv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uke(t){return new Nz(t)}function Cz(t){this._context=t}Cz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:rv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dke(t){return new Cz(t)}function Sz(t){this._context=t}Sz.prototype={areaStart:tv,areaEnd:tv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fke(t){return new Sz(t)}function DR(t){return t<0?-1:1}function ER(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),i=(r-t._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(DR(s)+DR(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function PR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function F1(t,e,r){var n=t._x0,a=t._y0,s=t._x1,i=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*r,s,i)}function nv(t){this._context=t}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F1(this,this._t0,PR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,F1(this,PR(this,r=ER(this,t,e)),r);break;default:F1(this,this._t0,r=ER(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Az(t){this._context=new Iz(t)}(Az.prototype=Object.create(nv.prototype)).point=function(t,e){nv.prototype.point.call(this,e,t)};function Iz(t){this._context=t}Iz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function mke(t){return new nv(t)}function hke(t){return new Az(t)}function kz(t){this._context=t}kz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=OR(t),a=OR(e),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function OR(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[r-1]=i[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function pke(t){return new kz(t)}function pw(t,e){this._context=t,this._t=e}pw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function gke(t){return new pw(t,.5)}function yke(t){return new pw(t,0)}function bke(t){return new pw(t,1)}function zc(t,e){if((i=t.length)>1)for(var r=1,n,a,s=t[e[0]],i,l=s.length;r<i;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function vI(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function xke(t,e){return t[e]}function vke(t){const e=[];return e.key=t,e}function jke(){var t=Nt([]),e=vI,r=zc,n=xke;function a(s){var i=Array.from(t.apply(this,arguments),vke),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=oE(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Nt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Nt(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?vI:typeof s=="function"?s:Nt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??zc,a):r},a}function wke(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r<n;++r)t[r][a][1]/=i}zc(t,e)}}function Nke(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}zc(t,e)}}function Cke(t,e){if(!(!((i=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,h=0;h<l;++h){var y=t[e[h]],g=y[n][1]||0,b=y[n-1][1]||0;p+=g-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,zc(t,e)}}function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}var Ske=["type","size","sizeType"];function jI(){return jI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jI.apply(this,arguments)}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){Ake(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ake(t,e,r){return e=Ike(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ike(t){var e=kke(t,"string");return rm(e)=="symbol"?e:e+""}function kke(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tke(t,e){if(t==null)return{};var r=Dke(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tz={symbolCircle:iE,symbolCross:XIe,symbolDiamond:ZIe,symbolSquare:eke,symbolStar:ake,symbolTriangle:ske,symbolWye:ike},Eke=Math.PI/180,Pke=function(e){var r="symbol".concat(fw(e));return Tz[r]||iE},Oke=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Eke;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_ke=function(e,r){Tz["symbol".concat(fw(e))]=r},lE=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,i=e.sizeType,l=i===void 0?"area":i,c=Tke(e,Ske),u=$R($R({},c),{},{type:n,size:s,sizeType:l}),d=function(){var g=Pke(n),b=lke().type(g).size(Oke(s,l,n));return b()},f=u.className,m=u.cx,p=u.cy,h=ze(u,!0);return m===+m&&p===+p&&s===+s?z.createElement("path",jI({},h,{className:$e("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};lE.registerSymbol=_ke;function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function wI(){return wI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wI.apply(this,arguments)}function RR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $ke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(r),!0).forEach(function(n){nm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ez(n.key),n)}}function Lke(t,e,r){return e&&Mke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fke(t,e,r){return e=av(e),Bke(t,Dz()?Reflect.construct(e,r||[],av(t).constructor):e.apply(t,r))}function Bke(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qke(t)}function qke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dz=function(){return!!t})()}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},av(t)}function Vke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NI(t,e)}function NI(t,e){return NI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NI(t,e)}function nm(t,e,r){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ez(t){var e=Uke(t,"string");return Wc(e)=="symbol"?e:e+""}function Uke(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bn=32,cE=function(t){function e(){return Rke(this,e),Fke(this,e,arguments)}return Vke(e,t),Lke(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Bn/2,i=Bn/6,l=Bn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Bn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Bn,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Bn/8,"h").concat(Bn,"v").concat(Bn*3/4,"h").concat(-Bn,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var u=$ke({},n);return delete u.legendIcon,z.cloneElement(n.legendIcon,u)}return z.createElement(lE,{fill:c,cx:s,cy:s,size:Bn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Bn,height:Bn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,h){var y=p.formatter||c,g=$e(nm(nm({"recharts-legend-item":!0},"legend-item-".concat(h),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=We(p.value)?null:p.value;ws(!We(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return z.createElement("li",wI({className:g,style:f,key:"legend-item-".concat(h)},dw(n.props,p,h)),z.createElement(mI,{width:i,height:i,viewBox:d,style:m},n.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},y?y(b,p,h):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);nm(cE,"displayName","Legend");nm(cE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zke=Xj;function Wke(){this.__data__=new zke,this.size=0}var Hke=Wke;function Gke(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Yke=Gke;function Kke(t){return this.__data__.get(t)}var Jke=Kke;function Xke(t){return this.__data__.has(t)}var Qke=Xke,Zke=Xj,eTe=JD,tTe=XD,rTe=200;function nTe(t,e){var r=this.__data__;if(r instanceof Zke){var n=r.__data__;if(!eTe||n.length<rTe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new tTe(n)}return r.set(t,e),this.size=r.size,this}var aTe=nTe,sTe=Xj,oTe=Hke,iTe=Yke,lTe=Jke,cTe=Qke,uTe=aTe;function ku(t){var e=this.__data__=new sTe(t);this.size=e.size}ku.prototype.clear=oTe;ku.prototype.delete=iTe;ku.prototype.get=lTe;ku.prototype.has=cTe;ku.prototype.set=uTe;var Pz=ku,dTe="__lodash_hash_undefined__";function fTe(t){return this.__data__.set(t,dTe),this}var mTe=fTe;function hTe(t){return this.__data__.has(t)}var pTe=hTe,gTe=XD,yTe=mTe,bTe=pTe;function sv(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new gTe;++e<r;)this.add(t[e])}sv.prototype.add=sv.prototype.push=yTe;sv.prototype.has=bTe;var Oz=sv;function xTe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var _z=xTe;function vTe(t,e){return t.has(e)}var $z=vTe,jTe=Oz,wTe=_z,NTe=$z,CTe=1,STe=2;function ATe(t,e,r,n,a,s){var i=r&CTe,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,p=r&STe?new jTe:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var h=t[f],y=e[f];if(n)var g=i?n(y,h,f,e,t,s):n(h,y,f,t,e,s);if(g!==void 0){if(g)continue;m=!1;break}if(p){if(!wTe(e,function(b,v){if(!NTe(p,v)&&(h===b||a(h,b,r,n,s)))return p.push(v)})){m=!1;break}}else if(!(h===y||a(h,y,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var Rz=ATe,ITe=Ka,kTe=ITe.Uint8Array,TTe=kTe;function DTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var ETe=DTe;function PTe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var uE=PTe,MR=dh,LR=TTe,OTe=KD,_Te=Rz,$Te=ETe,RTe=uE,MTe=1,LTe=2,FTe="[object Boolean]",BTe="[object Date]",qTe="[object Error]",VTe="[object Map]",UTe="[object Number]",zTe="[object RegExp]",WTe="[object Set]",HTe="[object String]",GTe="[object Symbol]",YTe="[object ArrayBuffer]",KTe="[object DataView]",FR=MR?MR.prototype:void 0,B1=FR?FR.valueOf:void 0;function JTe(t,e,r,n,a,s,i){switch(r){case KTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case YTe:return!(t.byteLength!=e.byteLength||!s(new LR(t),new LR(e)));case FTe:case BTe:case UTe:return OTe(+t,+e);case qTe:return t.name==e.name&&t.message==e.message;case zTe:case HTe:return t==e+"";case VTe:var l=$Te;case WTe:var c=n&MTe;if(l||(l=RTe),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=LTe,i.set(t,e);var d=_Te(l(t),l(e),n,a,s,i);return i.delete(t),d;case GTe:if(B1)return B1.call(t)==B1.call(e)}return!1}var XTe=JTe;function QTe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var Mz=QTe,ZTe=Mz,eDe=pn;function tDe(t,e,r){var n=e(t);return eDe(t)?n:ZTe(n,r(t))}var rDe=tDe;function nDe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}var aDe=nDe;function sDe(){return[]}var oDe=sDe,iDe=aDe,lDe=oDe,cDe=Object.prototype,uDe=cDe.propertyIsEnumerable,BR=Object.getOwnPropertySymbols,dDe=BR?function(t){return t==null?[]:(t=Object(t),iDe(BR(t),function(e){return uDe.call(t,e)}))}:lDe,fDe=dDe;function mDe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var hDe=mDe,pDe=qs,gDe=Vs,yDe="[object Arguments]";function bDe(t){return gDe(t)&&pDe(t)==yDe}var xDe=bDe,qR=xDe,vDe=Vs,Lz=Object.prototype,jDe=Lz.hasOwnProperty,wDe=Lz.propertyIsEnumerable,NDe=qR(function(){return arguments}())?qR:function(t){return vDe(t)&&jDe.call(t,"callee")&&!wDe.call(t,"callee")},dE=NDe,ov={exports:{}};function CDe(){return!1}var SDe=CDe;ov.exports;(function(t,e){var r=Ka,n=SDe,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(ov,ov.exports);var Fz=ov.exports,ADe=9007199254740991,IDe=/^(?:0|[1-9]\d*)$/;function kDe(t,e){var r=typeof t;return e=e??ADe,!!e&&(r=="number"||r!="symbol"&&IDe.test(t))&&t>-1&&t%1==0&&t<e}var fE=kDe,TDe=9007199254740991;function DDe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=TDe}var mE=DDe,EDe=qs,PDe=mE,ODe=Vs,_De="[object Arguments]",$De="[object Array]",RDe="[object Boolean]",MDe="[object Date]",LDe="[object Error]",FDe="[object Function]",BDe="[object Map]",qDe="[object Number]",VDe="[object Object]",UDe="[object RegExp]",zDe="[object Set]",WDe="[object String]",HDe="[object WeakMap]",GDe="[object ArrayBuffer]",YDe="[object DataView]",KDe="[object Float32Array]",JDe="[object Float64Array]",XDe="[object Int8Array]",QDe="[object Int16Array]",ZDe="[object Int32Array]",eEe="[object Uint8Array]",tEe="[object Uint8ClampedArray]",rEe="[object Uint16Array]",nEe="[object Uint32Array]",Tt={};Tt[KDe]=Tt[JDe]=Tt[XDe]=Tt[QDe]=Tt[ZDe]=Tt[eEe]=Tt[tEe]=Tt[rEe]=Tt[nEe]=!0;Tt[_De]=Tt[$De]=Tt[GDe]=Tt[RDe]=Tt[YDe]=Tt[MDe]=Tt[LDe]=Tt[FDe]=Tt[BDe]=Tt[qDe]=Tt[VDe]=Tt[UDe]=Tt[zDe]=Tt[WDe]=Tt[HDe]=!1;function aEe(t){return ODe(t)&&PDe(t.length)&&!!Tt[EDe(t)]}var sEe=aEe;function oEe(t){return function(e){return t(e)}}var Bz=oEe,iv={exports:{}};iv.exports;(function(t,e){var r=YU,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(iv,iv.exports);var iEe=iv.exports,lEe=sEe,cEe=Bz,VR=iEe,UR=VR&&VR.isTypedArray,uEe=UR?cEe(UR):lEe,qz=uEe,dEe=hDe,fEe=dE,mEe=pn,hEe=Fz,pEe=fE,gEe=qz,yEe=Object.prototype,bEe=yEe.hasOwnProperty;function xEe(t,e){var r=mEe(t),n=!r&&fEe(t),a=!r&&!n&&hEe(t),s=!r&&!n&&!a&&gEe(t),i=r||n||a||s,l=i?dEe(t.length,String):[],c=l.length;for(var u in t)(e||bEe.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||pEe(u,c)))&&l.push(u);return l}var vEe=xEe,jEe=Object.prototype;function wEe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||jEe;return t===r}var NEe=wEe;function CEe(t,e){return function(r){return t(e(r))}}var Vz=CEe,SEe=Vz,AEe=SEe(Object.keys,Object),IEe=AEe,kEe=NEe,TEe=IEe,DEe=Object.prototype,EEe=DEe.hasOwnProperty;function PEe(t){if(!kEe(t))return TEe(t);var e=[];for(var r in Object(t))EEe.call(t,r)&&r!="constructor"&&e.push(r);return e}var OEe=PEe,_Ee=YD,$Ee=mE;function REe(t){return t!=null&&$Ee(t.length)&&!_Ee(t)}var gw=REe,MEe=vEe,LEe=OEe,FEe=gw;function BEe(t){return FEe(t)?MEe(t):LEe(t)}var hE=BEe,qEe=rDe,VEe=fDe,UEe=hE;function zEe(t){return qEe(t,UEe,VEe)}var WEe=zEe,zR=WEe,HEe=1,GEe=Object.prototype,YEe=GEe.hasOwnProperty;function KEe(t,e,r,n,a,s){var i=r&HEe,l=zR(t),c=l.length,u=zR(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:YEe.call(e,m)))return!1}var p=s.get(t),h=s.get(e);if(p&&h)return p==e&&h==t;var y=!0;s.set(t,e),s.set(e,t);for(var g=i;++f<c;){m=l[f];var b=t[m],v=e[m];if(n)var j=i?n(v,b,m,e,t,s):n(b,v,m,t,e,s);if(!(j===void 0?b===v||a(b,v,r,n,s):j)){y=!1;break}g||(g=m=="constructor")}if(y&&!g){var C=t.constructor,x=e.constructor;C!=x&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof x=="function"&&x instanceof x)&&(y=!1)}return s.delete(t),s.delete(e),y}var JEe=KEe,XEe=Cl,QEe=Ka,ZEe=XEe(QEe,"DataView"),e2e=ZEe,t2e=Cl,r2e=Ka,n2e=t2e(r2e,"Promise"),a2e=n2e,s2e=Cl,o2e=Ka,i2e=s2e(o2e,"Set"),Uz=i2e,l2e=Cl,c2e=Ka,u2e=l2e(c2e,"WeakMap"),d2e=u2e,CI=e2e,SI=JD,AI=a2e,II=Uz,kI=d2e,zz=qs,Tu=JU,WR="[object Map]",f2e="[object Object]",HR="[object Promise]",GR="[object Set]",YR="[object WeakMap]",KR="[object DataView]",m2e=Tu(CI),h2e=Tu(SI),p2e=Tu(AI),g2e=Tu(II),y2e=Tu(kI),xi=zz;(CI&&xi(new CI(new ArrayBuffer(1)))!=KR||SI&&xi(new SI)!=WR||AI&&xi(AI.resolve())!=HR||II&&xi(new II)!=GR||kI&&xi(new kI)!=YR)&&(xi=function(t){var e=zz(t),r=e==f2e?t.constructor:void 0,n=r?Tu(r):"";if(n)switch(n){case m2e:return KR;case h2e:return WR;case p2e:return HR;case g2e:return GR;case y2e:return YR}return e});var b2e=xi,q1=Pz,x2e=Rz,v2e=XTe,j2e=JEe,JR=b2e,XR=pn,QR=Fz,w2e=qz,N2e=1,ZR="[object Arguments]",eM="[object Array]",mp="[object Object]",C2e=Object.prototype,tM=C2e.hasOwnProperty;function S2e(t,e,r,n,a,s){var i=XR(t),l=XR(e),c=i?eM:JR(t),u=l?eM:JR(e);c=c==ZR?mp:c,u=u==ZR?mp:u;var d=c==mp,f=u==mp,m=c==u;if(m&&QR(t)){if(!QR(e))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new q1),i||w2e(t)?x2e(t,e,r,n,a,s):v2e(t,e,c,r,n,a,s);if(!(r&N2e)){var p=d&&tM.call(t,"__wrapped__"),h=f&&tM.call(e,"__wrapped__");if(p||h){var y=p?t.value():t,g=h?e.value():e;return s||(s=new q1),a(y,g,r,n,s)}}return m?(s||(s=new q1),j2e(t,e,r,n,a,s)):!1}var A2e=S2e,I2e=A2e,rM=Vs;function Wz(t,e,r,n,a){return t===e?!0:t==null||e==null||!rM(t)&&!rM(e)?t!==t&&e!==e:I2e(t,e,r,n,Wz,a)}var pE=Wz,k2e=Pz,T2e=pE,D2e=1,E2e=2;function P2e(t,e,r,n){var a=r.length,s=a,i=!n;if(t==null)return!s;for(t=Object(t);a--;){var l=r[a];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){l=r[a];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new k2e;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?T2e(d,u,D2e|E2e,n,f):m))return!1}}return!0}var O2e=P2e,_2e=Xo;function $2e(t){return t===t&&!_2e(t)}var Hz=$2e,R2e=Hz,M2e=hE;function L2e(t){for(var e=M2e(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,R2e(a)]}return e}var F2e=L2e;function B2e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Gz=B2e,q2e=O2e,V2e=F2e,U2e=Gz;function z2e(t){var e=V2e(t);return e.length==1&&e[0][2]?U2e(e[0][0],e[0][1]):function(r){return r===t||q2e(r,t,e)}}var W2e=z2e;function H2e(t,e){return t!=null&&e in Object(t)}var G2e=H2e,Y2e=tz,K2e=dE,J2e=pn,X2e=fE,Q2e=mE,Z2e=Zj;function ePe(t,e,r){e=Y2e(e,t);for(var n=-1,a=e.length,s=!1;++n<a;){var i=Z2e(e[n]);if(!(s=t!=null&&r(t,i)))break;t=t[i]}return s||++n!=a?s:(a=t==null?0:t.length,!!a&&Q2e(a)&&X2e(i,a)&&(J2e(t)||K2e(t)))}var tPe=ePe,rPe=G2e,nPe=tPe;function aPe(t,e){return t!=null&&nPe(t,e,rPe)}var sPe=aPe,oPe=pE,iPe=rz,lPe=sPe,cPe=GD,uPe=Hz,dPe=Gz,fPe=Zj,mPe=1,hPe=2;function pPe(t,e){return cPe(t)&&uPe(e)?dPe(fPe(t),e):function(r){var n=iPe(r,t);return n===void 0&&n===e?lPe(r,t):oPe(e,n,mPe|hPe)}}var gPe=pPe;function yPe(t){return t}var Du=yPe;function bPe(t){return function(e){return e==null?void 0:e[t]}}var xPe=bPe,vPe=eE;function jPe(t){return function(e){return vPe(e,t)}}var wPe=jPe,NPe=xPe,CPe=wPe,SPe=GD,APe=Zj;function IPe(t){return SPe(t)?NPe(APe(t)):CPe(t)}var kPe=IPe,TPe=W2e,DPe=gPe,EPe=Du,PPe=pn,OPe=kPe;function _Pe(t){return typeof t=="function"?t:t==null?EPe:typeof t=="object"?PPe(t)?DPe(t[0],t[1]):TPe(t):OPe(t)}var Qo=_Pe;function $Pe(t,e,r,n){for(var a=t.length,s=r+(n?1:-1);n?s--:++s<a;)if(e(t[s],s,t))return s;return-1}var RPe=$Pe;function MPe(t){return t!==t}var LPe=MPe;function FPe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var BPe=FPe,qPe=RPe,VPe=LPe,UPe=BPe;function zPe(t,e,r){return e===e?UPe(t,e,r):qPe(t,VPe,r)}var WPe=zPe,HPe=WPe;function GPe(t,e){var r=t==null?0:t.length;return!!r&&HPe(t,e,0)>-1}var YPe=GPe;function KPe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var JPe=KPe;function XPe(){}var QPe=XPe,V1=Uz,ZPe=QPe,eOe=uE,tOe=1/0,rOe=V1&&1/eOe(new V1([,-0]))[1]==tOe?function(t){return new V1(t)}:ZPe,nOe=rOe,aOe=Oz,sOe=YPe,oOe=JPe,iOe=$z,lOe=nOe,cOe=uE,uOe=200;function dOe(t,e,r){var n=-1,a=sOe,s=t.length,i=!0,l=[],c=l;if(r)i=!1,a=oOe;else if(s>=uOe){var u=e?null:lOe(t);if(u)return cOe(u);i=!1,a=iOe,c=new aOe}else c=e?[]:l;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var fOe=dOe,mOe=Qo,hOe=fOe;function pOe(t,e){return t&&t.length?hOe(t,mOe(e)):[]}var gOe=pOe;const nM=it(gOe);function Yz(t,e,r){return e===!0?nM(t,r):We(e)?nM(t,e):t}function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}var yOe=["ref"];function aM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(r),!0).forEach(function(n){yw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jz(n.key),n)}}function xOe(t,e,r){return e&&sM(t.prototype,e),r&&sM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vOe(t,e,r){return e=lv(e),jOe(t,Kz()?Reflect.construct(e,r||[],lv(t).constructor):e.apply(t,r))}function jOe(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wOe(t)}function wOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kz=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(t)}function NOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TI(t,e)}function TI(t,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TI(t,e)}function yw(t,e,r){return e=Jz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jz(t){var e=COe(t,"string");return Hc(e)=="symbol"?e:e+""}function COe(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function SOe(t,e){if(t==null)return{};var r=AOe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IOe(t){return t.value}function kOe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=SOe(e,yOe);return z.createElement(cE,r)}var oM=1,Ua=function(t){function e(){var r;bOe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=vOe(this,e,[].concat(a)),yw(r,"lastBoundingBox",{width:-1,height:-1}),r}return NOe(e,t),xOe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>oM||Math.abs(a.height-this.lastBoundingBox.height)>oM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Za({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var h=this.getBBoxSnapshot();m={top:((d||0)-h.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Za(Za({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Za(Za({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},kOe(s,Za(Za({},this.props),{},{payload:Yz(d,u,IOe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Za(Za({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&je(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);yw(Ua,"displayName","Legend");yw(Ua,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iM=dh,TOe=dE,DOe=pn,lM=iM?iM.isConcatSpreadable:void 0;function EOe(t){return DOe(t)||TOe(t)||!!(lM&&t&&t[lM])}var POe=EOe,OOe=Mz,_Oe=POe;function Xz(t,e,r,n,a){var s=-1,i=t.length;for(r||(r=_Oe),a||(a=[]);++s<i;){var l=t[s];e>0&&r(l)?e>1?Xz(l,e-1,r,n,a):OOe(a,l):n||(a[a.length]=l)}return a}var Qz=Xz;function $Oe(t){return function(e,r,n){for(var a=-1,s=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++a];if(r(s[c],c,s)===!1)break}return e}}var ROe=$Oe,MOe=ROe,LOe=MOe(),FOe=LOe,BOe=FOe,qOe=hE;function VOe(t,e){return t&&BOe(t,e,qOe)}var Zz=VOe,UOe=gw;function zOe(t,e){return function(r,n){if(r==null)return r;if(!UOe(r))return t(r,n);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var WOe=zOe,HOe=Zz,GOe=WOe,YOe=GOe(HOe),gE=YOe,KOe=gE,JOe=gw;function XOe(t,e){var r=-1,n=JOe(t)?Array(t.length):[];return KOe(t,function(a,s,i){n[++r]=e(a,s,i)}),n}var e7=XOe;function QOe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var ZOe=QOe,cM=Nu;function e_e(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,s=cM(t),i=e!==void 0,l=e===null,c=e===e,u=cM(e);if(!l&&!u&&!s&&t>e||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&t<e||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var t_e=e_e,r_e=t_e;function n_e(t,e,r){for(var n=-1,a=t.criteria,s=e.criteria,i=a.length,l=r.length;++n<i;){var c=r_e(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var a_e=n_e,U1=ZD,s_e=eE,o_e=Qo,i_e=e7,l_e=ZOe,c_e=Bz,u_e=a_e,d_e=Du,f_e=pn;function m_e(t,e,r){e.length?e=U1(e,function(s){return f_e(s)?function(i){return s_e(i,s.length===1?s[0]:s)}:s}):e=[d_e];var n=-1;e=U1(e,c_e(o_e));var a=i_e(t,function(s,i,l){var c=U1(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return l_e(a,function(s,i){return u_e(s,i,r)})}var h_e=m_e;function p_e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var g_e=p_e,y_e=g_e,uM=Math.max;function b_e(t,e,r){return e=uM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=uM(n.length-e,0),i=Array(s);++a<s;)i[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(i),y_e(t,this,l)}}var x_e=b_e;function v_e(t){return function(){return t}}var j_e=v_e,w_e=Cl,N_e=function(){try{var t=w_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),t7=N_e,C_e=j_e,dM=t7,S_e=Du,A_e=dM?function(t,e){return dM(t,"toString",{configurable:!0,enumerable:!1,value:C_e(e),writable:!0})}:S_e,I_e=A_e,k_e=800,T_e=16,D_e=Date.now;function E_e(t){var e=0,r=0;return function(){var n=D_e(),a=T_e-(n-r);if(r=n,a>0){if(++e>=k_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var P_e=E_e,O_e=I_e,__e=P_e,$_e=__e(O_e),R_e=$_e,M_e=Du,L_e=x_e,F_e=R_e;function B_e(t,e){return F_e(L_e(t,e,M_e),t+"")}var q_e=B_e,V_e=KD,U_e=gw,z_e=fE,W_e=Xo;function H_e(t,e,r){if(!W_e(r))return!1;var n=typeof e;return(n=="number"?U_e(r)&&z_e(e,r.length):n=="string"&&e in r)?V_e(r[e],t):!1}var bw=H_e,G_e=Qz,Y_e=h_e,K_e=q_e,fM=bw,J_e=K_e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&fM(t,e[0],e[1])?e=[]:r>2&&fM(e[0],e[1],e[2])&&(e=[e[0]]),Y_e(t,G_e(e,1),[])}),X_e=J_e;const yE=it(X_e);function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function DI(){return DI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DI.apply(this,arguments)}function Q_e(t,e){return r$e(t)||t$e(t,e)||e$e(t,e)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$e(t,e){if(t){if(typeof t=="string")return mM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mM(t,e)}}function mM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function r$e(t){if(Array.isArray(t))return t}function hM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function z1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(r),!0).forEach(function(n){n$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n$e(t,e,r){return e=a$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a$e(t){var e=s$e(t,"string");return am(e)=="symbol"?e:e+""}function s$e(t,e){if(am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o$e(t){return Array.isArray(t)&&fr(t[0])&&fr(t[1])?t.join(" ~ "):t}var i$e=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,y=e.label,g=e.labelFormatter,b=e.accessibilityLayer,v=b===void 0?!1:b,j=function(){if(d&&d.length){var _={padding:0,margin:0},M=(m?yE(d,m):d).map(function(P,O){if(P.type==="none")return null;var L=z1({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},l),V=P.formatter||f||o$e,$=P.value,R=P.name,W=$,Z=R;if(V&&W!=null&&Z!=null){var G=V($,R,P,O,d);if(Array.isArray(G)){var U=Q_e(G,2);W=U[0],Z=U[1]}else W=G}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:L},fr(Z)?z.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,fr(Z)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},W),z.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:_},M)}return null},C=z1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),x=z1({margin:0},u),N=!Je(y),S=N?y:"",A=$e("recharts-default-tooltip",p),I=$e("recharts-tooltip-label",h);N&&g&&d!==void 0&&d!==null&&(S=g(y,d));var k=v?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",DI({className:A,style:C},k),z.createElement("p",{className:I,style:x},z.isValidElement(S)?S:"".concat(S)),j())};function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function hp(t,e,r){return e=l$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l$e(t){var e=c$e(t,"string");return sm(e)=="symbol"?e:e+""}function c$e(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sd="recharts-tooltip-wrapper",u$e={visibility:"hidden"};function d$e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return $e(sd,hp(hp(hp(hp({},"".concat(sd,"-right"),je(r)&&e&&je(e.x)&&r>=e.x),"".concat(sd,"-left"),je(r)&&e&&je(e.x)&&r<e.x),"".concat(sd,"-bottom"),je(n)&&e&&je(e.y)&&n>=e.y),"".concat(sd,"-top"),je(n)&&e&&je(e.y)&&n<e.y))}function pM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&je(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return i[n]?d:f;if(i[n]){var m=d,p=c[n];return m<p?Math.max(f,c[n]):Math.max(d,c[n])}var h=f+l,y=c[n]+u;return h>y?Math.max(d,c[n]):Math.max(f,c[n])}function f$e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function m$e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=pM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=pM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=f$e({translateX:d,translateY:f,useTranslate3d:l})):u=u$e,{cssProperties:u,cssClasses:d$e({translateX:d,translateY:f,coordinate:r})}}function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function gM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(r),!0).forEach(function(n){PI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n7(n.key),n)}}function g$e(t,e,r){return e&&p$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y$e(t,e,r){return e=cv(e),b$e(t,r7()?Reflect.construct(e,r||[],cv(t).constructor):e.apply(t,r))}function b$e(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x$e(t)}function x$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r7=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cv(t)}function v$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EI(t,e)}function EI(t,e){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EI(t,e)}function PI(t,e,r){return e=n7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n7(t){var e=j$e(t,"string");return Gc(e)=="symbol"?e:e+""}function j$e(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bM=1,w$e=function(t){function e(){var r;h$e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=y$e(this,e,[].concat(a)),PI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),PI(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return v$e(e,t),g$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>bM||Math.abs(n.height-this.state.lastBoundingBox.height)>bM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,p=a.offset,h=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,v=a.wrapperStyle,j=m$e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:h,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),C=j.cssClasses,x=j.cssProperties,N=yM(yM({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return z.createElement("div",{tabIndex:-1,className:C,style:N,ref:function(A){n.wrapperNode=A}},u)}}])}(w.PureComponent),N$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xw={isSsr:N$e()};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function xM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(r),!0).forEach(function(n){bE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s7(n.key),n)}}function A$e(t,e,r){return e&&S$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I$e(t,e,r){return e=uv(e),k$e(t,a7()?Reflect.construct(e,r||[],uv(t).constructor):e.apply(t,r))}function k$e(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T$e(t)}function T$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a7=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uv(t)}function D$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OI(t,e)}function OI(t,e){return OI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OI(t,e)}function bE(t,e,r){return e=s7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s7(t){var e=E$e(t,"string");return Yc(e)=="symbol"?e:e+""}function E$e(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function P$e(t){return t.dataKey}function O$e(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(i$e,e)}var ns=function(t){function e(){return C$e(this,e),I$e(this,e,arguments)}return D$e(e,t),A$e(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,p=a.offset,h=a.payload,y=a.payloadUniqBy,g=a.position,b=a.reverseDirection,v=a.useTranslate3d,j=a.viewBox,C=a.wrapperStyle,x=h??[];f&&x.length&&(x=Yz(h.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,P$e));var N=x.length>0;return z.createElement(w$e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:N,offset:p,position:g,reverseDirection:b,useTranslate3d:v,viewBox:j,wrapperStyle:C},O$e(u,vM(vM({},this.props),{},{payload:x})))}}])}(w.PureComponent);bE(ns,"displayName","Tooltip");bE(ns,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _$e=Ka,$$e=function(){return _$e.Date.now()},R$e=$$e,M$e=/\s/;function L$e(t){for(var e=t.length;e--&&M$e.test(t.charAt(e)););return e}var F$e=L$e,B$e=F$e,q$e=/^\s+/;function V$e(t){return t&&t.slice(0,B$e(t)+1).replace(q$e,"")}var U$e=V$e,z$e=U$e,jM=Xo,W$e=Nu,wM=NaN,H$e=/^[-+]0x[0-9a-f]+$/i,G$e=/^0b[01]+$/i,Y$e=/^0o[0-7]+$/i,K$e=parseInt;function J$e(t){if(typeof t=="number")return t;if(W$e(t))return wM;if(jM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=z$e(t);var r=G$e.test(t);return r||Y$e.test(t)?K$e(t.slice(2),r?2:8):H$e.test(t)?wM:+t}var o7=J$e,X$e=Xo,W1=R$e,NM=o7,Q$e="Expected a function",Z$e=Math.max,eRe=Math.min;function tRe(t,e,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(Q$e);e=NM(e)||0,X$e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?Z$e(NM(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function p(N){var S=n,A=a;return n=a=void 0,u=N,i=t.apply(A,S),i}function h(N){return u=N,l=setTimeout(b,e),d?p(N):i}function y(N){var S=N-c,A=N-u,I=e-S;return f?eRe(I,s-A):I}function g(N){var S=N-c,A=N-u;return c===void 0||S>=e||S<0||f&&A>=s}function b(){var N=W1();if(g(N))return v(N);l=setTimeout(b,y(N))}function v(N){return l=void 0,m&&n?p(N):(n=a=void 0,i)}function j(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function C(){return l===void 0?i:v(W1())}function x(){var N=W1(),S=g(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return h(c);if(f)return clearTimeout(l),l=setTimeout(b,e),p(c)}return l===void 0&&(l=setTimeout(b,e)),i}return x.cancel=j,x.flush=C,x}var rRe=tRe,nRe=rRe,aRe=Xo,sRe="Expected a function";function oRe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(sRe);return aRe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),nRe(t,e,{leading:n,maxWait:e,trailing:a})}var iRe=oRe;const i7=it(iRe);function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function CM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(r),!0).forEach(function(n){lRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lRe(t,e,r){return e=cRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cRe(t){var e=uRe(t,"string");return om(e)=="symbol"?e:e+""}function uRe(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dRe(t,e){return pRe(t)||hRe(t,e)||mRe(t,e)||fRe()}function fRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mRe(t,e){if(t){if(typeof t=="string")return SM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SM(t,e)}}function SM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function pRe(t){if(Array.isArray(t))return t}var vw=w.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,i=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,p=t.children,h=t.debounce,y=h===void 0?0:h,g=t.id,b=t.className,v=t.onResize,j=t.style,C=j===void 0?{}:j,x=w.useRef(null),N=w.useRef();N.current=v,w.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var S=w.useState({containerWidth:a.width,containerHeight:a.height}),A=dRe(S,2),I=A[0],k=A[1],D=w.useCallback(function(M,P){k(function(O){var L=Math.round(M),V=Math.round(P);return O.containerWidth===L&&O.containerHeight===V?O:{containerWidth:L,containerHeight:V}})},[]);w.useEffect(function(){var M=function(R){var W,Z=R[0].contentRect,G=Z.width,U=Z.height;D(G,U),(W=N.current)===null||W===void 0||W.call(N,G,U)};y>0&&(M=i7(M,y,{trailing:!0,leading:!1}));var P=new ResizeObserver(M),O=x.current.getBoundingClientRect(),L=O.width,V=O.height;return D(L,V),P.observe(x.current),function(){P.disconnect()}},[D,y]);var _=w.useMemo(function(){var M=I.containerWidth,P=I.containerHeight;if(M<0||P<0)return null;ws(Di(i)||Di(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),ws(!r||r>0,"The aspect(%s) must be greater than zero.",r);var O=Di(i)?M:i,L=Di(c)?P:c;r&&r>0&&(O?L=O/r:L&&(O=L*r),m&&L>m&&(L=m)),ws(O>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,L,i,c,d,f,r);var V=!Array.isArray(p)&&js(p.type).endsWith("Chart");return z.Children.map(p,function($){return z.isValidElement($)?w.cloneElement($,pp({width:O,height:L},V?{style:pp({height:"100%",width:"100%",maxHeight:L,maxWidth:O},$.props.style)}:{})):$})},[r,p,c,m,f,d,I,i]);return z.createElement("div",{id:g?"".concat(g):void 0,className:$e("recharts-responsive-container",b),style:pp(pp({},C),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:x},_)}),Eu=function(e){return null};Eu.displayName="Cell";function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function AM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _I(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(r),!0).forEach(function(n){gRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gRe(t,e,r){return e=yRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yRe(t){var e=bRe(t,"string");return im(e)=="symbol"?e:e+""}function bRe(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ml={widthCache:{},cacheCount:0},xRe=2e3,vRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IM="recharts_measurement_span";function jRe(t){var e=_I({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var kM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xw.isSsr)return{width:0,height:0};var n=jRe(r),a=JSON.stringify({text:e,copyStyle:n});if(Ml.widthCache[a])return Ml.widthCache[a];try{var s=document.getElementById(IM);s||(s=document.createElement("span"),s.setAttribute("id",IM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=_I(_I({},vRe),n);Object.assign(s.style,i),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Ml.widthCache[a]=c,++Ml.cacheCount>xRe&&(Ml.cacheCount=0,Ml.widthCache={}),c}catch{return{width:0,height:0}}},wRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function dv(t,e){return ARe(t)||SRe(t,e)||CRe(t,e)||NRe()}function NRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CRe(t,e){if(t){if(typeof t=="string")return TM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TM(t,e)}}function TM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function ARe(t){if(Array.isArray(t))return t}function IRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TRe(n.key),n)}}function kRe(t,e,r){return e&&DM(t.prototype,e),r&&DM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TRe(t){var e=DRe(t,"string");return lm(e)=="symbol"?e:e+""}function DRe(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ERe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,l7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ORe=Object.keys(l7),ec="NaN";function _Re(t,e){return t*l7[e]}var gp=function(){function t(e,r){IRe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!ERe.test(r)&&(this.num=NaN,this.unit=""),ORe.includes(r)&&(this.num=_Re(e,r),this.unit="px")}return kRe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=PRe.exec(r))!==null&&n!==void 0?n:[],s=dv(a,3),i=s[1],l=s[2];return new t(parseFloat(i),l??"")}}])}();function c7(t){if(t.includes(ec))return ec;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=EM.exec(e))!==null&&r!==void 0?r:[],a=dv(n,4),s=a[1],i=a[2],l=a[3],c=gp.parse(s??""),u=gp.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ec;e=e.replace(EM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=PM.exec(e))!==null&&f!==void 0?f:[],p=dv(m,4),h=p[1],y=p[2],g=p[3],b=gp.parse(h??""),v=gp.parse(g??""),j=y==="+"?b.add(v):b.subtract(v);if(j.isNaN())return ec;e=e.replace(PM,j.toString())}return e}var OM=/\(([^()]*)\)/;function $Re(t){for(var e=t;e.includes("(");){var r=OM.exec(e),n=dv(r,2),a=n[1];e=e.replace(OM,c7(a))}return e}function RRe(t){var e=t.replace(/\s+/g,"");return e=$Re(e),e=c7(e),e}function MRe(t){try{return RRe(t)}catch{return ec}}function H1(t){var e=MRe(t.slice(5,-1));return e===ec?"":e}var LRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],FRe=["dx","dy","angle","className","breakAll"];function $I(){return $I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$I.apply(this,arguments)}function _M(t,e){if(t==null)return{};var r=BRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $M(t,e){return zRe(t)||URe(t,e)||VRe(t,e)||qRe()}function qRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VRe(t,e){if(t){if(typeof t=="string")return RM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RM(t,e)}}function RM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function URe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function zRe(t){if(Array.isArray(t))return t}var u7=/[ \f\n\r\t\v\u2028\u2029]+/,d7=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Je(r)||(n?s=r.toString().split(""):s=r.toString().split(u7));var i=s.map(function(c){return{word:c,width:kM(c,a).width}}),l=n?0:kM("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},WRe=function(e,r,n,a,s){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=je(i),f=l,m=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce(function(L,V){var $=V.word,R=V.width,W=L[L.length-1];if(W&&(a==null||s||W.width+R+n<Number(a)))W.words.push($),W.width+=R+n;else{var Z={words:[$],width:R};L.push(Z)}return L},[])},p=m(r),h=function(O){return O.reduce(function(L,V){return L.width>V.width?L:V})};if(!d)return p;for(var y="",g=function(O){var L=f.slice(0,O),V=d7({breakAll:u,style:c,children:L+y}).wordsWithComputedWidth,$=m(V),R=$.length>i||h($).width>Number(a);return[R,$]},b=0,v=f.length-1,j=0,C;b<=v&&j<=f.length-1;){var x=Math.floor((b+v)/2),N=x-1,S=g(N),A=$M(S,2),I=A[0],k=A[1],D=g(x),_=$M(D,1),M=_[0];if(!I&&!M&&(b=x+1),I&&M&&(v=x-1),!I&&M){C=k;break}j++}return C||p},MM=function(e){var r=Je(e)?[]:e.toString().split(u7);return[{words:r}]},HRe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!xw.isSsr){var c,u,d=d7({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return MM(a);return WRe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return MM(a)},LM="#808080",Kc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,p=m===void 0?"start":m,h=e.verticalAnchor,y=h===void 0?"end":h,g=e.fill,b=g===void 0?LM:g,v=_M(e,LRe),j=w.useMemo(function(){return HRe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),C=v.dx,x=v.dy,N=v.angle,S=v.className,A=v.breakAll,I=_M(v,FRe);if(!fr(n)||!fr(s))return null;var k=n+(je(C)?C:0),D=s+(je(x)?x:0),_;switch(y){case"start":_=H1("calc(".concat(u,")"));break;case"middle":_=H1("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:_=H1("calc(".concat(j.length-1," * -").concat(l,")"));break}var M=[];if(f){var P=j[0].width,O=v.width;M.push("scale(".concat((je(O)?O/P:1)/P,")"))}return N&&M.push("rotate(".concat(N,", ").concat(k,", ").concat(D,")")),M.length&&(I.transform=M.join(" ")),z.createElement("text",$I({},ze(I,!0),{x:k,y:D,className:$e("recharts-text",S),textAnchor:p,fill:b.includes("url")?LM:b}),j.map(function(L,V){var $=L.words.join(A?"":" ");return z.createElement("tspan",{x:k,dy:V===0?_:l,key:"".concat($,"-").concat(V)},$)}))};function Eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GRe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xE(t){let e,r,n;t.length!==2?(e=Eo,r=(l,c)=>Eo(t(l),c),n=(l,c)=>t(l)-c):(e=t===Eo||t===GRe?t:YRe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function YRe(){return 0}function f7(t){return t===null?NaN:+t}function*KRe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const JRe=xE(Eo),hh=JRe.right;xE(f7).center;class FM extends Map{constructor(e,r=ZRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(BM(this,e))}has(e){return super.has(BM(this,e))}set(e,r){return super.set(XRe(this,e),r)}delete(e){return super.delete(QRe(this,e))}}function BM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function XRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function QRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function ZRe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function eMe(t=Eo){if(t===Eo)return m7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function m7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tMe=Math.sqrt(50),rMe=Math.sqrt(10),nMe=Math.sqrt(2);function fv(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=tMe?10:s>=rMe?5:s>=nMe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?fv(t,e,r*2):[l,c,u]}function RI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,i]=n?fv(e,t,r):fv(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function MI(t,e,r){return e=+e,t=+t,r=+r,fv(t,e,r)[2]}function LI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?MI(e,t,r):MI(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function qM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function VM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function h7(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?m7:eMe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/c+m)),h=Math.min(n,Math.floor(e+(c-u)*f/c+m));h7(t,e,p,h,a)}const s=t[e];let i=r,l=n;for(od(t,r,e),a(t[n],s)>0&&od(t,r,n);i<l;){for(od(t,i,l),++i,--l;a(t[i],s)<0;)++i;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?od(t,r,l):(++l,od(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function od(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function aMe(t,e,r){if(t=Float64Array.from(KRe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return VM(t);if(e>=1)return qM(t);var n,a=(n-1)*e,s=Math.floor(a),i=qM(h7(t,s).subarray(0,s+1)),l=VM(t.subarray(s+1));return i+(l-i)*(a-s)}}function sMe(t,e,r=f7){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),i=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return i+(l-i)*(a-s)}}function oMe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function ea(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Us(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const FI=Symbol("implicit");function vE(){var t=new FM,e=[],r=[],n=FI;function a(s){let i=t.get(s);if(i===void 0){if(n!==FI)return n;t.set(s,i=e.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new FM;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return vE(e,r).unknown(n)},ea.apply(a,arguments),a}function cm(){var t=vE().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,p=a<n,h=p?a:n,y=p?n:a;s=(y-h)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),h+=(y-h-s*(m-c))*d,i=s*(1-c),l&&(h=Math.round(h),i=Math.round(i));var g=oMe(m).map(function(b){return h+s*b});return r(p?g.reverse():g)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return cm(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ea.apply(f(),arguments)}function p7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return p7(e())},t}function cf(){return p7(cm.apply(null,arguments).paddingInner(1))}function jE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function g7(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ph(){}var um=.7,mv=1/um,Ac="\\s*([+-]?\\d+)\\s*",dm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iMe=/^#([0-9a-f]{3,8})$/,lMe=new RegExp(`^rgb\\(${Ac},${Ac},${Ac}\\)$`),cMe=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),uMe=new RegExp(`^rgba\\(${Ac},${Ac},${Ac},${dm}\\)$`),dMe=new RegExp(`^rgba\\(${za},${za},${za},${dm}\\)$`),fMe=new RegExp(`^hsl\\(${dm},${za},${za}\\)$`),mMe=new RegExp(`^hsla\\(${dm},${za},${za},${dm}\\)$`),UM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jE(ph,fm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zM,formatHex:zM,formatHex8:hMe,formatHsl:pMe,formatRgb:WM,toString:WM});function zM(){return this.rgb().formatHex()}function hMe(){return this.rgb().formatHex8()}function pMe(){return y7(this).formatHsl()}function WM(){return this.rgb().formatRgb()}function fm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=iMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?HM(e):r===3?new an(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?yp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?yp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lMe.exec(t))?new an(e[1],e[2],e[3],1):(e=cMe.exec(t))?new an(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uMe.exec(t))?yp(e[1],e[2],e[3],e[4]):(e=dMe.exec(t))?yp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fMe.exec(t))?KM(e[1],e[2]/100,e[3]/100,1):(e=mMe.exec(t))?KM(e[1],e[2]/100,e[3]/100,e[4]):UM.hasOwnProperty(t)?HM(UM[t]):t==="transparent"?new an(NaN,NaN,NaN,0):null}function HM(t){return new an(t>>16&255,t>>8&255,t&255,1)}function yp(t,e,r,n){return n<=0&&(t=e=r=NaN),new an(t,e,r,n)}function gMe(t){return t instanceof ph||(t=fm(t)),t?(t=t.rgb(),new an(t.r,t.g,t.b,t.opacity)):new an}function BI(t,e,r,n){return arguments.length===1?gMe(t):new an(t,e,r,n??1)}function an(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}jE(an,BI,g7(ph,{brighter(t){return t=t==null?mv:Math.pow(mv,t),new an(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?um:Math.pow(um,t),new an(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new an(Ki(this.r),Ki(this.g),Ki(this.b),hv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GM,formatHex:GM,formatHex8:yMe,formatRgb:YM,toString:YM}));function GM(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}`}function yMe(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}${Ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function YM(){const t=hv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ki(this.r)}, ${Ki(this.g)}, ${Ki(this.b)}${t===1?")":`, ${t})`}`}function hv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ki(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ei(t){return t=Ki(t),(t<16?"0":"")+t.toString(16)}function KM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ca(t,e,r,n)}function y7(t){if(t instanceof ca)return new ca(t.h,t.s,t.l,t.opacity);if(t instanceof ph||(t=fm(t)),!t)return new ca;if(t instanceof ca)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new ca(i,l,c,t.opacity)}function bMe(t,e,r,n){return arguments.length===1?y7(t):new ca(t,e,r,n??1)}function ca(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}jE(ca,bMe,g7(ph,{brighter(t){return t=t==null?mv:Math.pow(mv,t),new ca(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?um:Math.pow(um,t),new ca(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new an(G1(t>=240?t-240:t+120,a,n),G1(t,a,n),G1(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ca(JM(this.h),bp(this.s),bp(this.l),hv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hv(this.opacity);return`${t===1?"hsl(":"hsla("}${JM(this.h)}, ${bp(this.s)*100}%, ${bp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JM(t){return t=(t||0)%360,t<0?t+360:t}function bp(t){return Math.max(0,Math.min(1,t||0))}function G1(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const wE=t=>()=>t;function xMe(t,e){return function(r){return t+r*e}}function vMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function jMe(t){return(t=+t)==1?b7:function(e,r){return r-e?vMe(e,r,t):wE(isNaN(e)?r:e)}}function b7(t,e){var r=e-t;return r?xMe(t,r):wE(isNaN(t)?e:t)}const XM=function t(e){var r=jMe(e);function n(a,s){var i=r((a=BI(a)).r,(s=BI(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=b7(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function wMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function NMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function CMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Pu(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function SMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function pv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function AMe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Pu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var qI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y1=new RegExp(qI.source,"g");function IMe(t){return function(){return t}}function kMe(t){return function(e){return t(e)+""}}function TMe(t,e){var r=qI.lastIndex=Y1.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=qI.exec(t))&&(a=Y1.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:pv(n,a)})),r=Y1.lastIndex;return r<e.length&&(s=e.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?kMe(c[0].x):IMe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Pu(t,e){var r=typeof e,n;return e==null||r==="boolean"?wE(e):(r==="number"?pv:r==="string"?(n=fm(e))?(e=n,XM):TMe:e instanceof fm?XM:e instanceof Date?SMe:NMe(e)?wMe:Array.isArray(e)?CMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?AMe:pv)(t,e)}function NE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function DMe(t,e){e===void 0&&(e=t,t=Pu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function EMe(t){return function(){return t}}function gv(t){return+t}var QM=[0,1];function Wr(t){return t}function VI(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:EMe(isNaN(e)?NaN:.5)}function PMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function OMe(t,e,r){var n=t[0],a=t[1],s=e[0],i=e[1];return a<n?(n=VI(a,n),s=r(i,s)):(n=VI(n,a),s=r(s,i)),function(l){return s(n(l))}}function _Me(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=VI(t[i],t[i+1]),s[i]=r(e[i],e[i+1]);return function(l){var c=hh(t,l,1,n)-1;return s[c](a[c](l))}}function gh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jw(){var t=QM,e=QM,r=Pu,n,a,s,i=Wr,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==Wr&&(i=PMe(t[0],t[m-1])),l=m>2?_Me:OMe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(e,t.map(n),pv)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,gv),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=NE,d()},f.clamp=function(m){return arguments.length?(i=m?!0:Wr,d()):i!==Wr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,p){return n=m,a=p,d()}}function CE(){return jw()(Wr,Wr)}function $Me(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function yv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Jc(t){return t=yv(Math.abs(t)),t?t[1]:NaN}function RMe(t,e){return function(r,n){for(var a=r.length,s=[],i=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return s.reverse().join(e)}}function MMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var LMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mm(t){if(!(e=LMe.exec(t)))throw new Error("invalid format: "+t);var e;return new SE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}mm.prototype=SE.prototype;function SE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}SE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function FMe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var x7;function BMe(t,e){var r=yv(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(x7=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+yv(t,Math.max(0,e+s-1))[0]}function ZM(t,e){var r=yv(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const eL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$Me,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ZM(t*100,e),r:ZM,s:BMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function tL(t){return t}var rL=Array.prototype.map,nL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qMe(t){var e=t.grouping===void 0||t.thousands===void 0?tL:RMe(rL.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?tL:MMe(rL.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=mm(f);var m=f.fill,p=f.align,h=f.sign,y=f.symbol,g=f.zero,b=f.width,v=f.comma,j=f.precision,C=f.trim,x=f.type;x==="n"?(v=!0,x="g"):eL[x]||(j===void 0&&(j=12),C=!0,x="g"),(g||m==="0"&&p==="=")&&(g=!0,m="0",p="=");var N=y==="$"?r:y==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=y==="$"?n:/[%p]/.test(x)?i:"",A=eL[x],I=/[defgprs%]/.test(x);j=j===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function k(D){var _=N,M=S,P,O,L;if(x==="c")M=A(D)+M,D="";else{D=+D;var V=D<0||1/D<0;if(D=isNaN(D)?c:A(Math.abs(D),j),C&&(D=FMe(D)),V&&+D==0&&h!=="+"&&(V=!1),_=(V?h==="("?h:l:h==="-"||h==="("?"":h)+_,M=(x==="s"?nL[8+x7/3]:"")+M+(V&&h==="("?")":""),I){for(P=-1,O=D.length;++P<O;)if(L=D.charCodeAt(P),48>L||L>57){M=(L===46?a+D.slice(P+1):D.slice(P))+M,D=D.slice(0,P);break}}}v&&!g&&(D=e(D,1/0));var $=_.length+D.length+M.length,R=$<b?new Array(b-$+1).join(m):"";switch(v&&g&&(D=e(R+D,R.length?b-M.length:1/0),R=""),p){case"<":D=_+D+M+R;break;case"=":D=_+R+D+M;break;case"^":D=R.slice(0,$=R.length>>1)+_+D+M+R.slice($);break;default:D=R+_+D+M;break}return s(D)}return k.toString=function(){return f+""},k}function d(f,m){var p=u((f=mm(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(Jc(m)/3)))*3,y=Math.pow(10,-h),g=nL[8+h/3];return function(b){return p(y*b)+g}}return{format:u,formatPrefix:d}}var xp,AE,v7;VMe({thousands:",",grouping:[3],currency:["$",""]});function VMe(t){return xp=qMe(t),AE=xp.format,v7=xp.formatPrefix,xp}function UMe(t){return Math.max(0,-Jc(Math.abs(t)))}function zMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jc(e)/3)))*3-Jc(Math.abs(t)))}function WMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jc(e)-Jc(t))+1}function j7(t,e,r,n){var a=LI(t,e,r),s;switch(n=mm(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=zMe(a,i))&&(n.precision=s),v7(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=WMe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=UMe(a))&&(n.precision=s-(n.type==="%")*2);break}}return AE(n)}function Zo(t){var e=t.domain;return t.ticks=function(r){var n=e();return RI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return j7(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=MI(i,l,r),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function bv(){var t=CE();return t.copy=function(){return gh(t,bv())},ea.apply(t,arguments),Zo(t)}function w7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,gv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return w7(t).unknown(e)},t=arguments.length?Array.from(t,gv):[0,1],Zo(r)}function N7(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function aL(t){return Math.log(t)}function sL(t){return Math.exp(t)}function HMe(t){return-Math.log(-t)}function GMe(t){return-Math.exp(-t)}function YMe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function KMe(t){return t===10?YMe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function JMe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function oL(t){return(e,r)=>-t(-e,r)}function IE(t){const e=t(aL,sL),r=e.domain;let n=10,a,s;function i(){return a=JMe(n),s=KMe(n),r()[0]<0?(a=oL(a),s=oL(s),t(HMe,GMe)):t(aL,sL),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),p=a(d),h,y;const g=l==null?10:+l;let b=[];if(!(n%1)&&p-m<g){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(h=1;h<n;++h)if(y=m<0?h/s(-m):h*s(m),!(y<u)){if(y>d)break;b.push(y)}}else for(;m<=p;++m)for(h=n-1;h>=1;--h)if(y=m>0?h/s(-m):h*s(m),!(y<u)){if(y>d)break;b.push(y)}b.length*2<g&&(b=RI(u,d,g))}else b=RI(m,p,Math.min(p-m,g)).map(s);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=mm(c)).precision==null&&(c.trim=!0),c=AE(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(N7(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function C7(){const t=IE(jw()).domain([1,10]);return t.copy=()=>gh(t,C7()).base(t.base()),ea.apply(t,arguments),t}function iL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function lL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kE(t){var e=1,r=t(iL(e),lL(e));return r.constant=function(n){return arguments.length?t(iL(e=+n),lL(e)):e},Zo(r)}function S7(){var t=kE(jw());return t.copy=function(){return gh(t,S7()).constant(t.constant())},ea.apply(t,arguments)}function cL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function XMe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function QMe(t){return t<0?-t*t:t*t}function TE(t){var e=t(Wr,Wr),r=1;function n(){return r===1?t(Wr,Wr):r===.5?t(XMe,QMe):t(cL(r),cL(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Zo(e)}function DE(){var t=TE(jw());return t.copy=function(){return gh(t,DE()).exponent(t.exponent())},ea.apply(t,arguments),t}function ZMe(){return DE.apply(null,arguments).exponent(.5)}function uL(t){return Math.sign(t)*t*t}function eLe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function A7(){var t=CE(),e=[0,1],r=!1,n;function a(s){var i=eLe(t(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return t.invert(uL(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,gv)).map(uL)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return A7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ea.apply(a,arguments),Zo(a)}function I7(){var t=[],e=[],r=[],n;function a(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=sMe(t,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[hh(r,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Eo),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return I7().domain(t).range(e).unknown(n)},ea.apply(s,arguments)}function k7(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[hh(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return k7().domain([t,e]).range(a).unknown(s)},ea.apply(Zo(i),arguments)}function T7(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[hh(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[t[i-1],t[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return T7().domain(t).range(e).unknown(r)},ea.apply(a,arguments)}const K1=new Date,J1=new Date;function mr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<i);return c},a.filter=s=>mr(i=>{if(i>=i)for(;t(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),r&&(a.count=(s,i)=>(K1.setTime(+s),J1.setTime(+i),t(K1),t(J1),Math.floor(r(K1,J1))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const xv=mr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);xv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):xv);xv.range;const hs=1e3,Gn=hs*60,ps=Gn*60,Os=ps*24,EE=Os*7,dL=Os*30,X1=Os*365,Pi=mr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getUTCSeconds());Pi.range;const PE=mr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hs)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getMinutes());PE.range;const OE=mr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getUTCMinutes());OE.range;const _E=mr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hs-t.getMinutes()*Gn)},(t,e)=>{t.setTime(+t+e*ps)},(t,e)=>(e-t)/ps,t=>t.getHours());_E.range;const $E=mr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ps)},(t,e)=>(e-t)/ps,t=>t.getUTCHours());$E.range;const yh=mr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/Os,t=>t.getDate()-1);yh.range;const ww=mr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Os,t=>t.getUTCDate()-1);ww.range;const D7=mr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Os,t=>Math.floor(t/Os));D7.range;function Sl(t){return mr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/EE)}const Nw=Sl(0),vv=Sl(1),tLe=Sl(2),rLe=Sl(3),Xc=Sl(4),nLe=Sl(5),aLe=Sl(6);Nw.range;vv.range;tLe.range;rLe.range;Xc.range;nLe.range;aLe.range;function Al(t){return mr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/EE)}const Cw=Al(0),jv=Al(1),sLe=Al(2),oLe=Al(3),Qc=Al(4),iLe=Al(5),lLe=Al(6);Cw.range;jv.range;sLe.range;oLe.range;Qc.range;iLe.range;lLe.range;const RE=mr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());RE.range;const ME=mr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ME.range;const _s=mr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());_s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});_s.range;const $s=mr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});$s.range;function E7(t,e,r,n,a,s){const i=[[Pi,1,hs],[Pi,5,5*hs],[Pi,15,15*hs],[Pi,30,30*hs],[s,1,Gn],[s,5,5*Gn],[s,15,15*Gn],[s,30,30*Gn],[a,1,ps],[a,3,3*ps],[a,6,6*ps],[a,12,12*ps],[n,1,Os],[n,2,2*Os],[r,1,EE],[e,1,dL],[e,3,3*dL],[t,1,X1]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),h=p?p.range(u,+d+1):[];return m?h.reverse():h}function c(u,d,f){const m=Math.abs(d-u)/f,p=xE(([,,g])=>g).right(i,m);if(p===i.length)return t.every(LI(u/X1,d/X1,f));if(p===0)return xv.every(Math.max(LI(u,d,f),1));const[h,y]=i[m/i[p-1][2]<i[p][2]/m?p-1:p];return h.every(y)}return[l,c]}const[cLe,uLe]=E7($s,ME,Cw,D7,$E,OE),[dLe,fLe]=E7(_s,RE,Nw,yh,_E,PE);function Q1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Z1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function id(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function mLe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=ld(a),d=cd(a),f=ld(s),m=cd(s),p=ld(i),h=cd(i),y=ld(l),g=cd(l),b=ld(c),v=cd(c),j={a:V,A:$,b:R,B:W,c:null,d:yL,e:yL,f:RLe,g:HLe,G:YLe,H:OLe,I:_Le,j:$Le,L:P7,m:MLe,M:LLe,p:Z,q:G,Q:vL,s:jL,S:FLe,u:BLe,U:qLe,V:VLe,w:ULe,W:zLe,x:null,X:null,y:WLe,Y:GLe,Z:KLe,"%":xL},C={a:U,A:ae,b:xe,B:se,c:null,d:bL,e:bL,f:ZLe,g:cFe,G:dFe,H:JLe,I:XLe,j:QLe,L:_7,m:eFe,M:tFe,p:K,q:de,Q:vL,s:jL,S:rFe,u:nFe,U:aFe,V:sFe,w:oFe,W:iFe,x:null,X:null,y:lFe,Y:uFe,Z:fFe,"%":xL},x={a:k,A:D,b:_,B:M,c:P,d:pL,e:pL,f:TLe,g:hL,G:mL,H:gL,I:gL,j:SLe,L:kLe,m:CLe,M:ALe,p:I,q:NLe,Q:ELe,s:PLe,S:ILe,u:bLe,U:xLe,V:vLe,w:yLe,W:jLe,x:O,X:L,y:hL,Y:mL,Z:wLe,"%":DLe};j.x=N(r,j),j.X=N(n,j),j.c=N(e,j),C.x=N(r,C),C.X=N(n,C),C.c=N(e,C);function N(ee,re){return function(J){var H=[],me=-1,Ne=0,De=ee.length,Ue,Ve,Br;for(J instanceof Date||(J=new Date(+J));++me<De;)ee.charCodeAt(me)===37&&(H.push(ee.slice(Ne,me)),(Ve=fL[Ue=ee.charAt(++me)])!=null?Ue=ee.charAt(++me):Ve=Ue==="e"?" ":"0",(Br=re[Ue])&&(Ue=Br(J,Ve)),H.push(Ue),Ne=me+1);return H.push(ee.slice(Ne,me)),H.join("")}}function S(ee,re){return function(J){var H=id(1900,void 0,1),me=A(H,ee,J+="",0),Ne,De;if(me!=J.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(re&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ne=Z1(id(H.y,0,1)),De=Ne.getUTCDay(),Ne=De>4||De===0?jv.ceil(Ne):jv(Ne),Ne=ww.offset(Ne,(H.V-1)*7),H.y=Ne.getUTCFullYear(),H.m=Ne.getUTCMonth(),H.d=Ne.getUTCDate()+(H.w+6)%7):(Ne=Q1(id(H.y,0,1)),De=Ne.getDay(),Ne=De>4||De===0?vv.ceil(Ne):vv(Ne),Ne=yh.offset(Ne,(H.V-1)*7),H.y=Ne.getFullYear(),H.m=Ne.getMonth(),H.d=Ne.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),De="Z"in H?Z1(id(H.y,0,1)).getUTCDay():Q1(id(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(De+5)%7:H.w+H.U*7-(De+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Z1(H)):Q1(H)}}function A(ee,re,J,H){for(var me=0,Ne=re.length,De=J.length,Ue,Ve;me<Ne;){if(H>=De)return-1;if(Ue=re.charCodeAt(me++),Ue===37){if(Ue=re.charAt(me++),Ve=x[Ue in fL?re.charAt(me++):Ue],!Ve||(H=Ve(ee,J,H))<0)return-1}else if(Ue!=J.charCodeAt(H++))return-1}return H}function I(ee,re,J){var H=u.exec(re.slice(J));return H?(ee.p=d.get(H[0].toLowerCase()),J+H[0].length):-1}function k(ee,re,J){var H=p.exec(re.slice(J));return H?(ee.w=h.get(H[0].toLowerCase()),J+H[0].length):-1}function D(ee,re,J){var H=f.exec(re.slice(J));return H?(ee.w=m.get(H[0].toLowerCase()),J+H[0].length):-1}function _(ee,re,J){var H=b.exec(re.slice(J));return H?(ee.m=v.get(H[0].toLowerCase()),J+H[0].length):-1}function M(ee,re,J){var H=y.exec(re.slice(J));return H?(ee.m=g.get(H[0].toLowerCase()),J+H[0].length):-1}function P(ee,re,J){return A(ee,e,re,J)}function O(ee,re,J){return A(ee,r,re,J)}function L(ee,re,J){return A(ee,n,re,J)}function V(ee){return i[ee.getDay()]}function $(ee){return s[ee.getDay()]}function R(ee){return c[ee.getMonth()]}function W(ee){return l[ee.getMonth()]}function Z(ee){return a[+(ee.getHours()>=12)]}function G(ee){return 1+~~(ee.getMonth()/3)}function U(ee){return i[ee.getUTCDay()]}function ae(ee){return s[ee.getUTCDay()]}function xe(ee){return c[ee.getUTCMonth()]}function se(ee){return l[ee.getUTCMonth()]}function K(ee){return a[+(ee.getUTCHours()>=12)]}function de(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var re=N(ee+="",j);return re.toString=function(){return ee},re},parse:function(ee){var re=S(ee+="",!1);return re.toString=function(){return ee},re},utcFormat:function(ee){var re=N(ee+="",C);return re.toString=function(){return ee},re},utcParse:function(ee){var re=S(ee+="",!0);return re.toString=function(){return ee},re}}}var fL={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,hLe=/^%/,pLe=/[\\^$*+?|[\]().{}]/g;function nt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function gLe(t){return t.replace(pLe,"\\$&")}function ld(t){return new RegExp("^(?:"+t.map(gLe).join("|")+")","i")}function cd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function yLe(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function bLe(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function xLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function vLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function jLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function mL(t,e,r){var n=jr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function hL(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wLe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function NLe(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function CLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function pL(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function SLe(t,e,r){var n=jr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function gL(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ALe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ILe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function kLe(t,e,r){var n=jr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function TLe(t,e,r){var n=jr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function DLe(t,e,r){var n=hLe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ELe(t,e,r){var n=jr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function PLe(t,e,r){var n=jr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function yL(t,e){return nt(t.getDate(),e,2)}function OLe(t,e){return nt(t.getHours(),e,2)}function _Le(t,e){return nt(t.getHours()%12||12,e,2)}function $Le(t,e){return nt(1+yh.count(_s(t),t),e,3)}function P7(t,e){return nt(t.getMilliseconds(),e,3)}function RLe(t,e){return P7(t,e)+"000"}function MLe(t,e){return nt(t.getMonth()+1,e,2)}function LLe(t,e){return nt(t.getMinutes(),e,2)}function FLe(t,e){return nt(t.getSeconds(),e,2)}function BLe(t){var e=t.getDay();return e===0?7:e}function qLe(t,e){return nt(Nw.count(_s(t)-1,t),e,2)}function O7(t){var e=t.getDay();return e>=4||e===0?Xc(t):Xc.ceil(t)}function VLe(t,e){return t=O7(t),nt(Xc.count(_s(t),t)+(_s(t).getDay()===4),e,2)}function ULe(t){return t.getDay()}function zLe(t,e){return nt(vv.count(_s(t)-1,t),e,2)}function WLe(t,e){return nt(t.getFullYear()%100,e,2)}function HLe(t,e){return t=O7(t),nt(t.getFullYear()%100,e,2)}function GLe(t,e){return nt(t.getFullYear()%1e4,e,4)}function YLe(t,e){var r=t.getDay();return t=r>=4||r===0?Xc(t):Xc.ceil(t),nt(t.getFullYear()%1e4,e,4)}function KLe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function bL(t,e){return nt(t.getUTCDate(),e,2)}function JLe(t,e){return nt(t.getUTCHours(),e,2)}function XLe(t,e){return nt(t.getUTCHours()%12||12,e,2)}function QLe(t,e){return nt(1+ww.count($s(t),t),e,3)}function _7(t,e){return nt(t.getUTCMilliseconds(),e,3)}function ZLe(t,e){return _7(t,e)+"000"}function eFe(t,e){return nt(t.getUTCMonth()+1,e,2)}function tFe(t,e){return nt(t.getUTCMinutes(),e,2)}function rFe(t,e){return nt(t.getUTCSeconds(),e,2)}function nFe(t){var e=t.getUTCDay();return e===0?7:e}function aFe(t,e){return nt(Cw.count($s(t)-1,t),e,2)}function $7(t){var e=t.getUTCDay();return e>=4||e===0?Qc(t):Qc.ceil(t)}function sFe(t,e){return t=$7(t),nt(Qc.count($s(t),t)+($s(t).getUTCDay()===4),e,2)}function oFe(t){return t.getUTCDay()}function iFe(t,e){return nt(jv.count($s(t)-1,t),e,2)}function lFe(t,e){return nt(t.getUTCFullYear()%100,e,2)}function cFe(t,e){return t=$7(t),nt(t.getUTCFullYear()%100,e,2)}function uFe(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function dFe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Qc(t):Qc.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function fFe(){return"+0000"}function xL(){return"%"}function vL(t){return+t}function jL(t){return Math.floor(+t/1e3)}var Ll,R7,M7;mFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mFe(t){return Ll=mLe(t),R7=Ll.format,Ll.parse,M7=Ll.utcFormat,Ll.utcParse,Ll}function hFe(t){return new Date(t)}function pFe(t){return t instanceof Date?+t:+new Date(+t)}function LE(t,e,r,n,a,s,i,l,c,u){var d=CE(),f=d.invert,m=d.domain,p=u(".%L"),h=u(":%S"),y=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),v=u("%b %d"),j=u("%B"),C=u("%Y");function x(N){return(c(N)<N?p:l(N)<N?h:i(N)<N?y:s(N)<N?g:n(N)<N?a(N)<N?b:v:r(N)<N?j:C)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?m(Array.from(N,pFe)):m().map(hFe)},d.ticks=function(N){var S=m();return t(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?x:u(S)},d.nice=function(N){var S=m();return(!N||typeof N.range!="function")&&(N=e(S[0],S[S.length-1],N??10)),N?m(N7(S,N)):d},d.copy=function(){return gh(d,LE(t,e,r,n,a,s,i,l,c,u))},d}function gFe(){return ea.apply(LE(dLe,fLe,_s,RE,Nw,yh,_E,PE,Pi,R7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yFe(){return ea.apply(LE(cLe,uLe,$s,ME,Cw,ww,$E,OE,Pi,M7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sw(){var t=0,e=1,r,n,a,s,i=Wr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var p,h;return arguments.length?([p,h]=m,i=f(p,h),u):[i(0),i(1)]}}return u.range=d(Pu),u.rangeRound=d(NE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function ei(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function L7(){var t=Zo(Sw()(Wr));return t.copy=function(){return ei(t,L7())},Us.apply(t,arguments)}function F7(){var t=IE(Sw()).domain([1,10]);return t.copy=function(){return ei(t,F7()).base(t.base())},Us.apply(t,arguments)}function B7(){var t=kE(Sw());return t.copy=function(){return ei(t,B7()).constant(t.constant())},Us.apply(t,arguments)}function FE(){var t=TE(Sw());return t.copy=function(){return ei(t,FE()).exponent(t.exponent())},Us.apply(t,arguments)}function bFe(){return FE.apply(null,arguments).exponent(.5)}function q7(){var t=[],e=Wr;function r(n){if(n!=null&&!isNaN(n=+n))return e((hh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Eo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>aMe(t,s/n))},r.copy=function(){return q7(e).domain(t)},Us.apply(r,arguments)}function Aw(){var t=0,e=.5,r=1,n=1,a,s,i,l,c,u=Wr,d,f=!1,m;function p(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-s)*(n*y<n*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,a=d(t=+t),s=d(e=+e),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function h(y){return function(g){var b,v,j;return arguments.length?([b,v,j]=g,u=DMe(y,[b,v,j]),p):[u(0),u(.5),u(1)]}}return p.range=h(Pu),p.rangeRound=h(NE),p.unknown=function(y){return arguments.length?(m=y,p):m},function(y){return d=y,a=y(t),s=y(e),i=y(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function V7(){var t=Zo(Aw()(Wr));return t.copy=function(){return ei(t,V7())},Us.apply(t,arguments)}function U7(){var t=IE(Aw()).domain([.1,1,10]);return t.copy=function(){return ei(t,U7()).base(t.base())},Us.apply(t,arguments)}function z7(){var t=kE(Aw());return t.copy=function(){return ei(t,z7()).constant(t.constant())},Us.apply(t,arguments)}function BE(){var t=TE(Aw());return t.copy=function(){return ei(t,BE()).exponent(t.exponent())},Us.apply(t,arguments)}function xFe(){return BE.apply(null,arguments).exponent(.5)}const wL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cm,scaleDiverging:V7,scaleDivergingLog:U7,scaleDivergingPow:BE,scaleDivergingSqrt:xFe,scaleDivergingSymlog:z7,scaleIdentity:w7,scaleImplicit:FI,scaleLinear:bv,scaleLog:C7,scaleOrdinal:vE,scalePoint:cf,scalePow:DE,scaleQuantile:I7,scaleQuantize:k7,scaleRadial:A7,scaleSequential:L7,scaleSequentialLog:F7,scaleSequentialPow:FE,scaleSequentialQuantile:q7,scaleSequentialSqrt:bFe,scaleSequentialSymlog:B7,scaleSqrt:ZMe,scaleSymlog:S7,scaleThreshold:T7,scaleTime:gFe,scaleUtc:yFe,tickFormat:j7},Symbol.toStringTag,{value:"Module"}));var vFe=Nu;function jFe(t,e,r){for(var n=-1,a=t.length;++n<a;){var s=t[n],i=e(s);if(i!=null&&(l===void 0?i===i&&!vFe(i):r(i,l)))var l=i,c=s}return c}var Iw=jFe;function wFe(t,e){return t>e}var W7=wFe,NFe=Iw,CFe=W7,SFe=Du;function AFe(t){return t&&t.length?NFe(t,SFe,CFe):void 0}var IFe=AFe;const kw=it(IFe);function kFe(t,e){return t<e}var H7=kFe,TFe=Iw,DFe=H7,EFe=Du;function PFe(t){return t&&t.length?TFe(t,EFe,DFe):void 0}var OFe=PFe;const Tw=it(OFe);var _Fe=ZD,$Fe=Qo,RFe=e7,MFe=pn;function LFe(t,e){var r=MFe(t)?_Fe:RFe;return r(t,$Fe(e))}var FFe=LFe,BFe=Qz,qFe=FFe;function VFe(t,e){return BFe(qFe(t,e),1)}var UFe=VFe;const zFe=it(UFe);var WFe=pE;function HFe(t,e){return WFe(t,e)}var GFe=HFe;const qE=it(GFe);var Ou=1e9,YFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UE,Mt=!0,Qn="[DecimalError] ",Ji=Qn+"Invalid argument: ",VE=Qn+"Exponent out of range: ",_u=Math.floor,vi=Math.pow,KFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xn,pr=1e7,Dt=7,G7=9007199254740991,wv=_u(G7/Dt),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(t){return Ns(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,r=e.constructor;return xt(Ns(e,new r(t),0,1),r.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return or(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(xn))throw Error(Qn+"NaN");if(r.s<1)throw Error(Qn+(r.s?"NaN":"-Infinity"));return r.eq(xn)?new n(0):(Mt=!1,e=Ns(hm(r,s),hm(t,s),s),Mt=!0,xt(e,a))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?J7(e,t):Y7(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Qn+"NaN");return r.s?(Mt=!1,e=Ns(r,t,0,1).times(t),Mt=!0,r.minus(e)):xt(new n(r),a)};Se.naturalExponential=Se.exp=function(){return K7(this)};Se.naturalLogarithm=Se.ln=function(){return hm(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Y7(e,t):J7(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ji+t);if(e=or(a)+1,n=a.d.length-1,r=n*Dt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Se.squareRoot=Se.sqrt=function(){var t,e,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Qn+"NaN")}for(t=or(l),Mt=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Oa(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=_u((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(Ns(l,s,i+2)).times(.5),Oa(s.d).slice(0,i)===(e=Oa(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(xt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Mt=!0,xt(n,r)};Se.times=Se.mul=function(t){var e,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+p[n]*m[a-n-1]+e,s[a--]=l%pr|0,e=l/pr|0;s[a]=(s[a]+e)%pr|0}for(;!s[--i];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Mt?xt(t,f.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ha(t,0,Ou),e===void 0?e=n.rounding:Ha(e,0,8),xt(r,t+or(r)+1,e))};Se.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=fl(n,!0):(Ha(t,0,Ou),e===void 0?e=a.rounding:Ha(e,0,8),n=xt(new a(n),t+1,e),r=fl(n,!0,t+1)),r};Se.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?fl(a):(Ha(t,0,Ou),e===void 0?e=s.rounding:Ha(e,0,8),n=xt(new s(a),t+or(a)+1,e),r=fl(n.abs(),!1,t+or(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return xt(new e(t),or(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(xn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Qn+"Infinity");return l}if(l.eq(xn))return l;if(n=c.precision,t.eq(xn))return xt(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,s=l.s,i){if((r=d<0?-d:d)<=G7){for(a=new c(xn),e=Math.ceil(n/Dt+4),Mt=!1;r%2&&(a=a.times(l),CL(a.d,e)),r=_u(r/2),r!==0;)l=l.times(l),CL(l.d,e);return Mt=!0,t.s<0?new c(xn).div(a):xt(a,n)}}else if(s<0)throw Error(Qn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Mt=!1,a=t.times(hm(l,n+u)),Mt=!0,a=K7(a),a.s=s,a};Se.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=or(a),n=fl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ha(t,1,Ou),e===void 0?e=s.rounding:Ha(e,0,8),a=xt(new s(a),t,e),r=or(a),n=fl(a,t<=r||r<=s.toExpNeg,t)),n};Se.toSignificantDigits=Se.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ha(t,1,Ou),e===void 0?e=n.rounding:Ha(e,0,8)),xt(new n(r),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=or(t),r=t.constructor;return fl(t,e<=r.toExpNeg||e>=r.toExpPos)};function Y7(t,e){var r,n,a,s,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Mt?xt(e,f):e;if(c=t.d,u=e.d,i=t.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Dt),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/pr|0,c[s]%=pr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Mt?xt(e,f):e}function Ha(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ji+t)}function Oa(t){var e,r,n,a=t.length-1,s="",i=t[0];if(a>0){for(s+=i,e=1;e<a;e++)n=t[e]+"",r=Dt-n.length,r&&(s+=eo(r)),s+=n;i=t[e],n=i+"",r=Dt-n.length,r&&(s+=eo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Ns=function(){function t(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%pr|0,i=s/pr|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*pr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,p,h,y,g,b,v,j,C,x,N,S,A,I=n.constructor,k=n.s==a.s?1:-1,D=n.d,_=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(Qn+"Division by zero");for(c=n.e-a.e,S=_.length,x=D.length,p=new I(k),h=p.d=[],u=0;_[u]==(D[u]||0);)++u;if(_[u]>(D[u]||0)&&--c,s==null?v=s=I.precision:i?v=s+(or(n)-or(a))+1:v=s,v<0)return new I(0);if(v=v/Dt+2|0,u=0,S==1)for(d=0,_=_[0],v++;(u<x||d)&&v--;u++)j=d*pr+(D[u]||0),h[u]=j/_|0,d=j%_|0;else{for(d=pr/(_[0]+1)|0,d>1&&(_=t(_,d),D=t(D,d),S=_.length,x=D.length),C=S,y=D.slice(0,S),g=y.length;g<S;)y[g++]=0;A=_.slice(),A.unshift(0),N=_[0],_[1]>=pr/2&&++N;do d=0,l=e(_,y,S,g),l<0?(b=y[0],S!=g&&(b=b*pr+(y[1]||0)),d=b/N|0,d>1?(d>=pr&&(d=pr-1),f=t(_,d),m=f.length,g=y.length,l=e(f,y,m,g),l==1&&(d--,r(f,S<m?A:_,m))):(d==0&&(l=d=1),f=_.slice()),m=f.length,m<g&&f.unshift(0),r(y,f,g),l==-1&&(g=y.length,l=e(_,y,S,g),l<1&&(d++,r(y,S<g?A:_,g))),g=y.length):l===0&&(d++,y=[0]),h[u++]=d,l&&y[0]?y[g++]=D[C]||0:(y=[D[C]],g=1);while((C++<x||y[0]!==void 0)&&v--)}return h[0]||h.shift(),p.e=c,xt(p,i?s+or(p)+1:s)}}();function K7(t,e){var r,n,a,s,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(or(t)>16)throw Error(VE+or(t));if(!t.s)return new d(xn);for(Mt=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(vi(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(xn),d.precision=l;;){if(a=xt(a.times(t),l),r=r.times(++c),i=s.plus(Ns(a,r,l)),Oa(i.d).slice(0,l)===Oa(s.d).slice(0,l)){for(;u--;)s=xt(s.times(s),l);return d.precision=f,e==null?(Mt=!0,xt(s,f)):s}s=i}}function or(t){for(var e=t.e*Dt,r=t.d[0];r>=10;r/=10)e++;return e}function eC(t,e,r){if(e>t.LN10.sd())throw Mt=!0,r&&(t.precision=r),Error(Qn+"LN10 precision limit exceeded");return xt(new t(t.LN10),e)}function eo(t){for(var e="";t--;)e+="0";return e}function hm(t,e){var r,n,a,s,i,l,c,u,d,f=1,m=10,p=t,h=p.d,y=p.constructor,g=y.precision;if(p.s<1)throw Error(Qn+(p.s?"NaN":"-Infinity"));if(p.eq(xn))return new y(0);if(e==null?(Mt=!1,u=g):u=e,p.eq(10))return e==null&&(Mt=!0),eC(y,u);if(u+=m,y.precision=u,r=Oa(h),n=r.charAt(0),s=or(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Oa(p.d),n=r.charAt(0),f++;s=or(p),n>1?(p=new y("0."+r),s++):p=new y(n+"."+r.slice(1))}else return c=eC(y,u+2,g).times(s+""),p=hm(new y(n+"."+r.slice(1)),u-m).plus(c),y.precision=g,e==null?(Mt=!0,xt(p,g)):p;for(l=i=p=Ns(p.minus(xn),p.plus(xn),u),d=xt(p.times(p),u),a=3;;){if(i=xt(i.times(d),u),c=l.plus(Ns(i,new y(a),u)),Oa(c.d).slice(0,u)===Oa(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(eC(y,u+2,g).times(s+""))),l=Ns(l,new y(f),u),y.precision=g,e==null?(Mt=!0,xt(l,g)):l;l=c,a+=2}}function NL(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=_u(r/Dt),t.d=[],n=(r+1)%Dt,r<0&&(n+=Dt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Dt;n<a;)t.d.push(+e.slice(n,n+=Dt));e=e.slice(n),n=Dt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Mt&&(t.e>wv||t.e<-wv))throw Error(VE+r)}else t.s=0,t.e=0,t.d=[0];return t}function xt(t,e,r){var n,a,s,i,l,c,u,d,f=t.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=Dt,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Dt),s=f.length,d>=s)return t;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Dt,a=n-Dt+i}if(r!==void 0&&(s=vi(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/vi(10,i-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=or(t),f.length=1,e=e-s-1,f[0]=vi(10,(Dt-e%Dt)%Dt),t.e=_u(-e/Dt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=vi(10,Dt-n),f[d]=a>0?(u/vi(10,i-a)%vi(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==pr&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=pr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Mt&&(t.e>wv||t.e<-wv))throw Error(VE+or(t));return t}function J7(t,e){var r,n,a,s,i,l,c,u,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Mt?xt(e,p):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Dt),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=pr-1;--c[s],c[a]+=pr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Mt?xt(e,p):e):new m(0)}function fl(t,e,r){var n,a=or(t),s=Oa(t.d),i=s.length;return e?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+eo(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+eo(-a-1)+s,r&&(n=r-i)>0&&(s+=eo(n))):a>=i?(s+=eo(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+eo(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=eo(n))),t.s<0?"-"+s:s}function CL(t,e){if(t.length>e)return t.length=e,!0}function X7(t){var e,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ji+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return NL(i,s.toString())}else if(typeof s!="string")throw Error(Ji+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,KFe.test(s))NL(i,s);else throw Error(Ji+s)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=X7,a.config=a.set=JFe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function JFe(t){if(!t||typeof t!="object")throw Error(Qn+"Object expected");var e,r,n,a=["precision",1,Ou,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(_u(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Ji+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ji+r+": "+n);return this}var UE=X7(YFe);xn=new UE(1);const gt=UE;function XFe(t){return t5e(t)||e5e(t)||ZFe(t)||QFe()}function QFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZFe(t,e){if(t){if(typeof t=="string")return UI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UI(t,e)}}function e5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function t5e(t){if(Array.isArray(t))return UI(t)}function UI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var r5e=function(e){return e},Q7={},Z7=function(e){return e===Q7},SL=function(e){return function r(){return arguments.length===0||arguments.length===1&&Z7(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},n5e=function t(e,r){return e===1?r:SL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==Q7}).length;return i>=e?r.apply(void 0,a):t(e-i,SL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return Z7(f)?c.shift():f});return r.apply(void 0,XFe(d).concat(c))}))})},Dw=function(e){return n5e(e.length,e)},zI=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},a5e=Dw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),s5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return r5e;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},WI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},e8=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function o5e(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function i5e(t,e,r){for(var n=new gt(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var l5e=Dw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),c5e=Dw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),u5e=Dw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Ew={rangeStep:i5e,getDigitCount:o5e,interpolateNumber:l5e,uninterpolateNumber:c5e,uninterpolateTruncation:u5e};function HI(t){return m5e(t)||f5e(t)||t8(t)||d5e()}function d5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function m5e(t){if(Array.isArray(t))return GI(t)}function pm(t,e){return g5e(t)||p5e(t,e)||t8(t,e)||h5e()}function h5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8(t,e){if(t){if(typeof t=="string")return GI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GI(t,e)}}function GI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function g5e(t){if(Array.isArray(t))return t}function r8(t){var e=pm(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function n8(t,e,r){if(t.lte(0))return new gt(0);var n=Ew.getDigitCount(t.toNumber()),a=new gt(10).pow(n),s=t.div(a),i=n!==1?.05:.1,l=new gt(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return e?c:new gt(Math.ceil(c))}function y5e(t,e,r){var n=1,a=new gt(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new gt(10).pow(Ew.getDigitCount(t)-1),a=new gt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new gt(Math.floor(t)))}else t===0?a=new gt(Math.floor((e-1)/2)):r||(a=new gt(Math.floor(t)));var i=Math.floor((e-1)/2),l=s5e(a5e(function(c){return a.add(new gt(c-i).mul(n)).toNumber()}),zI);return l(0,e)}function a8(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var s=n8(new gt(e).sub(t).div(r-1),n,a),i;t<=0&&e>=0?i=new gt(0):(i=new gt(t).add(e).div(2),i=i.sub(new gt(i).mod(s)));var l=Math.ceil(i.sub(t).div(s).toNumber()),c=Math.ceil(new gt(e).sub(i).div(s).toNumber()),u=l+c+1;return u>r?a8(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:i.sub(new gt(l).mul(s)),tickMax:i.add(new gt(c).mul(s))})}function b5e(t){var e=pm(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=r8([r,n]),c=pm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(HI(zI(0,a-1).map(function(){return 1/0}))):[].concat(HI(zI(0,a-1).map(function(){return-1/0})),[d]);return r>n?WI(f):f}if(u===d)return y5e(u,a,s);var m=a8(u,d,i,s),p=m.step,h=m.tickMin,y=m.tickMax,g=Ew.rangeStep(h,y.add(new gt(.1).mul(p)),p);return r>n?WI(g):g}function x5e(t,e){var r=pm(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=r8([n,a]),l=pm(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=n8(new gt(u).sub(c).div(d-1),s,0),m=[].concat(HI(Ew.rangeStep(new gt(c),new gt(u).sub(new gt(.99).mul(f)),f)),[u]);return n>a?WI(m):m}var v5e=e8(b5e),j5e=e8(x5e),w5e="Invariant failed";function Zc(t,e){throw new Error(w5e)}var N5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(this,arguments)}function C5e(t,e){return k5e(t)||I5e(t,e)||A5e(t,e)||S5e()}function S5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5e(t,e){if(t){if(typeof t=="string")return AL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AL(t,e)}}function AL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function k5e(t){if(Array.isArray(t))return t}function T5e(t,e){if(t==null)return{};var r=D5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function E5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i8(n.key),n)}}function O5e(t,e,r){return e&&P5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _5e(t,e,r){return e=Cv(e),$5e(t,s8()?Reflect.construct(e,r||[],Cv(t).constructor):e.apply(t,r))}function $5e(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R5e(t)}function R5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s8=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cv(t)}function M5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YI(t,e)}function YI(t,e){return YI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YI(t,e)}function o8(t,e,r){return e=i8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i8(t){var e=L5e(t,"string");return eu(e)=="symbol"?e:e+""}function L5e(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zE=function(t){function e(){return E5e(this,e),_5e(this,e,arguments)}return M5e(e,t),O5e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=T5e(n,N5e),p=ze(m,!1);this.props.direction==="x"&&d.type!=="number"&&Zc();var h=c.map(function(y){var g=u(y,l),b=g.x,v=g.y,j=g.value,C=g.errorVal;if(!C)return null;var x=[],N,S;if(Array.isArray(C)){var A=C5e(C,2);N=A[0],S=A[1]}else N=S=C;if(s==="vertical"){var I=d.scale,k=v+a,D=k+i,_=k-i,M=I(j-N),P=I(j+S);x.push({x1:P,y1:D,x2:P,y2:_}),x.push({x1:M,y1:k,x2:P,y2:k}),x.push({x1:M,y1:D,x2:M,y2:_})}else if(s==="horizontal"){var O=f.scale,L=b+a,V=L-i,$=L+i,R=O(j-N),W=O(j+S);x.push({x1:V,y1:W,x2:$,y2:W}),x.push({x1:L,y1:R,x2:L,y2:W}),x.push({x1:V,y1:R,x2:$,y2:R})}return z.createElement(Wt,Nv({className:"recharts-errorBar",key:"bar-".concat(x.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),x.map(function(Z){return z.createElement("line",Nv({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return z.createElement(Wt,{className:"recharts-errorBars"},h)}}])}(z.Component);o8(zE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});o8(zE,"displayName","ErrorBar");function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function IL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(r),!0).forEach(function(n){F5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F5e(t,e,r){return e=B5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B5e(t){var e=q5e(t,"string");return gm(e)=="symbol"?e:e+""}function q5e(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l8=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,i=qn(r,Ua);if(!i)return null;var l=Ua.defaultProps,c=l!==void 0?ci(ci({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,p=f.props,h=p.sectors||p.data||[];return d.concat(h.map(function(y){return{type:i.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?ci(ci({},m),f.props):{},h=p.dataKey,y=p.name,g=p.legendType,b=p.hide;return{inactive:b,dataKey:h,type:c.iconType||g||"square",color:WE(f),value:y||h,payload:p}}),ci(ci(ci({},c),Ua.getWithHeight(i,a)),{},{payload:u,item:i})};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function kL(t){return W5e(t)||z5e(t)||U5e(t)||V5e()}function V5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U5e(t,e){if(t){if(typeof t=="string")return KI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KI(t,e)}}function z5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W5e(t){if(Array.isArray(t))return KI(t)}function KI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){Ic(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ic(t,e,r){return e=H5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H5e(t){var e=G5e(t,"string");return ym(e)=="symbol"?e:e+""}function G5e(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vn(t,e,r){return Je(t)||Je(e)?r:fr(e)?ya(t,e,r):We(e)?e(t):r}function uf(t,e,r,n){var a=zFe(t,function(l){return vn(l,e)});if(r==="number"){var s=a.filter(function(l){return je(l)||parseFloat(l)});return s.length?[Tw(s),kw(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Je(l)}):a;return i.map(function(l){return fr(l)||l instanceof Date?l:""})}var Y5e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Hn(f-d)!==Hn(m-f)){var h=[];if(Hn(m-f)===Hn(c[1]-c[0])){p=m;var y=f+c[1]-c[0];h[0]=Math.min(y,(y+d)/2),h[1]=Math.max(y,(y+d)/2)}else{p=d;var g=m+c[1]-c[0];h[0]=Math.min(f,(g+f)/2),h[1]=Math.max(f,(g+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=h[0]&&e<=h[1]){i=a[u].index;break}}else{var v=Math.min(d,m),j=Math.max(d,m);if(e>(v+f)/2&&e<=(j+f)/2){i=a[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){i=n[C].index;break}return i},WE=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},K5e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var h=d[f[m]],y=h.items,g=h.cateAxisId,b=y.filter(function(S){return js(S.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,j=v!==void 0?zt(zt({},v),b[0].props):b[0].props,C=j.barSize,x=j[g];i[x]||(i[x]=[]);var N=Je(C)?r:C;i[x].push({item:b[0],stackList:b.slice(1),barSize:Je(N)?void 0:nn(N,n,0)})}}return i},J5e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=nn(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,p=a/c,h=i.reduce(function(C,x){return C+x.barSize||0},0);h+=(c-1)*u,h>=a&&(h-=(c-1)*u,u=0),h>=a&&p>0&&(m=!0,p*=.9,h=c*p);var y=(a-h)/2>>0,g={offset:y-u,size:0};d=i.reduce(function(C,x){var N={item:x.item,position:{offset:g.offset+g.size+u,size:m?p:x.barSize}},S=[].concat(kL(C),[N]);return g=S[S.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(A){S.push({item:A,position:g})}),S},f)}else{var b=nn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var v=(a-2*b-(c-1)*u)/c;v>1&&(v>>=0);var j=l===+l?Math.min(v,l):v;d=i.reduce(function(C,x,N){var S=[].concat(kL(C),[{item:x.item,position:{offset:b+(v+u)*N+(v-j)/2,size:j}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return d},X5e=function(e,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=l8({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,p=u.align,h=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&h==="middle")&&p!=="center"&&je(e[p]))return zt(zt({},e),{},Ic({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&h!=="middle"&&je(e[h]))return zt(zt({},e),{},Ic({},h,e[h]+(m||0)))}return e},Q5e=function(e,r,n){return Je(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},c8=function(e,r,n,a,s){var i=r.props.children,l=Va(i,zE).filter(function(u){return Q5e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=vn(d,n);if(Je(f))return u;var m=Array.isArray(f)?[Tw(f),kw(f)]:[f,f],p=c.reduce(function(h,y){var g=vn(d,y,0),b=m[0]-Math.abs(Array.isArray(g)?g[0]:g),v=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,h[0]),Math.max(v,h[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Z5e=function(e,r,n,a,s){var i=r.map(function(l){return c8(e,l,n,s,a)}).filter(function(l){return!Je(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},u8=function(e,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&c8(e,c,u,a)||uf(e,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},d8=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Id=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Hn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!mh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:s?s[f]:f,index:m,offset:u}})},tC=new WeakMap,vp=function(e,r){if(typeof r!="function")return e;tC.has(e)||tC.set(e,new WeakMap);var n=tC.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},e4e=function(e,r,n){var a=e.scale,s=e.type,i=e.layout,l=e.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:cm(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:bv(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:cf(),realScaleType:"point"}:s==="category"?{scale:cm(),realScaleType:"band"}:{scale:bv(),realScaleType:"linear"};if(fh(a)){var c="scale".concat(fw(a));return{scale:(wL[c]||cf)(),realScaleType:wL[c]?c:"point"}}return We(a)?{scale:a}:{scale:cf(),realScaleType:"point"}},DL=1e-4,t4e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-DL,i=Math.max(a[0],a[1])+DL,l=e(r[0]),c=e(r[n-1]);(l<s||l>i||c<s||c>i)&&e.domain([r[0],r[n-1]])}},r4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=mh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},n4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=mh(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=s,e[i][n][1]=s+l,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},a4e={sign:r4e,expand:wke,none:zc,silhouette:Nke,wiggle:Cke,positive:n4e},s4e=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=a4e[n],i=jke().keys(a).value(function(l,c){return+vn(l,c,0)}).order(vI).offset(s);return i(e)},o4e=function(e,r,n,a,s,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var p,h=(p=m.type)!==null&&p!==void 0&&p.defaultProps?zt(zt({},m.type.defaultProps),m.props):m.props,y=h.stackId,g=h.hide;if(g)return f;var b=h[n],v=f[b]||{hasStack:!1,stackGroups:{}};if(fr(y)){var j=v.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(m),v.hasStack=!0,v.stackGroups[y]=j}else v.stackGroups[uw("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return zt(zt({},f),{},Ic({},b,v))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var h={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,g){var b=p.stackGroups[g];return zt(zt({},y),{},Ic({},g,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:s4e(e,b.items,s)}))},h)}return zt(zt({},f),{},Ic({},m,p))},d)},i4e=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=v5e(u,s,l);return e.domain([Tw(d),kw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),m=j5e(f,s,l);return{niceTicks:m}}return null},l4e=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(fr(s)){var i=r[s];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},c4e=function(e){return e.reduce(function(r,n){return[Tw(n.concat([r[0]]).filter(je)),kw(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},f8=function(e,r,n){return Object.keys(e).reduce(function(a,s){var i=e[s],l=i.stackedData,c=l.reduce(function(u,d){var f=c4e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},EL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JI=function(e,r,n){if(We(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(je(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(EL.test(e[0])){var s=+EL.exec(e[0])[1];a[0]=r[0]-s}else We(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(je(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(PL.test(e[1])){var i=+PL.exec(e[1])[1];a[1]=r[1]+i}else We(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},XI=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=yE(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},OL=function(e,r,n){return!e||!e.length||qE(e,ya(n,"type.defaultProps.domain"))?r:e},u4e=function(e,r){var n=e.type.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return zt(zt({},ze(e,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:WE(e),value:vn(r,a),type:c,payload:r,chartType:u,hide:d})};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function as(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){m8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m8(t,e,r){return e=d4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d4e(t){var e=f4e(t,"string");return bm(e)=="symbol"?e:e+""}function f4e(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m4e(t,e){return y4e(t)||g4e(t,e)||p4e(t,e)||h4e()}function h4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p4e(t,e){if(t){if(typeof t=="string")return $L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $L(t,e)}}function $L(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function y4e(t){if(Array.isArray(t))return t}var Sv=Math.PI/180,b4e=function(e){return e*180/Math.PI},At=function(e,r,n,a){return{x:e+Math.cos(-Sv*a)*n,y:r+Math.sin(-Sv*a)*n}},h8=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},x4e=function(e,r,n,a,s){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=nn(e.cx,i,i/2),f=nn(e.cy,l,l/2),m=h8(i,l,n),p=nn(e.innerRadius,m,0),h=nn(e.outerRadius,m,m*.8),y=Object.keys(r);return y.reduce(function(g,b){var v=r[b],j=v.domain,C=v.reversed,x;if(Je(v.range))a==="angleAxis"?x=[c,u]:a==="radiusAxis"&&(x=[p,h]),C&&(x=[x[1],x[0]]);else{x=v.range;var N=x,S=m4e(N,2);c=S[0],u=S[1]}var A=e4e(v,s),I=A.realScaleType,k=A.scale;k.domain(j).range(x),t4e(k);var D=i4e(k,as(as({},v),{},{realScaleType:I})),_=as(as(as({},v),D),{},{range:x,radius:h,realScaleType:I,scale:k,cx:d,cy:f,innerRadius:p,outerRadius:h,startAngle:c,endAngle:u});return as(as({},g),{},m8({},b,_))},{})},v4e=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},j4e=function(e,r){var n=e.x,a=e.y,s=r.cx,i=r.cy,l=v4e({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:b4e(u),angleInRadian:u}},w4e=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},N4e=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},RL=function(e,r){var n=e.x,a=e.y,s=j4e({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=w4e(r),f=d.startAngle,m=d.endAngle,p=l,h;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;h=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;h=p>=m&&p<=f}return h?as(as({},r),{},{radius:i,angle:N4e(p,r)}):null},p8=function(e){return!w.isValidElement(e)&&!We(e)&&typeof e!="boolean"?e.className:""};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}var C4e=["offset"];function S4e(t){return T4e(t)||k4e(t)||I4e(t)||A4e()}function A4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4e(t,e){if(t){if(typeof t=="string")return QI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QI(t,e)}}function k4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T4e(t){if(Array.isArray(t))return QI(t)}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D4e(t,e){if(t==null)return{};var r=E4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){P4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P4e(t,e,r){return e=O4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O4e(t){var e=_4e(t,"string");return xm(e)=="symbol"?e:e+""}function _4e(t,e){if(xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vm.apply(this,arguments)}var $4e=function(e){var r=e.value,n=e.formatter,a=Je(e.children)?r:e.children;return We(n)?n(a):a},R4e=function(e,r){var n=Hn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},M4e=function(e,r,n){var a=e.position,s=e.viewBox,i=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,h=c.endAngle,y=c.clockWise,g=(f+m)/2,b=R4e(p,h),v=b>=0?1:-1,j,C;a==="insideStart"?(j=p+v*i,C=y):a==="insideEnd"?(j=h-v*i,C=!y):a==="end"&&(j=h+v*i,C=y),C=b<=0?C:!C;var x=At(u,d,g,j),N=At(u,d,g,j+(C?1:-1)*359),S="M".concat(x.x,",").concat(x.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),A=Je(e.id)?uw("recharts-radial-line-"):e.id;return z.createElement("text",vm({},n,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:A,d:S})),z.createElement("textPath",{xlinkHref:"#".concat(A)},r))},L4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(a==="outside"){var p=At(i,l,u+n,m),h=p.x,y=p.y;return{x:h,y,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,b=At(i,l,g,m),v=b.x,j=b.y;return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},F4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*a,p=f>0?"end":"start",h=f>0?"start":"end",y=u>=0?1:-1,g=y*a,b=y>0?"end":"start",v=y>0?"start":"end";if(s==="top"){var j={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return lr(lr({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var C={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:h};return lr(lr({},C),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var x={x:l-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return lr(lr({},x),n?{width:Math.max(x.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return lr(lr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?lr({x:l+g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):s==="insideRight"?lr({x:l+u-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideTop"?lr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:h},S):s==="insideBottom"?lr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},S):s==="insideTopLeft"?lr({x:l+g,y:c+m,textAnchor:v,verticalAnchor:h},S):s==="insideTopRight"?lr({x:l+u-g,y:c+m,textAnchor:b,verticalAnchor:h},S):s==="insideBottomLeft"?lr({x:l+g,y:c+d-m,textAnchor:v,verticalAnchor:p},S):s==="insideBottomRight"?lr({x:l+u-g,y:c+d-m,textAnchor:b,verticalAnchor:p},S):Cu(s)&&(je(s.x)||Di(s.x))&&(je(s.y)||Di(s.y))?lr({x:l+nn(s.x,u),y:c+nn(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):lr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},B4e=function(e){return"cx"in e&&je(e.cx)};function Ar(t){var e=t.offset,r=e===void 0?5:e,n=D4e(t,C4e),a=lr({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!s||Je(l)&&Je(c)&&!w.isValidElement(u)&&!We(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var p;if(We(u)){if(p=w.createElement(u,a),w.isValidElement(p))return p}else p=$4e(a);var h=B4e(s),y=ze(a,!0);if(h&&(i==="insideStart"||i==="insideEnd"||i==="end"))return M4e(a,p,y);var g=h?L4e(a):F4e(a);return z.createElement(Kc,vm({className:$e("recharts-label",f)},y,g,{breakAll:m}),p)}Ar.displayName="Label";var g8=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,p=e.top,h=e.left,y=e.width,g=e.height,b=e.clockWise,v=e.labelViewBox;if(v)return v;if(je(y)&&je(g)){if(je(f)&&je(m))return{x:f,y:m,width:y,height:g};if(je(p)&&je(h))return{x:p,y:h,width:y,height:g}}return je(f)&&je(m)?{x:f,y:m,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},q4e=function(e,r){return e?e===!0?z.createElement(Ar,{key:"label-implicit",viewBox:r}):fr(e)?z.createElement(Ar,{key:"label-implicit",viewBox:r,value:e}):w.isValidElement(e)?e.type===Ar?w.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(Ar,{key:"label-implicit",content:e,viewBox:r}):We(e)?z.createElement(Ar,{key:"label-implicit",content:e,viewBox:r}):Cu(e)?z.createElement(Ar,vm({viewBox:r},e,{key:"label-implicit"})):null:null},V4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=g8(e),i=Va(a,Ar).map(function(c,u){return w.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=q4e(e.label,r||s);return[l].concat(S4e(i))};Ar.parseViewBox=g8;Ar.renderCallByParent=V4e;function U4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var z4e=U4e;const W4e=it(z4e);function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}var H4e=["valueAccessor"],G4e=["data","dataKey","clockWise","id","textBreakAll"];function Y4e(t){return Q4e(t)||X4e(t)||J4e(t)||K4e()}function K4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J4e(t,e){if(t){if(typeof t=="string")return ZI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZI(t,e)}}function X4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q4e(t){if(Array.isArray(t))return ZI(t)}function ZI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Av.apply(this,arguments)}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){Z4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z4e(t,e,r){return e=eBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eBe(t){var e=tBe(t,"string");return jm(e)=="symbol"?e:e+""}function tBe(t,e){if(jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BL(t,e){if(t==null)return{};var r=rBe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nBe=function(e){return Array.isArray(e.value)?W4e(e.value):e.value};function Xi(t){var e=t.valueAccessor,r=e===void 0?nBe:e,n=BL(t,H4e),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=BL(n,G4e);return!a||!a.length?null:z.createElement(Wt,{className:"recharts-label-list"},a.map(function(d,f){var m=Je(s)?r(d,f):vn(d&&d.payload,s),p=Je(l)?{}:{id:"".concat(l,"-").concat(f)};return z.createElement(Ar,Av({},ze(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Ar.parseViewBox(Je(i)?d:FL(FL({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Xi.displayName="LabelList";function aBe(t,e){return t?t===!0?z.createElement(Xi,{key:"labelList-implicit",data:e}):z.isValidElement(t)||We(t)?z.createElement(Xi,{key:"labelList-implicit",data:e,content:t}):Cu(t)?z.createElement(Xi,Av({data:e},t,{key:"labelList-implicit"})):null:null}function sBe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Va(n,Xi).map(function(i,l){return w.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=aBe(t.label,e);return[s].concat(Y4e(a))}Xi.renderCallByParent=sBe;function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function ek(){return ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ek.apply(this,arguments)}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){oBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oBe(t,e,r){return e=iBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iBe(t){var e=lBe(t,"string");return wm(e)=="symbol"?e:e+""}function lBe(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cBe=function(e,r){var n=Hn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},jp=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Sv,m=u?s:s+i*f,p=At(r,n,d,m),h=At(r,n,a,m),y=u?s-i*f:s,g=At(r,n,d*Math.cos(f*Sv),y);return{center:p,circleTangency:h,lineTangency:g,theta:f}},y8=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.startAngle,l=e.endAngle,c=cBe(i,l),u=i+c,d=At(r,n,s,i),f=At(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=At(r,n,a,i),h=At(r,n,a,u);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},uBe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Hn(d-u),m=jp({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),p=m.circleTangency,h=m.lineTangency,y=m.theta,g=jp({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),b=g.circleTangency,v=g.lineTangency,j=g.theta,C=c?Math.abs(u-d):Math.abs(u-d)-y-j;if(C<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):y8({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var N=jp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),S=N.circleTangency,A=N.lineTangency,I=N.theta,k=jp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),D=k.circleTangency,_=k.lineTangency,M=k.theta,P=c?Math.abs(u-d):Math.abs(u-d)-I-M;if(P<0&&i===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},dBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},b8=function(e){var r=VL(VL({},dBe),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<s||d===f)return null;var p=$e("recharts-sector",m),h=i-s,y=nn(l,h,0,!0),g;return y>0&&Math.abs(d-f)<360?g=uBe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,h/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=y8({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),z.createElement("path",ek({},ze(r,!0),{className:p,d:g,role:"img"}))};function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function tk(){return tk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tk.apply(this,arguments)}function UL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(r),!0).forEach(function(n){fBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fBe(t,e,r){return e=mBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mBe(t){var e=hBe(t,"string");return Nm(e)=="symbol"?e:e+""}function hBe(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WL={curveBasisClosed:uke,curveBasisOpen:dke,curveBasis:cke,curveBumpX:KIe,curveBumpY:JIe,curveLinearClosed:fke,curveLinear:hw,curveMonotoneX:mke,curveMonotoneY:hke,curveNatural:pke,curveStep:gke,curveStepAfter:bke,curveStepBefore:yke},wp=function(e){return e.x===+e.x&&e.y===+e.y},ud=function(e){return e.x},dd=function(e){return e.y},pBe=function(e,r){if(We(e))return e;var n="curve".concat(fw(e));return(n==="curveMonotone"||n==="curveBump")&&r?WL["".concat(n).concat(r==="vertical"?"Y":"X")]:WL[n]||hw},gBe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=pBe(n,l),f=u?s.filter(function(y){return wp(y)}):s,m;if(Array.isArray(i)){var p=u?i.filter(function(y){return wp(y)}):i,h=f.map(function(y,g){return zL(zL({},y),{},{base:p[g]})});return l==="vertical"?m=fp().y(dd).x1(ud).x0(function(y){return y.base.x}):m=fp().x(ud).y1(dd).y0(function(y){return y.base.y}),m.defined(wp).curve(d),m(h)}return l==="vertical"&&je(i)?m=fp().y(dd).x1(ud).x0(i):je(i)?m=fp().x(ud).y1(dd).y0(i):m=bz().x(ud).y(dd),m.defined(wp).curve(d),m(f)},rk=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?gBe(e):a;return w.createElement("path",tk({},ze(e,!1),Qx(e),{className:$e("recharts-curve",r),d:i,ref:s}))},x8={exports:{}},yBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bBe=yBe,xBe=bBe;function v8(){}function j8(){}j8.resetWarningCache=v8;var vBe=function(){function t(n,a,s,i,l,c){if(c!==xBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:j8,resetWarningCache:v8};return r.PropTypes=r,r};x8.exports=vBe();var jBe=x8.exports;const lt=it(jBe);var wBe=Object.getOwnPropertyNames,NBe=Object.getOwnPropertySymbols,CBe=Object.prototype.hasOwnProperty;function HL(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function Np(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function GL(t){return wBe(t).concat(NBe(t))}var SBe=Object.hasOwn||function(t,e){return CBe.call(t,e)};function Il(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ABe="__v",IBe="__o",kBe="_owner",YL=Object.getOwnPropertyDescriptor,KL=Object.keys;function TBe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function DBe(t,e){return Il(t.getTime(),e.getTime())}function EBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function PBe(t,e){return t===e}function JL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=i.value,p=l.value;if(r.equals(m[0],p[0],c,f,t,e,r)&&r.equals(m[1],p[1],m[0],p[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var OBe=Il;function _Be(t,e,r){var n=KL(t),a=n.length;if(KL(e).length!==a)return!1;for(;a-- >0;)if(!w8(t,e,r,n[a]))return!1;return!0}function fd(t,e,r){var n=GL(t),a=n.length;if(GL(e).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!w8(t,e,r,s)||(i=YL(t,s),l=YL(e,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function $Be(t,e){return Il(t.valueOf(),e.valueOf())}function RBe(t,e){return t.source===e.source&&t.flags===e.flags}function XL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),i,l;(i=s.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function MBe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function LBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function w8(t,e,r,n){return(n===kBe||n===IBe||n===ABe)&&(t.$$typeof||e.$$typeof)?!0:SBe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var FBe="[object Arguments]",BBe="[object Boolean]",qBe="[object Date]",VBe="[object Error]",UBe="[object Map]",zBe="[object Number]",WBe="[object Object]",HBe="[object RegExp]",GBe="[object Set]",YBe="[object String]",KBe="[object URL]",JBe=Array.isArray,QL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ZL=Object.assign,XBe=Object.prototype.toString.call.bind(Object.prototype.toString);function QBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(h,y,g){if(h===y)return!0;if(h==null||y==null)return!1;var b=typeof h;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?i(h,y,g):b==="function"?a(h,y,g):!1;var v=h.constructor;if(v!==y.constructor)return!1;if(v===Object)return l(h,y,g);if(JBe(h))return e(h,y,g);if(QL!=null&&QL(h))return f(h,y,g);if(v===Date)return r(h,y,g);if(v===RegExp)return u(h,y,g);if(v===Map)return s(h,y,g);if(v===Set)return d(h,y,g);var j=XBe(h);return j===qBe?r(h,y,g):j===HBe?u(h,y,g):j===UBe?s(h,y,g):j===GBe?d(h,y,g):j===WBe?typeof h.then!="function"&&typeof y.then!="function"&&l(h,y,g):j===KBe?m(h,y,g):j===VBe?n(h,y,g):j===FBe?l(h,y,g):j===BBe||j===zBe||j===YBe?c(h,y,g):!1}}function ZBe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?fd:TBe,areDatesEqual:DBe,areErrorsEqual:EBe,areFunctionsEqual:PBe,areMapsEqual:n?HL(JL,fd):JL,areNumbersEqual:OBe,areObjectsEqual:n?fd:_Be,arePrimitiveWrappersEqual:$Be,areRegExpsEqual:RBe,areSetsEqual:n?HL(XL,fd):XL,areTypedArraysEqual:n?fd:MBe,areUrlsEqual:LBe};if(r&&(a=ZL({},a,r(a))),e){var s=Np(a.areArraysEqual),i=Np(a.areMapsEqual),l=Np(a.areObjectsEqual),c=Np(a.areSetsEqual);a=ZL({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function e3e(t){return function(e,r,n,a,s,i,l){return t(e,r,l)}}function t3e(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:m,equals:a,meta:p,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var r3e=ti();ti({strict:!0});ti({circular:!0});ti({circular:!0,strict:!0});ti({createInternalComparator:function(){return Il}});ti({strict:!0,createInternalComparator:function(){return Il}});ti({circular:!0,createInternalComparator:function(){return Il}});ti({circular:!0,createInternalComparator:function(){return Il},strict:!0});function ti(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,i=s===void 0?!1:s,l=ZBe(t),c=QBe(l),u=n?n(c):e3e(c);return t3e({circular:r,comparator:c,createState:a,equals:u,strict:i})}function n3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function eF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):n3e(a)};requestAnimationFrame(n)}function nk(t){"@babel/helpers - typeof";return nk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nk(t)}function a3e(t){return l3e(t)||i3e(t)||o3e(t)||s3e()}function s3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3e(t,e){if(t){if(typeof t=="string")return tF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tF(t,e)}}function tF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l3e(t){if(Array.isArray(t))return t}function c3e(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=a3e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){eF(a.bind(null,u),c);return}a(c),eF(a.bind(null,u));return}nk(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function rF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(r),!0).forEach(function(n){N8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N8(t,e,r){return e=u3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u3e(t){var e=d3e(t,"string");return Cm(e)==="symbol"?e:String(e)}function d3e(t,e){if(Cm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},m3e=function(e){return e},h3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},df=function(e,r){return Object.keys(r).reduce(function(n,a){return nF(nF({},n),{},N8({},a,e(a,r[a])))},{})},aF=function(e,r,n){return e.map(function(a){return"".concat(h3e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function p3e(t,e){return b3e(t)||y3e(t,e)||C8(t,e)||g3e()}function g3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function b3e(t){if(Array.isArray(t))return t}function x3e(t){return w3e(t)||j3e(t)||C8(t)||v3e()}function v3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8(t,e){if(t){if(typeof t=="string")return ak(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ak(t,e)}}function j3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w3e(t){if(Array.isArray(t))return ak(t)}function ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Iv=1e-4,S8=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},A8=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},sF=function(e,r){return function(n){var a=S8(e,r);return A8(a,n)}},N3e=function(e,r){return function(n){var a=S8(e,r),s=[].concat(x3e(a.map(function(i,l){return i*l}).slice(1)),[0]);return A8(s,n)}},oF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=p3e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=sF(a,i),m=sF(s,l),p=N3e(a,i),h=function(b){return b>1?1:b<0?0:b},y=function(b){for(var v=b>1?1:b,j=v,C=0;C<8;++C){var x=f(j)-v,N=p(j);if(Math.abs(x-v)<Iv||N<Iv)return m(j);j=h(j-x/N)}return m(j)};return y.isStepper=!1,y},C3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var p=-(d-f)*n,h=m*s,y=m+(p-h)*l/1e3,g=m*l/1e3+d;return Math.abs(g-f)<Iv&&Math.abs(y)<Iv?[f,0]:[g,y]};return c.isStepper=!0,c.dt=l,c},S3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oF(a);case"spring":return C3e();default:if(a.split("(")[0]==="cubic-bezier")return oF(a)}return typeof a=="function"?a:null};function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function iF(t){return k3e(t)||I3e(t)||I8(t)||A3e()}function A3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k3e(t){if(Array.isArray(t))return ok(t)}function lF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(r),!0).forEach(function(n){sk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sk(t,e,r){return e=T3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T3e(t){var e=D3e(t,"string");return Sm(e)==="symbol"?e:String(e)}function D3e(t,e){if(Sm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E3e(t,e){return _3e(t)||O3e(t,e)||I8(t,e)||P3e()}function P3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I8(t,e){if(t){if(typeof t=="string")return ok(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ok(t,e)}}function ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function _3e(t){if(Array.isArray(t))return t}var kv=function(e,r,n){return e+(r-e)*n},ik=function(e){var r=e.from,n=e.to;return r!==n},$3e=function t(e,r,n){var a=df(function(s,i){if(ik(i)){var l=e(i.from,i.to,i.velocity),c=E3e(l,2),u=c[0],d=c[1];return Nr(Nr({},i),{},{from:u,velocity:d})}return i},r);return n<1?df(function(s,i){return ik(i)?Nr(Nr({},i),{},{velocity:kv(i.velocity,a[s].velocity,n),from:kv(i.from,a[s].from,n)}):i},r):t(e,a,n-1)};const R3e=function(t,e,r,n,a){var s=f3e(t,e),i=s.reduce(function(g,b){return Nr(Nr({},g),{},sk({},b,[t[b],e[b]]))},{}),l=s.reduce(function(g,b){return Nr(Nr({},g),{},sk({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return df(function(b,v){return v.from},l)},p=function(){return!Object.values(l).filter(ik).length},h=function(b){u||(u=b);var v=b-u,j=v/r.dt;l=$3e(r,l,j),a(Nr(Nr(Nr({},t),e),m())),u=b,p()||(c=requestAnimationFrame(f))},y=function(b){d||(d=b);var v=(b-d)/n,j=df(function(x,N){return kv.apply(void 0,iF(N).concat([r(v)]))},i);if(a(Nr(Nr(Nr({},t),e),j)),v<1)c=requestAnimationFrame(f);else{var C=df(function(x,N){return kv.apply(void 0,iF(N).concat([r(1)]))},i);a(Nr(Nr(Nr({},t),e),C))}};return f=r.isStepper?h:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}var M3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function L3e(t,e){if(t==null)return{};var r=F3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function rC(t){return U3e(t)||V3e(t)||q3e(t)||B3e()}function B3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q3e(t,e){if(t){if(typeof t=="string")return lk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(t,e)}}function V3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U3e(t){if(Array.isArray(t))return lk(t)}function lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(r),!0).forEach(function(n){kd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kd(t,e,r){return e=k8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k8(n.key),n)}}function H3e(t,e,r){return e&&W3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k8(t){var e=G3e(t,"string");return tu(e)==="symbol"?e:String(e)}function G3e(t,e){if(tu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ck(t,e)}function K3e(t){var e=J3e();return function(){var n=Tv(t),a;if(e){var s=Tv(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return uk(this,a)}}function uk(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dk(t)}function dk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(t)}var Bo=function(t){Y3e(r,t);var e=K3e(r);function r(n,a){var s;z3e(this,r),s=e.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,p=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(dk(s)),s.changeStyle=s.changeStyle.bind(dk(s)),!l||p<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),uk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},uk(s);s.state={style:c?kd({},c,u):u}}else s.state={style:{}};return s}return H3e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!i){var p={style:c?kd({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(r3e(a.to,d)&&a.canBegin&&a.isActive)){var h=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=h||u?f:a.to;if(this.state&&m){var g={style:c?kd({},c,y):y};(c&&m[c]!==y||!c&&m!==y)&&this.setState(g)}this.runAnimation(aa(aa({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,p=R3e(i,l,S3e(u),c,this.changeStyle),h=function(){s.stopJSAnimation=p()};this.manager.start([m,d,h,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(y,g,b){if(b===0)return y;var v=g.duration,j=g.easing,C=j===void 0?"ease":j,x=g.style,N=g.properties,S=g.onAnimationEnd,A=b>0?i[b-1]:g,I=N||Object.keys(x);if(typeof C=="function"||C==="spring")return[].concat(rC(y),[s.runJSAnimation.bind(s,{from:A.style,to:x,duration:v,easing:C}),v]);var k=aF(I,v,C),D=aa(aa(aa({},A.style),x),{},{transition:k});return[].concat(rC(y),[D,v,S]).filter(m3e)};return this.manager.start([c].concat(rC(i.reduce(p,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=c3e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,p=a.children,h=this.manager;if(this.unSubscribe=h.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var y=l?kd({},l,c):c,g=aF(Object.keys(y),i,u);h.start([d,s,aa(aa({},y),{},{transition:g}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=L3e(a,M3e),u=w.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(p){var h=p.props,y=h.style,g=y===void 0?{}:y,b=h.className,v=w.cloneElement(p,aa(aa({},c),{},{style:aa(aa({},g),d),className:b}));return v};return u===1?f(w.Children.only(s)):z.createElement("div",null,w.Children.map(s,function(m){return f(m)}))}}]),r}(w.PureComponent);Bo.displayName="Animate";Bo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bo.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}function X3e(t,e){return tqe(t)||eqe(t,e)||Z3e(t,e)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3e(t,e){if(t){if(typeof t=="string")return uF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uF(t,e)}}function uF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function tqe(t){if(Array.isArray(t))return t}function dF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(r),!0).forEach(function(n){rqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rqe(t,e,r){return e=nqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nqe(t){var e=aqe(t,"string");return Am(e)=="symbol"?e:e+""}function aqe(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mF=function(e,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var h=Math.min(i,s);d="M ".concat(e,",").concat(r+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+c*h,",").concat(r,`
            L `).concat(e+n-c*h,",").concat(r,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*h,`
            L `).concat(e+n,",").concat(r+a-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+n-c*h,",").concat(r+a,`
            L `).concat(e+c*h,",").concat(r+a,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*h," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},sqe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},oqe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HE=function(e){var r=fF(fF({},oqe),e),n=w.useRef(),a=w.useState(-1),s=X3e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,p=r.className,h=r.animationEasing,y=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=$e("recharts-rectangle",p);return v?z.createElement(Bo,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:h,isActive:v},function(C){var x=C.width,N=C.height,S=C.x,A=C.y;return z.createElement(Bo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,isActive:b,easing:h},z.createElement("path",Dv({},ze(r,!0),{className:j,d:mF(S,A,x,N,m),ref:n})))}):z.createElement("path",Dv({},ze(r,!0),{className:j,d:mF(c,u,d,f,m)}))},iqe=["points","className","baseLinePoints","connectNulls"];function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tc.apply(this,arguments)}function lqe(t,e){if(t==null)return{};var r=cqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hF(t){return mqe(t)||fqe(t)||dqe(t)||uqe()}function uqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dqe(t,e){if(t){if(typeof t=="string")return fk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(t,e)}}function fqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mqe(t){if(Array.isArray(t))return fk(t)}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pF=function(e){return e&&e.x===+e.x&&e.y===+e.y},hqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){pF(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),pF(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ff=function(e,r){var n=hqe(e);r&&(n=[n.reduce(function(s,i){return[].concat(hF(s),hF(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},pqe=function(e,r,n){var a=ff(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ff(r.reverse(),n).slice(1))},gqe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=lqe(e,iqe);if(!r||!r.length)return null;var l=$e("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=pqe(r,a,s);return z.createElement("g",{className:l},z.createElement("path",tc({},ze(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?z.createElement("path",tc({},ze(i,!0),{fill:"none",d:ff(r,s)})):null,c?z.createElement("path",tc({},ze(i,!0),{fill:"none",d:ff(a,s)})):null)}var d=ff(r,s);return z.createElement("path",tc({},ze(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mk.apply(this,arguments)}var GE=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=$e("recharts-dot",s);return r===+r&&n===+n&&a===+a?w.createElement("circle",mk({},ze(e,!1),Qx(e),{className:i,cx:r,cy:n,r:a})):null};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}var yqe=["x","y","top","left","width","height","className"];function hk(){return hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hk.apply(this,arguments)}function gF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bqe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(r),!0).forEach(function(n){xqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xqe(t,e,r){return e=vqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vqe(t){var e=jqe(t,"string");return Im(e)=="symbol"?e:e+""}function jqe(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wqe(t,e){if(t==null)return{};var r=Nqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Cqe=function(e,r,n,a,s,i){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},Sqe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,p=m===void 0?0:m,h=e.className,y=wqe(e,yqe),g=bqe({x:n,y:s,top:l,left:u,width:f,height:p},y);return!je(n)||!je(s)||!je(f)||!je(p)||!je(l)||!je(u)?null:z.createElement("path",hk({},ze(g,!0),{className:$e("recharts-cross",h),d:Cqe(n,s,f,p,l,u)}))},Aqe=Iw,Iqe=W7,kqe=Qo;function Tqe(t,e){return t&&t.length?Aqe(t,kqe(e),Iqe):void 0}var Dqe=Tqe;const Eqe=it(Dqe);var Pqe=Iw,Oqe=Qo,_qe=H7;function $qe(t,e){return t&&t.length?Pqe(t,Oqe(e),_qe):void 0}var Rqe=$qe;const Mqe=it(Rqe);var Lqe=["cx","cy","angle","ticks","axisLine"],Fqe=["ticks","tick","angle","tickFormatter","stroke"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(this,arguments)}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){Pw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bF(t,e){if(t==null)return{};var r=Bqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D8(n.key),n)}}function Vqe(t,e,r){return e&&xF(t.prototype,e),r&&xF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uqe(t,e,r){return e=Ev(e),zqe(t,T8()?Reflect.construct(e,r||[],Ev(t).constructor):e.apply(t,r))}function zqe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wqe(t)}function Wqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T8=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ev(t)}function Hqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pk(t,e)}function pk(t,e){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pk(t,e)}function Pw(t,e,r){return e=D8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D8(t){var e=Gqe(t,"string");return ru(e)=="symbol"?e:e+""}function Gqe(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ow=function(t){function e(){return qqe(this,e),Uqe(this,e,arguments)}return Hqe(e,t),Vqe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return At(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=Eqe(l,function(d){return d.coordinate||0}),u=Mqe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=bF(n,Lqe),d=l.reduce(function(h,y){return[Math.min(h[0],y.coordinate),Math.max(h[1],y.coordinate)]},[1/0,-1/0]),f=At(a,s,d[0],i),m=At(a,s,d[1],i),p=ui(ui(ui({},ze(u,!1)),{},{fill:"none"},ze(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return z.createElement("line",mf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=bF(a,Fqe),f=this.getTickTextAnchor(),m=ze(d,!1),p=ze(i,!1),h=s.map(function(y,g){var b=n.getTickValueCoord(y),v=ui(ui(ui(ui({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:u},p),{},{index:g},b),{},{payload:y});return z.createElement(Wt,mf({className:$e("recharts-polar-radius-axis-tick",p8(i)),key:"tick-".concat(y.coordinate)},dw(n.props,y,g)),e.renderTickItem(i,v,c?c(y.value,g):y.value))});return z.createElement(Wt,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:z.createElement(Wt,{className:$e("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Ar.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return z.isValidElement(n)?i=z.cloneElement(n,a):We(n)?i=n(a):i=z.createElement(Kc,mf({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(w.PureComponent);Pw(Ow,"displayName","PolarRadiusAxis");Pw(Ow,"axisType","radiusAxis");Pw(Ow,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function ji(){return ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ji.apply(this,arguments)}function vF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(r),!0).forEach(function(n){_w(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P8(n.key),n)}}function Kqe(t,e,r){return e&&jF(t.prototype,e),r&&jF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jqe(t,e,r){return e=Pv(e),Xqe(t,E8()?Reflect.construct(e,r||[],Pv(t).constructor):e.apply(t,r))}function Xqe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qqe(t)}function Qqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pv(t)}function Zqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gk(t,e)}function gk(t,e){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gk(t,e)}function _w(t,e,r){return e=P8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P8(t){var e=e6e(t,"string");return nu(e)=="symbol"?e:e+""}function e6e(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t6e=Math.PI/180,wF=1e-5,$w=function(t){function e(){return Yqe(this,e),Jqe(this,e,arguments)}return Zqe(e,t),Kqe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=At(s,i,l,n.coordinate),m=At(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*t6e),i;return s>wF?i=a==="outer"?"start":"end":s<-wF?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=di(di({},ze(this.props,!1)),{},{fill:"none"},ze(l,!1));if(c==="circle")return z.createElement(GE,ji({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(m){return At(a,s,i,m.coordinate)});return z.createElement(gqe,ji({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ze(this.props,!1),f=ze(i,!1),m=di(di({},d),{},{fill:"none"},ze(l,!1)),p=s.map(function(h,y){var g=n.getTickLineCoord(h),b=n.getTickTextAnchor(h),v=di(di(di({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:h,x:g.x2,y:g.y2});return z.createElement(Wt,ji({className:$e("recharts-polar-angle-axis-tick",p8(i)),key:"tick-".concat(h.coordinate)},dw(n.props,h,y)),l&&z.createElement("line",ji({className:"recharts-polar-angle-axis-tick-line"},m,g)),i&&e.renderTickItem(i,v,c?c(h.value,y):h.value))});return z.createElement(Wt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:z.createElement(Wt,{className:$e("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return z.isValidElement(n)?i=z.cloneElement(n,a):We(n)?i=n(a):i=z.createElement(Kc,ji({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(w.PureComponent);_w($w,"displayName","PolarAngleAxis");_w($w,"axisType","angleAxis");_w($w,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var r6e=Vz,n6e=r6e(Object.getPrototypeOf,Object),a6e=n6e,s6e=qs,o6e=a6e,i6e=Vs,l6e="[object Object]",c6e=Function.prototype,u6e=Object.prototype,O8=c6e.toString,d6e=u6e.hasOwnProperty,f6e=O8.call(Object);function m6e(t){if(!i6e(t)||s6e(t)!=l6e)return!1;var e=o6e(t);if(e===null)return!0;var r=d6e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&O8.call(r)==f6e}var h6e=m6e;const p6e=it(h6e);var g6e=qs,y6e=Vs,b6e="[object Boolean]";function x6e(t){return t===!0||t===!1||y6e(t)&&g6e(t)==b6e}var v6e=x6e;const j6e=it(v6e);function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ov.apply(this,arguments)}function w6e(t,e){return A6e(t)||S6e(t,e)||C6e(t,e)||N6e()}function N6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6e(t,e){if(t){if(typeof t=="string")return NF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NF(t,e)}}function NF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function A6e(t){if(Array.isArray(t))return t}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){I6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I6e(t,e,r){return e=k6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k6e(t){var e=T6e(t,"string");return km(e)=="symbol"?e:e+""}function T6e(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AF=function(e,r,n,a,s){var i=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+s),l+="L ".concat(e+n-i/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},D6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E6e=function(e){var r=SF(SF({},D6e),e),n=w.useRef(),a=w.useState(-1),s=w6e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,p=r.className,h=r.animationEasing,y=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var v=$e("recharts-trapezoid",p);return b?z.createElement(Bo,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:y,animationEasing:h,isActive:b},function(j){var C=j.upperWidth,x=j.lowerWidth,N=j.height,S=j.x,A=j.y;return z.createElement(Bo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,easing:h},z.createElement("path",Ov({},ze(r,!0),{className:v,d:AF(S,A,C,x,N),ref:n})))}):z.createElement("g",null,z.createElement("path",Ov({},ze(r,!0),{className:v,d:AF(c,u,d,f,m)})))},P6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function O6e(t,e){if(t==null)return{};var r=_6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _v(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(r),!0).forEach(function(n){$6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $6e(t,e,r){return e=R6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R6e(t){var e=M6e(t,"string");return Tm(e)=="symbol"?e:e+""}function M6e(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L6e(t,e){return _v(_v({},e),t)}function F6e(t,e){return t==="symbols"}function kF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(HE,r);case"trapezoid":return z.createElement(E6e,r);case"sector":return z.createElement(b8,r);case"symbols":if(F6e(e))return z.createElement(lE,r);break;default:return null}}function B6e(t){return w.isValidElement(t)?t.props:t}function q6e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?L6e:n,s=t.activeClassName,i=s===void 0?"recharts-active-shape":s,l=t.isActive,c=O6e(t,P6e),u;if(w.isValidElement(e))u=w.cloneElement(e,_v(_v({},c),B6e(e)));else if(We(e))u=e(c);else if(p6e(e)&&!j6e(e)){var d=a(e,c);u=z.createElement(kF,{shapeType:r,elementProps:d})}else{var f=c;u=z.createElement(kF,{shapeType:r,elementProps:f})}return l?z.createElement(Wt,{className:i},u):u}function Rw(t,e){return e!=null&&"trapezoids"in t.props}function Mw(t,e){return e!=null&&"sectors"in t.props}function Dm(t,e){return e!=null&&"points"in t.props}function V6e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function U6e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function z6e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function W6e(t,e){var r;return Rw(t,e)?r=V6e:Mw(t,e)?r=U6e:Dm(t,e)&&(r=z6e),r}function H6e(t,e){var r;return Rw(t,e)?r="trapezoids":Mw(t,e)?r="sectors":Dm(t,e)&&(r="points"),r}function G6e(t,e){if(Rw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Mw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Dm(t,e)?e.payload:{}}function Y6e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=H6e(r,e),s=G6e(r,e),i=n.filter(function(c,u){var d=qE(s,c),f=r.props[a].filter(function(h){var y=W6e(r,e);return y(h,e)}),m=r.props[a].indexOf(f[f.length-1]),p=u===m;return d&&p}),l=n.indexOf(i[i.length-1]);return l}var qb;function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rc.apply(this,arguments)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){zn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$8(n.key),n)}}function J6e(t,e,r){return e&&DF(t.prototype,e),r&&DF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function X6e(t,e,r){return e=$v(e),Q6e(t,_8()?Reflect.construct(e,r||[],$v(t).constructor):e.apply(t,r))}function Q6e(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z6e(t)}function Z6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_8=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(t)}function eVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yk(t,e)}function yk(t,e){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yk(t,e)}function zn(t,e,r){return e=$8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $8(t){var e=tVe(t,"string");return au(e)=="symbol"?e:e+""}function tVe(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ta=function(t){function e(r){var n;return K6e(this,e),n=X6e(this,e,[r]),zn(n,"pieRef",null),zn(n,"sectorRefs",[]),zn(n,"id",uw("recharts-pie-")),zn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(a)&&a()}),zn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return eVe(e,t),J6e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=ze(this.props,!1),f=ze(i,!1),m=ze(l,!1),p=i&&i.offsetRadius||20,h=n.map(function(y,g){var b=(y.startAngle+y.endAngle)/2,v=At(y.cx,y.cy,y.outerRadius+p,b),j=jt(jt(jt(jt({},d),y),{},{stroke:"none"},f),{},{index:g,textAnchor:e.getTextAnchor(v.x,y.cx)},v),C=jt(jt(jt(jt({},d),y),{},{fill:"none",stroke:y.fill},m),{},{index:g,points:[At(y.cx,y.cy,y.outerRadius,b),v]}),x=c;return Je(c)&&Je(u)?x="value":Je(c)&&(x=u),z.createElement(Wt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(i,j,vn(y,x)))});return z.createElement(Wt,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,p=f?i:m,h=jt(jt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return z.createElement(Wt,rc({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},dw(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),z.createElement(q6e,rc({option:p,isActive:f,shapeType:"sector"},h)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,p=f.prevIsAnimationActive;return z.createElement(Bo,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(h){var y=h.t,g=[],b=s&&s[0],v=b.startAngle;return s.forEach(function(j,C){var x=m&&m[C],N=C>0?ya(j,"paddingAngle",0):0;if(x){var S=wR(x.endAngle-x.startAngle,j.endAngle-j.startAngle),A=jt(jt({},j),{},{startAngle:v+N,endAngle:v+S(y)+N});g.push(A),v=A.endAngle}else{var I=j.endAngle,k=j.startAngle,D=wR(0,I-k),_=D(y),M=jt(jt({},j),{},{startAngle:v+N,endAngle:v+_+N});g.push(M),v=M.endAngle}}),z.createElement(Wt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!qE(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,p=a.isAnimationActive,h=this.state.isAnimationFinished;if(s||!i||!i.length||!je(u)||!je(d)||!je(f)||!je(m))return null;var y=$e("recharts-pie",l);return z.createElement(Wt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(i),Ar.renderCallByParent(this.props,null,!1),(!p||h)&&Xi.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(z.isValidElement(n))return z.cloneElement(n,a);if(We(n))return n(a);var i=$e("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(rk,rc({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(z.isValidElement(n))return z.cloneElement(n,a);var i=s;if(We(n)&&(i=n(a),z.isValidElement(i)))return i;var l=$e("recharts-pie-label-text",typeof n!="boolean"&&!We(n)?n.className:"");return z.createElement(Kc,rc({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(w.PureComponent);qb=ta;zn(ta,"displayName","Pie");zn(ta,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!xw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});zn(ta,"parseDeltaAngle",function(t,e){var r=Hn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});zn(ta,"getRealPieData",function(t){var e=t.data,r=t.children,n=ze(t,!1),a=Va(r,Eu);return e&&e.length?e.map(function(s,i){return jt(jt(jt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return jt(jt({},n),s.props)}):[]});zn(ta,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,i=h8(a,s),l=n+nn(t.cx,a,a/2),c=r+nn(t.cy,s,s/2),u=nn(t.innerRadius,i,0),d=nn(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});zn(ta,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?jt(jt({},e.type.defaultProps),e.props):e.props,a=qb.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,p=Math.abs(n.minAngle),h=qb.parseCoordinateOfPie(n,r),y=qb.parseDeltaAngle(i,l),g=Math.abs(y),b=u;Je(u)&&Je(f)?(ws(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Je(u)&&(ws(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var v=a.filter(function(A){return vn(A,b,0)!==0}).length,j=(g>=360?v:v-1)*c,C=g-v*p-j,x=a.reduce(function(A,I){var k=vn(I,b,0);return A+(je(k)?k:0)},0),N;if(x>0){var S;N=a.map(function(A,I){var k=vn(A,b,0),D=vn(A,d,I),_=(je(k)?k:0)/x,M;I?M=S.endAngle+Hn(y)*c*(k!==0?1:0):M=i;var P=M+Hn(y)*((k!==0?p:0)+_*C),O=(M+P)/2,L=(h.innerRadius+h.outerRadius)/2,V=[{name:D,value:k,payload:A,dataKey:b,type:m}],$=At(h.cx,h.cy,L,O);return S=jt(jt(jt({percent:_,cornerRadius:s,name:D,tooltipPayload:V,midAngle:O,middleRadius:L,tooltipPosition:$},A),h),{},{value:vn(A,b),startAngle:M,endAngle:P,payload:A,paddingAngle:Hn(y)*c}),S})}return jt(jt({},h),{},{sectors:N,data:a})});var rVe=Math.ceil,nVe=Math.max;function aVe(t,e,r,n){for(var a=-1,s=nVe(rVe((e-t)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=t,t+=r;return i}var sVe=aVe,oVe=o7,EF=1/0,iVe=17976931348623157e292;function lVe(t){if(!t)return t===0?t:0;if(t=oVe(t),t===EF||t===-EF){var e=t<0?-1:1;return e*iVe}return t===t?t:0}var cVe=lVe,uVe=sVe,dVe=bw,nC=cVe;function fVe(t){return function(e,r,n){return n&&typeof n!="number"&&dVe(e,r,n)&&(r=n=void 0),e=nC(e),r===void 0?(r=e,e=0):r=nC(r),n=n===void 0?e<r?1:-1:nC(n),uVe(e,r,n,t)}}var mVe=fVe,hVe=mVe,pVe=hVe(),gVe=pVe;const Rv=it(gVe);function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function PF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(r),!0).forEach(function(n){R8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R8(t,e,r){return e=yVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yVe(t){var e=bVe(t,"string");return Em(e)=="symbol"?e:e+""}function bVe(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xVe=["Webkit","Moz","O","ms"],vVe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=xVe.reduce(function(s,i){return OF(OF({},s),{},R8({},i+n,r))},{});return a[e]=r,a};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mv.apply(this,arguments)}function _F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(r),!0).forEach(function(n){yn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L8(n.key),n)}}function wVe(t,e,r){return e&&$F(t.prototype,e),r&&$F(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NVe(t,e,r){return e=Lv(e),CVe(t,M8()?Reflect.construct(e,r||[],Lv(t).constructor):e.apply(t,r))}function CVe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SVe(t)}function SVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M8=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(t)}function AVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bk(t,e)}function bk(t,e){return bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bk(t,e)}function yn(t,e,r){return e=L8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L8(t){var e=IVe(t,"string");return su(e)=="symbol"?e:e+""}function IVe(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kVe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=cf().domain(Rv(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},RF=function(e){return e.changedTouches&&!!e.changedTouches.length},ou=function(t){function e(r){var n;return jVe(this,e),n=NVe(this,e,[r]),yn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),yn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),yn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),yn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),yn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),yn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),yn(n,"handleSlideDragStart",function(a){var s=RF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return AVe(e,t),wVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),m=Math.max(a,s),p=e.getIndexInRange(i,f),h=e.getIndexInRange(i,m);return{startIndex:p-p%c,endIndex:h===d?d:h-h%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=vn(s[n],l,n);return We(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,h=c.onChange,y=n.pageX-s;y>0?y=Math.min(y,u+d-f-l,u+d-f-i):y<0&&(y=Math.max(y,u-i,u-l));var g=this.getIndex({startX:i+y,endX:l+y});(g.startIndex!==m||g.endIndex!==p)&&h&&h(g),this.setState({startX:i+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=RF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,h=d.onChange,y=d.gap,g=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-s;v>0?v=Math.min(v,f+m-p-u):v<0&&(v=Math.max(v,f-u)),b[i]=u+v;var j=this.getIndex(b),C=j.startIndex,x=j.endIndex,N=function(){var A=g.length-1;return i==="startX"&&(l>c?C%y===0:x%y===0)||l<c&&x===A||i==="endX"&&(l>c?x%y===0:C%y===0)||l>c&&x===A};this.setState(yn(yn({},i,u+v),"brushMoveStartX",n.pageX),function(){h&&N()&&h(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var p=l[m];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(yn({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return z.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?z.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,h=c.data,y=c.startIndex,g=c.endIndex,b=Math.max(n,this.props.x),v=aC(aC({},ze(this.props,!1)),{},{x:b,y:u,width:d,height:f}),j=p||"Min value: ".concat((s=h[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=h[g])===null||i===void 0?void 0:i.name);return z.createElement(Wt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),l.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,v))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,p=5,h={pointerEvents:"none",fill:u};return z.createElement(Wt,{className:"recharts-brush-texts"},z.createElement(Kc,Mv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:i+l/2},h),this.getTextOfTick(a)),z.createElement(Kc,Mv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:i+l/2},h),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,p=m.startX,h=m.endX,y=m.isTextActive,g=m.isSlideMoving,b=m.isTravellerMoving,v=m.isTravellerFocused;if(!a||!a.length||!je(l)||!je(c)||!je(u)||!je(d)||u<=0||d<=0)return null;var j=$e("recharts-brush",s),C=z.Children.count(i)===1,x=vVe("userSelect","none");return z.createElement(Wt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,h),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(h,"endX"),(y||g||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,a):We(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return aC({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?kVe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var m=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(w.PureComponent);yn(ou,"displayName","Brush");yn(ou,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var TVe=gE;function DVe(t,e){var r;return TVe(t,function(n,a,s){return r=e(n,a,s),!r}),!!r}var EVe=DVe,PVe=_z,OVe=Qo,_Ve=EVe,$Ve=pn,RVe=bw;function MVe(t,e,r){var n=$Ve(t)?PVe:_Ve;return r&&RVe(t,e,r)&&(e=void 0),n(t,OVe(e))}var LVe=MVe;const FVe=it(LVe);var Wa=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},MF=t7;function BVe(t,e,r){e=="__proto__"&&MF?MF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var qVe=BVe,VVe=qVe,UVe=Zz,zVe=Qo;function WVe(t,e){var r={};return e=zVe(e),UVe(t,function(n,a,s){VVe(r,a,e(n,a,s))}),r}var HVe=WVe;const GVe=it(HVe);function YVe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var KVe=YVe,JVe=gE;function XVe(t,e){var r=!0;return JVe(t,function(n,a,s){return r=!!e(n,a,s),r}),r}var QVe=XVe,ZVe=KVe,eUe=QVe,tUe=Qo,rUe=pn,nUe=bw;function aUe(t,e,r){var n=rUe(t)?ZVe:eUe;return r&&nUe(t,e,r)&&(e=void 0),n(t,tUe(e))}var sUe=aUe;const oUe=it(sUe);function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function iUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F8(n.key),n)}}function lUe(t,e,r){return e&&LF(t.prototype,e),r&&LF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){YE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YE(t,e,r){return e=F8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F8(t){var e=cUe(t,"string");return Pm(e)=="symbol"?e:e+""}function cUe(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B8=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},uUe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return B8({x:r,y:n},{x:a,y:s})},q8=function(){function t(e){iUe(this,t),this.scale=e}return lUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();YE(q8,"EPS",1e-4);var KE=function(e){var r=Object.keys(e).reduce(function(n,a){return Cp(Cp({},n),{},YE({},a,q8.create(e[a])))},{});return Cp(Cp({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return GVe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return oUe(a,function(s,i){return r[i].isInRange(s)})}})},dUe=USe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),V8=w.createContext(void 0),U8=w.createContext(void 0),z8=w.createContext(void 0),fUe=w.createContext({}),W8=w.createContext(void 0),mUe=w.createContext(0),hUe=w.createContext(0),BF=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=dUe(s);return z.createElement(V8.Provider,{value:n},z.createElement(U8.Provider,{value:a},z.createElement(fUe.Provider,{value:s},z.createElement(z8.Provider,{value:d},z.createElement(W8.Provider,{value:i},z.createElement(mUe.Provider,{value:u},z.createElement(hUe.Provider,{value:c},l)))))))},pUe=function(){return w.useContext(W8)},gUe=function(e){var r=w.useContext(V8);r==null&&Zc();var n=r[e];return n==null&&Zc(),n},yUe=function(e){var r=w.useContext(U8);r==null&&Zc();var n=r[e];return n==null&&Zc(),n},bUe=function(){var e=w.useContext(z8);return e};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function xUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G8(n.key),n)}}function jUe(t,e,r){return e&&vUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wUe(t,e,r){return e=Fv(e),NUe(t,H8()?Reflect.construct(e,r||[],Fv(t).constructor):e.apply(t,r))}function NUe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CUe(t)}function CUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H8=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(t)}function SUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xk(t,e)}function xk(t,e){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xk(t,e)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){JE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JE(t,e,r){return e=G8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G8(t){var e=AUe(t,"string");return iu(e)=="symbol"?e:e+""}function AUe(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IUe(t,e){return EUe(t)||DUe(t,e)||TUe(t,e)||kUe()}function kUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TUe(t,e){if(t){if(typeof t=="string")return UF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UF(t,e)}}function UF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function EUe(t){if(Array.isArray(t))return t}function vk(){return vk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vk.apply(this,arguments)}var PUe=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):We(e)?n=e(r):n=z.createElement("line",vk({},r,{className:"recharts-reference-line-line"})),n},OUe=function(e,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,m=s.width,p=s.height;if(n){var h=u.y,y=e.y.apply(h,{position:i});if(Wa(u,"discard")&&!e.y.isInRange(y))return null;var g=[{x:d+m,y},{x:d,y}];return c==="left"?g.reverse():g}if(r){var b=u.x,v=e.x.apply(b,{position:i});if(Wa(u,"discard")&&!e.x.isInRange(v))return null;var j=[{x:v,y:f+p},{x:v,y:f}];return l==="top"?j.reverse():j}if(a){var C=u.segment,x=C.map(function(N){return e.apply(N,{position:i})});return Wa(u,"discard")&&FVe(x,function(N){return!e.isInRange(N)})?null:x}return null};function _Ue(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=pUe(),d=gUe(a),f=yUe(s),m=bUe();if(!u||!m)return null;ws(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=KE({x:d.scale,y:f.scale}),h=fr(e),y=fr(r),g=n&&n.length===2,b=OUe(p,h,y,g,m,t.position,d.orientation,f.orientation,t);if(!b)return null;var v=IUe(b,2),j=v[0],C=j.x,x=j.y,N=v[1],S=N.x,A=N.y,I=Wa(t,"hidden")?"url(#".concat(u,")"):void 0,k=VF(VF({clipPath:I},ze(t,!0)),{},{x1:C,y1:x,x2:S,y2:A});return z.createElement(Wt,{className:$e("recharts-reference-line",l)},PUe(i,k),Ar.renderCallByParent(t,uUe({x1:C,y1:x,x2:S,y2:A})))}var XE=function(t){function e(){return xUe(this,e),wUe(this,e,arguments)}return SUe(e,t),jUe(e,[{key:"render",value:function(){return z.createElement(_Ue,this.props)}}])}(z.Component);JE(XE,"displayName","ReferenceLine");JE(XE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jk(){return jk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jk.apply(this,arguments)}function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function WF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){Lw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K8(n.key),n)}}function MUe(t,e,r){return e&&RUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LUe(t,e,r){return e=Bv(e),FUe(t,Y8()?Reflect.construct(e,r||[],Bv(t).constructor):e.apply(t,r))}function FUe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BUe(t)}function BUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y8=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bv(t)}function qUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wk(t,e)}function wk(t,e){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wk(t,e)}function Lw(t,e,r){return e=K8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K8(t){var e=VUe(t,"string");return lu(e)=="symbol"?e:e+""}function VUe(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UUe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,i=KE({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Wa(e,"discard")&&!i.isInRange(l)?null:l},Fw=function(t){function e(){return $Ue(this,e),LUe(this,e,arguments)}return qUe(e,t),MUe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=fr(a),d=fr(s);if(ws(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=UUe(this.props);if(!f)return null;var m=f.x,p=f.y,h=this.props,y=h.shape,g=h.className,b=Wa(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=WF(WF({clipPath:b},ze(this.props,!0)),{},{cx:m,cy:p});return z.createElement(Wt,{className:$e("recharts-reference-dot",g)},e.renderDot(y,v),Ar.renderCallByParent(this.props,{x:m-i,y:p-i,width:2*i,height:2*i}))}}])}(z.Component);Lw(Fw,"displayName","ReferenceDot");Lw(Fw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Lw(Fw,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):We(t)?r=t(e):r=z.createElement(GE,jk({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Nk(){return Nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nk.apply(this,arguments)}function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function HF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(r),!0).forEach(function(n){Bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X8(n.key),n)}}function HUe(t,e,r){return e&&WUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GUe(t,e,r){return e=qv(e),YUe(t,J8()?Reflect.construct(e,r||[],qv(t).constructor):e.apply(t,r))}function YUe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KUe(t)}function KUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J8=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qv(t)}function JUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ck(t,e)}function Ck(t,e){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ck(t,e)}function Bw(t,e,r){return e=X8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X8(t){var e=XUe(t,"string");return cu(e)=="symbol"?e:e+""}function XUe(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QUe=function(e,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=KE({x:d.scale,y:f.scale}),p={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},h={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Wa(s,"discard")&&(!m.isInRange(p)||!m.isInRange(h))?null:B8(p,h)},qw=function(t){function e(){return zUe(this,e),GUe(this,e,arguments)}return JUe(e,t),HUe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ws(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=fr(a),m=fr(s),p=fr(i),h=fr(l),y=this.props.shape;if(!f&&!m&&!p&&!h&&!y)return null;var g=QUe(f,m,p,h,this.props);if(!g&&!y)return null;var b=Wa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(Wt,{className:$e("recharts-reference-area",c)},e.renderRect(y,GF(GF({clipPath:b},ze(this.props,!0)),g)),Ar.renderCallByParent(this.props,g))}}])}(z.Component);Bw(qw,"displayName","ReferenceArea");Bw(qw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bw(qw,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):We(t)?r=t(e):r=z.createElement(HE,Nk({},e,{className:"recharts-reference-area-rect"})),r});function YF(t){return rze(t)||tze(t)||eze(t)||ZUe()}function ZUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eze(t,e){if(t){if(typeof t=="string")return Sk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sk(t,e)}}function tze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rze(t){if(Array.isArray(t))return Sk(t)}function Sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ak=function(e,r,n,a,s){var i=Va(e,XE),l=Va(e,Fw),c=[].concat(YF(i),YF(l)),u=Va(e,qw),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(y,g){if(g.props[d]===n&&Wa(g.props,"extendDomain")&&je(g.props[f])){var b=g.props[f];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},m)),u.length){var p="".concat(f,"1"),h="".concat(f,"2");m=u.reduce(function(y,g){if(g.props[d]===n&&Wa(g.props,"extendDomain")&&je(g.props[p])&&je(g.props[h])){var b=g.props[p],v=g.props[h];return[Math.min(y[0],b,v),Math.max(y[1],b,v)]}return y},m)}return s&&s.length&&(m=s.reduce(function(y,g){return je(g)?[Math.min(y[0],g),Math.max(y[1],g)]:y},m)),m},Q8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,m),h=r?r+u:u;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],p]:c._events[h].push(p):(c._events[h]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,h=new Array(p);m<p;m++)h[m]=f[m].fn;return h},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,p,h){var y=r?r+u:u;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,v,j;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,m),!0;case 5:return g.fn.call(g.context,d,f,m,p),!0;case 6:return g.fn.call(g.context,d,f,m,p,h),!0}for(j=1,v=new Array(b-1);j<b;j++)v[j-1]=arguments[j];g.fn.apply(g.context,v)}else{var C=g.length,x;for(j=0;j<C;j++)switch(g[j].once&&this.removeListener(u,g[j].fn,void 0,!0),b){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,d);break;case 3:g[j].fn.call(g[j].context,d,f);break;case 4:g[j].fn.call(g[j].context,d,f,m);break;default:if(!v)for(x=1,v=new Array(b-1);x<b;x++)v[x-1]=arguments[x];g[j].fn.apply(g[j].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var h=this._events[p];if(h.fn)h.fn===d&&(!m||h.once)&&(!f||h.context===f)&&i(this,p);else{for(var y=0,g=[],b=h.length;y<b;y++)(h[y].fn!==d||m&&!h[y].once||f&&h[y].context!==f)&&g.push(h[y]);g.length?this._events[p]=g.length===1?g[0]:g:i(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(Q8);var nze=Q8.exports;const aze=it(nze);var sC=new aze,oC="recharts.syncMouseEvents";function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function sze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z8(n.key),n)}}function ize(t,e,r){return e&&oze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iC(t,e,r){return e=Z8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z8(t){var e=lze(t,"string");return Om(e)=="symbol"?e:e+""}function lze(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cze=function(){function t(){sze(this,t),iC(this,"activeIndex",0),iC(this,"coordinateList",[]),iC(this,"layout","horizontal")}return ize(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function uze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&je(n)&&je(a))return!0}return!1}function dze(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function e9(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,i=At(e,r,n,a),l=At(e,r,n,s);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function fze(t,e,r){var n,a,s,i;if(t==="horizontal")n=e.x,s=n,a=r.top,i=r.top+r.height;else if(t==="vertical")a=e.y,i=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=At(l,c,u,f),p=At(l,c,d,f);n=m.x,a=m.y,s=p.x,i=p.y}else return e9(e);return[{x:n,y:a},{x:s,y:i}]}function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function KF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(r),!0).forEach(function(n){mze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mze(t,e,r){return e=hze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hze(t){var e=pze(t,"string");return _m(e)=="symbol"?e:e+""}function pze(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gze(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!i||m!=="ScatterChart"&&a!=="axis")return null;var h,y=rk;if(m==="ScatterChart")h=i,y=Sqe;else if(m==="BarChart")h=dze(f,i,c,d),y=HE;else if(f==="radial"){var g=e9(i),b=g.cx,v=g.cy,j=g.radius,C=g.startAngle,x=g.endAngle;h={cx:b,cy:v,startAngle:C,endAngle:x,innerRadius:j,outerRadius:j},y=b8}else h={points:fze(f,i,c)},y=rk;var N=Sp(Sp(Sp(Sp({stroke:"#ccc",pointerEvents:"none"},c),h),ze(p,!1)),{},{payload:l,payloadIndex:u,className:$e("recharts-tooltip-cursor",p.className)});return w.isValidElement(p)?w.cloneElement(p,N):w.createElement(y,N)}var yze=["item"],bze=["children","className","width","height","style","compact","title","desc"];function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nc.apply(this,arguments)}function JF(t,e){return jze(t)||vze(t,e)||r9(t,e)||xze()}function xze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function jze(t){if(Array.isArray(t))return t}function XF(t,e){if(t==null)return{};var r=wze(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n9(n.key),n)}}function Sze(t,e,r){return e&&Cze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aze(t,e,r){return e=Vv(e),Ize(t,t9()?Reflect.construct(e,r||[],Vv(t).constructor):e.apply(t,r))}function Ize(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kze(t)}function kze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(t)}function Tze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ik(t,e)}function Ik(t,e){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ik(t,e)}function du(t){return Pze(t)||Eze(t)||r9(t)||Dze()}function Dze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(t,e){if(t){if(typeof t=="string")return kk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kk(t,e)}}function Eze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pze(t){if(Array.isArray(t))return kk(t)}function kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(r),!0).forEach(function(n){Oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oe(t,e,r){return e=n9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n9(t){var e=Oze(t,"string");return uu(e)=="symbol"?e:e+""}function Oze(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ze={xAxis:["bottom","top"],yAxis:["left","right"]},$ze={width:"100%",height:"100%"},a9={x:0,y:0};function Ap(t){return t}var Rze=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Mze=function(e,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,l=a.radius;return ne(ne(ne({},a),At(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return ne(ne(ne({},a),At(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return a9},Vw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(du(l),du(u)):l},[]);return i.length>0?i:e&&e.length&&je(a)&&je(s)?e.slice(a,s+1):[]};function s9(t){return t==="number"?[0,"auto"]:void 0}var Tk=function(e,r,n,a){var s=e.graphicalItems,i=e.tooltipAxis,l=Vw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?l:f;m=lI(p,i.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(du(c),[u4e(u,m)]):c},[])},ZF=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},i=Rze(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Y5e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=Tk(e,r,d,f),p=Mze(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},Lze=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,p=d8(d,s);return n.reduce(function(h,y){var g,b=y.type.defaultProps!==void 0?ne(ne({},y.type.defaultProps),y.props):y.props,v=b.type,j=b.dataKey,C=b.allowDataOverflow,x=b.allowDuplicatedCategory,N=b.scale,S=b.ticks,A=b.includeHidden,I=b[i];if(h[I])return h;var k=Vw(e.data,{graphicalItems:a.filter(function(G){var U,ae=i in G.props?G.props[i]:(U=G.type.defaultProps)===null||U===void 0?void 0:U[i];return ae===I}),dataStartIndex:c,dataEndIndex:u}),D=k.length,_,M,P;uze(b.domain,C,v)&&(_=JI(b.domain,null,C),p&&(v==="number"||N!=="auto")&&(P=uf(k,j,"category")));var O=s9(v);if(!_||_.length===0){var L,V=(L=b.domain)!==null&&L!==void 0?L:O;if(j){if(_=uf(k,j,v),v==="category"&&p){var $=LAe(_);x&&$?(M=_,_=Rv(0,D)):x||(_=OL(V,_,y).reduce(function(G,U){return G.indexOf(U)>=0?G:[].concat(du(G),[U])},[]))}else if(v==="category")x?_=_.filter(function(G){return G!==""&&!Je(G)}):_=OL(V,_,y).reduce(function(G,U){return G.indexOf(U)>=0||U===""||Je(U)?G:[].concat(du(G),[U])},[]);else if(v==="number"){var R=Z5e(k,a.filter(function(G){var U,ae,xe=i in G.props?G.props[i]:(U=G.type.defaultProps)===null||U===void 0?void 0:U[i],se="hide"in G.props?G.props.hide:(ae=G.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return xe===I&&(A||!se)}),j,s,d);R&&(_=R)}p&&(v==="number"||N!=="auto")&&(P=uf(k,j,"category"))}else p?_=Rv(0,D):l&&l[I]&&l[I].hasStack&&v==="number"?_=m==="expand"?[0,1]:f8(l[I].stackGroups,c,u):_=u8(k,a.filter(function(G){var U=i in G.props?G.props[i]:G.type.defaultProps[i],ae="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return U===I&&(A||!ae)}),v,d,!0);if(v==="number")_=Ak(f,_,I,s,S),V&&(_=JI(V,_,C));else if(v==="category"&&V){var W=V,Z=_.every(function(G){return W.indexOf(G)>=0});Z&&(_=W)}}return ne(ne({},h),{},Oe({},I,ne(ne({},b),{},{axisType:s,domain:_,categoricalDomain:P,duplicateDomain:M,originalDomain:(g=b.domain)!==null&&g!==void 0?g:O,isCategorical:p,layout:d})))},{})},Fze=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Vw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,h=d8(d,s),y=-1;return n.reduce(function(g,b){var v=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,j=v[i],C=s9("number");if(!g[j]){y++;var x;return h?x=Rv(0,p):l&&l[j]&&l[j].hasStack?(x=f8(l[j].stackGroups,c,u),x=Ak(f,x,j,s)):(x=JI(C,u8(m,n.filter(function(N){var S,A,I=i in N.props?N.props[i]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[i],k="hide"in N.props?N.props.hide:(A=N.type.defaultProps)===null||A===void 0?void 0:A.hide;return I===j&&!k}),"number",d),a.defaultProps.allowDataOverflow),x=Ak(f,x,j,s)),ne(ne({},g),{},Oe({},j,ne(ne({axisType:s},a.defaultProps),{},{hide:!0,orientation:ya(_ze,"".concat(s,".").concat(y%2),null),domain:x,originalDomain:C,isCategorical:h,layout:d})))}return g},{})},Bze=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=Va(d,s),p={};return m&&m.length?p=Lze(e,{axes:m,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(p=Fze(e,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},qze=function(e){var r=Fl(e),n=Id(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:yE(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:XI(r,n)}},e5=function(e){var r=e.children,n=e.defaultShowTooltip,a=qn(r,ou),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},Vze=function(e){return!e||!e.length?!1:e.some(function(r){var n=js(r&&r.type);return n&&n.indexOf("Bar")>=0})},t5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Uze=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},p=qn(f,ou),h=qn(f,Ua),y=Object.keys(c).reduce(function(x,N){var S=c[N],A=S.orientation;return!S.mirror&&!S.hide?ne(ne({},x),{},Oe({},A,x[A]+S.width)):x},{left:m.left||0,right:m.right||0}),g=Object.keys(i).reduce(function(x,N){var S=i[N],A=S.orientation;return!S.mirror&&!S.hide?ne(ne({},x),{},Oe({},A,ya(x,"".concat(A))+S.height)):x},{top:m.top||0,bottom:m.bottom||0}),b=ne(ne({},g),y),v=b.bottom;p&&(b.bottom+=p.props.height||ou.defaultProps.height),h&&r&&(b=X5e(b,a,n,r));var j=u-b.left-b.right,C=d-b.top-b.bottom;return ne(ne({brushBottom:v},b),{},{width:Math.max(j,0),height:Math.max(C,0)})},zze=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Wze=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(b,v){var j=v.graphicalItems,C=v.stackGroups,x=v.offset,N=v.updateId,S=v.dataStartIndex,A=v.dataEndIndex,I=b.barSize,k=b.layout,D=b.barGap,_=b.barCategoryGap,M=b.maxBarSize,P=t5(k),O=P.numericAxisName,L=P.cateAxisName,V=Vze(j),$=[];return j.forEach(function(R,W){var Z=Vw(b.data,{graphicalItems:[R],dataStartIndex:S,dataEndIndex:A}),G=R.type.defaultProps!==void 0?ne(ne({},R.type.defaultProps),R.props):R.props,U=G.dataKey,ae=G.maxBarSize,xe=G["".concat(O,"Id")],se=G["".concat(L,"Id")],K={},de=c.reduce(function(Kr,X){var be=v["".concat(X.axisType,"Map")],Q=G["".concat(X.axisType,"Id")];be&&be[Q]||X.axisType==="zAxis"||Zc();var pe=be[Q];return ne(ne({},Kr),{},Oe(Oe({},X.axisType,pe),"".concat(X.axisType,"Ticks"),Id(pe)))},K),ee=de[L],re=de["".concat(L,"Ticks")],J=C&&C[xe]&&C[xe].hasStack&&l4e(R,C[xe].stackGroups),H=js(R.type).indexOf("Bar")>=0,me=XI(ee,re),Ne=[],De=V&&K5e({barSize:I,stackGroups:C,totalSize:zze(de,L)});if(H){var Ue,Ve,Br=Je(ae)?M:ae,qr=(Ue=(Ve=XI(ee,re,!0))!==null&&Ve!==void 0?Ve:Br)!==null&&Ue!==void 0?Ue:0;Ne=J5e({barGap:D,barCategoryGap:_,bandSize:qr!==me?qr:me,sizeList:De[se],maxBarSize:Br}),qr!==me&&(Ne=Ne.map(function(Kr){return ne(ne({},Kr),{},{position:ne(ne({},Kr.position),{},{offset:Kr.position.offset-qr/2})})}))}var ra=R&&R.type&&R.type.getComposedData;ra&&$.push({props:ne(ne({},ra(ne(ne({},de),{},{displayedData:Z,props:b,dataKey:U,item:R,bandSize:me,barPosition:Ne,offset:x,stackedData:J,layout:k,dataStartIndex:S,dataEndIndex:A}))),{},Oe(Oe(Oe({key:R.key||"item-".concat(W)},O,de[O]),L,de[L]),"animationId",N)),childIndex:KAe(R,b.children),item:R})}),$},p=function(b,v){var j=b.props,C=b.dataStartIndex,x=b.dataEndIndex,N=b.updateId;if(!IR({props:j}))return null;var S=j.children,A=j.layout,I=j.stackOffset,k=j.data,D=j.reverseStackOrder,_=t5(A),M=_.numericAxisName,P=_.cateAxisName,O=Va(S,n),L=o4e(k,O,"".concat(M,"Id"),"".concat(P,"Id"),I,D),V=c.reduce(function(G,U){var ae="".concat(U.axisType,"Map");return ne(ne({},G),{},Oe({},ae,Bze(j,ne(ne({},U),{},{graphicalItems:O,stackGroups:U.axisType===M&&L,dataStartIndex:C,dataEndIndex:x}))))},{}),$=Uze(ne(ne({},V),{},{props:j,graphicalItems:O}),v==null?void 0:v.legendBBox);Object.keys(V).forEach(function(G){V[G]=d(j,V[G],$,G.replace("Map",""),r)});var R=V["".concat(P,"Map")],W=qze(R),Z=m(j,ne(ne({},V),{},{dataStartIndex:C,dataEndIndex:x,updateId:N,graphicalItems:O,stackGroups:L,offset:$}));return ne(ne({formattedGraphicalItems:Z,graphicalItems:O,offset:$,stackGroups:L},W),V)},h=function(g){function b(v){var j,C,x;return Nze(this,b),x=Aze(this,b,[v]),Oe(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Oe(x,"accessibilityManager",new cze),Oe(x,"handleLegendBBoxUpdate",function(N){if(N){var S=x.state,A=S.dataStartIndex,I=S.dataEndIndex,k=S.updateId;x.setState(ne({legendBBox:N},p({props:x.props,dataStartIndex:A,dataEndIndex:I,updateId:k},ne(ne({},x.state),{},{legendBBox:N}))))}}),Oe(x,"handleReceiveSyncEvent",function(N,S,A){if(x.props.syncId===N){if(A===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(S)}}),Oe(x,"handleBrushChange",function(N){var S=N.startIndex,A=N.endIndex;if(S!==x.state.dataStartIndex||A!==x.state.dataEndIndex){var I=x.state.updateId;x.setState(function(){return ne({dataStartIndex:S,dataEndIndex:A},p({props:x.props,dataStartIndex:S,dataEndIndex:A,updateId:I},x.state))}),x.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),Oe(x,"handleMouseEnter",function(N){var S=x.getMouseInfo(N);if(S){var A=ne(ne({},S),{},{isTooltipActive:!0});x.setState(A),x.triggerSyncEvent(A);var I=x.props.onMouseEnter;We(I)&&I(A,N)}}),Oe(x,"triggeredAfterMouseMove",function(N){var S=x.getMouseInfo(N),A=S?ne(ne({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(A),x.triggerSyncEvent(A);var I=x.props.onMouseMove;We(I)&&I(A,N)}),Oe(x,"handleItemMouseEnter",function(N){x.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Oe(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),Oe(x,"handleMouseMove",function(N){N.persist(),x.throttleTriggeredAfterMouseMove(N)}),Oe(x,"handleMouseLeave",function(N){x.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var A=x.props.onMouseLeave;We(A)&&A(S,N)}),Oe(x,"handleOuterEvent",function(N){var S=YAe(N),A=ya(x.props,"".concat(S));if(S&&We(A)){var I,k;/.*touch.*/i.test(S)?k=x.getMouseInfo(N.changedTouches[0]):k=x.getMouseInfo(N),A((I=k)!==null&&I!==void 0?I:{},N)}}),Oe(x,"handleClick",function(N){var S=x.getMouseInfo(N);if(S){var A=ne(ne({},S),{},{isTooltipActive:!0});x.setState(A),x.triggerSyncEvent(A);var I=x.props.onClick;We(I)&&I(A,N)}}),Oe(x,"handleMouseDown",function(N){var S=x.props.onMouseDown;if(We(S)){var A=x.getMouseInfo(N);S(A,N)}}),Oe(x,"handleMouseUp",function(N){var S=x.props.onMouseUp;if(We(S)){var A=x.getMouseInfo(N);S(A,N)}}),Oe(x,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Oe(x,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.handleMouseDown(N.changedTouches[0])}),Oe(x,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.handleMouseUp(N.changedTouches[0])}),Oe(x,"handleDoubleClick",function(N){var S=x.props.onDoubleClick;if(We(S)){var A=x.getMouseInfo(N);S(A,N)}}),Oe(x,"handleContextMenu",function(N){var S=x.props.onContextMenu;if(We(S)){var A=x.getMouseInfo(N);S(A,N)}}),Oe(x,"triggerSyncEvent",function(N){x.props.syncId!==void 0&&sC.emit(oC,x.props.syncId,N,x.eventEmitterSymbol)}),Oe(x,"applySyncEvent",function(N){var S=x.props,A=S.layout,I=S.syncMethod,k=x.state.updateId,D=N.dataStartIndex,_=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)x.setState(ne({dataStartIndex:D,dataEndIndex:_},p({props:x.props,dataStartIndex:D,dataEndIndex:_,updateId:k},x.state)));else if(N.activeTooltipIndex!==void 0){var M=N.chartX,P=N.chartY,O=N.activeTooltipIndex,L=x.state,V=L.offset,$=L.tooltipTicks;if(!V)return;if(typeof I=="function")O=I($,N);else if(I==="value"){O=-1;for(var R=0;R<$.length;R++)if($[R].value===N.activeLabel){O=R;break}}var W=ne(ne({},V),{},{x:V.left,y:V.top}),Z=Math.min(M,W.x+W.width),G=Math.min(P,W.y+W.height),U=$[O]&&$[O].value,ae=Tk(x.state,x.props.data,O),xe=$[O]?{x:A==="horizontal"?$[O].coordinate:Z,y:A==="horizontal"?G:$[O].coordinate}:a9;x.setState(ne(ne({},N),{},{activeLabel:U,activeCoordinate:xe,activePayload:ae,activeTooltipIndex:O}))}else x.setState(N)}),Oe(x,"renderCursor",function(N){var S,A=x.state,I=A.isTooltipActive,k=A.activeCoordinate,D=A.activePayload,_=A.offset,M=A.activeTooltipIndex,P=A.tooltipAxisBandSize,O=x.getTooltipEventType(),L=(S=N.props.active)!==null&&S!==void 0?S:I,V=x.props.layout,$=N.key||"_recharts-cursor";return z.createElement(gze,{key:$,activeCoordinate:k,activePayload:D,activeTooltipIndex:M,chartName:r,element:N,isActive:L,layout:V,offset:_,tooltipAxisBandSize:P,tooltipEventType:O})}),Oe(x,"renderPolarAxis",function(N,S,A){var I=ya(N,"type.axisType"),k=ya(x.state,"".concat(I,"Map")),D=N.type.defaultProps,_=D!==void 0?ne(ne({},D),N.props):N.props,M=k&&k[_["".concat(I,"Id")]];return w.cloneElement(N,ne(ne({},M),{},{className:$e(I,M.className),key:N.key||"".concat(S,"-").concat(A),ticks:Id(M,!0)}))}),Oe(x,"renderPolarGrid",function(N){var S=N.props,A=S.radialLines,I=S.polarAngles,k=S.polarRadius,D=x.state,_=D.radiusAxisMap,M=D.angleAxisMap,P=Fl(_),O=Fl(M),L=O.cx,V=O.cy,$=O.innerRadius,R=O.outerRadius;return w.cloneElement(N,{polarAngles:Array.isArray(I)?I:Id(O,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(k)?k:Id(P,!0).map(function(W){return W.coordinate}),cx:L,cy:V,innerRadius:$,outerRadius:R,key:N.key||"polar-grid",radialLines:A})}),Oe(x,"renderLegend",function(){var N=x.state.formattedGraphicalItems,S=x.props,A=S.children,I=S.width,k=S.height,D=x.props.margin||{},_=I-(D.left||0)-(D.right||0),M=l8({children:A,formattedGraphicalItems:N,legendWidth:_,legendContent:u});if(!M)return null;var P=M.item,O=XF(M,yze);return w.cloneElement(P,ne(ne({},O),{},{chartWidth:I,chartHeight:k,margin:D,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),Oe(x,"renderTooltip",function(){var N,S=x.props,A=S.children,I=S.accessibilityLayer,k=qn(A,ns);if(!k)return null;var D=x.state,_=D.isTooltipActive,M=D.activeCoordinate,P=D.activePayload,O=D.activeLabel,L=D.offset,V=(N=k.props.active)!==null&&N!==void 0?N:_;return w.cloneElement(k,{viewBox:ne(ne({},L),{},{x:L.left,y:L.top}),active:V,label:O,payload:V?P:[],coordinate:M,accessibilityLayer:I})}),Oe(x,"renderBrush",function(N){var S=x.props,A=S.margin,I=S.data,k=x.state,D=k.offset,_=k.dataStartIndex,M=k.dataEndIndex,P=k.updateId;return w.cloneElement(N,{key:N.key||"_recharts-brush",onChange:vp(x.handleBrushChange,N.props.onChange),data:I,x:je(N.props.x)?N.props.x:D.left,y:je(N.props.y)?N.props.y:D.top+D.height+D.brushBottom-(A.bottom||0),width:je(N.props.width)?N.props.width:D.width,startIndex:_,endIndex:M,updateId:"brush-".concat(P)})}),Oe(x,"renderReferenceElement",function(N,S,A){if(!N)return null;var I=x,k=I.clipPathId,D=x.state,_=D.xAxisMap,M=D.yAxisMap,P=D.offset,O=N.type.defaultProps||{},L=N.props,V=L.xAxisId,$=V===void 0?O.xAxisId:V,R=L.yAxisId,W=R===void 0?O.yAxisId:R;return w.cloneElement(N,{key:N.key||"".concat(S,"-").concat(A),xAxis:_[$],yAxis:M[W],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:k})}),Oe(x,"renderActivePoints",function(N){var S=N.item,A=N.activePoint,I=N.basePoint,k=N.childIndex,D=N.isRange,_=[],M=S.props.key,P=S.item.type.defaultProps!==void 0?ne(ne({},S.item.type.defaultProps),S.item.props):S.item.props,O=P.activeDot,L=P.dataKey,V=ne(ne({index:k,dataKey:L,cx:A.x,cy:A.y,r:4,fill:WE(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},ze(O,!1)),Qx(O));return _.push(b.renderActiveDot(O,V,"".concat(M,"-activePoint-").concat(k))),I?_.push(b.renderActiveDot(O,ne(ne({},V),{},{cx:I.x,cy:I.y}),"".concat(M,"-basePoint-").concat(k))):D&&_.push(null),_}),Oe(x,"renderGraphicChild",function(N,S,A){var I=x.filterFormatItem(N,S,A);if(!I)return null;var k=x.getTooltipEventType(),D=x.state,_=D.isTooltipActive,M=D.tooltipAxis,P=D.activeTooltipIndex,O=D.activeLabel,L=x.props.children,V=qn(L,ns),$=I.props,R=$.points,W=$.isRange,Z=$.baseLine,G=I.item.type.defaultProps!==void 0?ne(ne({},I.item.type.defaultProps),I.item.props):I.item.props,U=G.activeDot,ae=G.hide,xe=G.activeBar,se=G.activeShape,K=!!(!ae&&_&&V&&(U||xe||se)),de={};k!=="axis"&&V&&V.props.trigger==="click"?de={onClick:vp(x.handleItemMouseEnter,N.props.onClick)}:k!=="axis"&&(de={onMouseLeave:vp(x.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:vp(x.handleItemMouseEnter,N.props.onMouseEnter)});var ee=w.cloneElement(N,ne(ne({},I.props),de));function re(X){return typeof M.dataKey=="function"?M.dataKey(X.payload):null}if(K)if(P>=0){var J,H;if(M.dataKey&&!M.allowDuplicatedCategory){var me=typeof M.dataKey=="function"?re:"payload.".concat(M.dataKey.toString());J=lI(R,me,O),H=W&&Z&&lI(Z,me,O)}else J=R==null?void 0:R[P],H=W&&Z&&Z[P];if(se||xe){var Ne=N.props.activeIndex!==void 0?N.props.activeIndex:P;return[w.cloneElement(N,ne(ne(ne({},I.props),de),{},{activeIndex:Ne})),null,null]}if(!Je(J))return[ee].concat(du(x.renderActivePoints({item:I,activePoint:J,basePoint:H,childIndex:P,isRange:W})))}else{var De,Ue=(De=x.getItemByXY(x.state.activeCoordinate))!==null&&De!==void 0?De:{graphicalItem:ee},Ve=Ue.graphicalItem,Br=Ve.item,qr=Br===void 0?N:Br,ra=Ve.childIndex,Kr=ne(ne(ne({},I.props),de),{},{activeIndex:ra});return[w.cloneElement(qr,Kr),null,null]}return W?[ee,null,null]:[ee,null]}),Oe(x,"renderCustomized",function(N,S,A){return w.cloneElement(N,ne(ne({key:"recharts-customized-".concat(A)},x.props),x.state))}),Oe(x,"renderMap",{CartesianGrid:{handler:Ap,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Ap},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Ap},YAxis:{handler:Ap},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((j=v.id)!==null&&j!==void 0?j:uw("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=i7(x.triggeredAfterMouseMove,(C=v.throttleDelay)!==null&&C!==void 0?C:1e3/60),x.state={},x}return Tze(b,g),Sze(b,[{key:"componentDidMount",value:function(){var j,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,C=j.children,x=j.data,N=j.height,S=j.layout,A=qn(C,ns);if(A){var I=A.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,D=Tk(this.state,x,I,k),_=this.state.tooltipTicks[I].coordinate,M=(this.state.offset.top+N)/2,P=S==="horizontal",O=P?{x:_,y:M}:{y:_,x:M},L=this.state.formattedGraphicalItems.find(function($){var R=$.item;return R.type.name==="Scatter"});L&&(O=ne(ne({},O),L.props.points[I].tooltipPosition),D=L.props.points[I].tooltipPayload);var V={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:k,activePayload:D,activeCoordinate:O};this.setState(V),this.renderCursor(A),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var x,N;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(j){dI([qn(j.children,ns)],[qn(this.props.children,ns)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=qn(this.props.children,ns);if(j&&typeof j.props.shared=="boolean"){var C=j.props.shared?"axis":"item";return l.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var C=this.container,x=C.getBoundingClientRect(),N=wRe(x),S={chartX:Math.round(j.pageX-N.left),chartY:Math.round(j.pageY-N.top)},A=x.width/C.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,A);if(!I)return null;var k=this.state,D=k.xAxisMap,_=k.yAxisMap,M=this.getTooltipEventType(),P=ZF(this.state,this.props.data,this.props.layout,I);if(M!=="axis"&&D&&_){var O=Fl(D).scale,L=Fl(_).scale,V=O&&O.invert?O.invert(S.chartX):null,$=L&&L.invert?L.invert(S.chartY):null;return ne(ne({},S),{},{xValue:V,yValue:$},P)}return P?ne(ne({},S),P):null}},{key:"inRange",value:function(j,C){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=j/x,A=C/x;if(N==="horizontal"||N==="vertical"){var I=this.state.offset,k=S>=I.left&&S<=I.left+I.width&&A>=I.top&&A<=I.top+I.height;return k?{x:S,y:A}:null}var D=this.state,_=D.angleAxisMap,M=D.radiusAxisMap;if(_&&M){var P=Fl(_);return RL({x:S,y:A},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,C=this.getTooltipEventType(),x=qn(j,ns),N={};x&&C==="axis"&&(x.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Qx(this.props,this.handleOuterEvent);return ne(ne({},S),N)}},{key:"addListener",value:function(){sC.on(oC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sC.removeListener(oC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,C,x){for(var N=this.state.formattedGraphicalItems,S=0,A=N.length;S<A;S++){var I=N[S];if(I.item===j||I.props.key===j.key||C===js(I.item.type)&&x===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,C=this.state.offset,x=C.left,N=C.top,S=C.height,A=C.width;return z.createElement("defs",null,z.createElement("clipPath",{id:j},z.createElement("rect",{x,y:N,height:S,width:A})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(C,x){var N=JF(x,2),S=N[0],A=N[1];return ne(ne({},C),{},Oe({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(C,x){var N=JF(x,2),S=N[0],A=N[1];return ne(ne({},C),{},Oe({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(j){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[j])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(j){var C=this.state,x=C.formattedGraphicalItems,N=C.activeItem;if(x&&x.length)for(var S=0,A=x.length;S<A;S++){var I=x[S],k=I.props,D=I.item,_=D.type.defaultProps!==void 0?ne(ne({},D.type.defaultProps),D.props):D.props,M=js(D.type);if(M==="Bar"){var P=(k.data||[]).find(function($){return sqe(j,$)});if(P)return{graphicalItem:I,payload:P}}else if(M==="RadialBar"){var O=(k.data||[]).find(function($){return RL(j,$)});if(O)return{graphicalItem:I,payload:O}}else if(Rw(I,N)||Mw(I,N)||Dm(I,N)){var L=Y6e({graphicalItem:I,activeTooltipItem:N,itemData:_.data}),V=_.activeIndex===void 0?L:_.activeIndex;return{graphicalItem:ne(ne({},I),{},{childIndex:V}),payload:Dm(I,N)?_.data[L]:I.props.data[L]}}}return null}},{key:"render",value:function(){var j=this;if(!IR(this))return null;var C=this.props,x=C.children,N=C.className,S=C.width,A=C.height,I=C.style,k=C.compact,D=C.title,_=C.desc,M=XF(C,bze),P=ze(M,!1);if(k)return z.createElement(BF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(mI,nc({},P,{width:S,height:A,title:D,desc:_}),this.renderClipPath(),TR(x,this.renderMap)));if(this.props.accessibilityLayer){var O,L;P.tabIndex=(O=this.props.tabIndex)!==null&&O!==void 0?O:0,P.role=(L=this.props.role)!==null&&L!==void 0?L:"application",P.onKeyDown=function($){j.accessibilityManager.keyboardEvent($)},P.onFocus=function(){j.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return z.createElement(BF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",nc({className:$e("recharts-wrapper",N),style:ne({position:"relative",cursor:"default",width:S,height:A},I)},V,{ref:function(R){j.container=R}}),z.createElement(mI,nc({},P,{width:S,height:A,title:D,desc:_,style:$ze}),this.renderClipPath(),TR(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Oe(h,"displayName",r),Oe(h,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Oe(h,"getDerivedStateFromProps",function(g,b){var v=g.dataKey,j=g.data,C=g.children,x=g.width,N=g.height,S=g.layout,A=g.stackOffset,I=g.margin,k=b.dataStartIndex,D=b.dataEndIndex;if(b.updateId===void 0){var _=e5(g);return ne(ne(ne({},_),{},{updateId:0},p(ne(ne({props:g},_),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:j,prevWidth:x,prevHeight:N,prevLayout:S,prevStackOffset:A,prevMargin:I,prevChildren:C})}if(v!==b.prevDataKey||j!==b.prevData||x!==b.prevWidth||N!==b.prevHeight||S!==b.prevLayout||A!==b.prevStackOffset||!cI(I,b.prevMargin)){var M=e5(g),P={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},O=ne(ne({},ZF(b,j,S)),{},{updateId:b.updateId+1}),L=ne(ne(ne({},M),P),O);return ne(ne(ne({},L),p(ne({props:g},L),b)),{},{prevDataKey:v,prevData:j,prevWidth:x,prevHeight:N,prevLayout:S,prevStackOffset:A,prevMargin:I,prevChildren:C})}if(!dI(C,b.prevChildren)){var V,$,R,W,Z=qn(C,ou),G=Z&&(V=($=Z.props)===null||$===void 0?void 0:$.startIndex)!==null&&V!==void 0?V:k,U=Z&&(R=(W=Z.props)===null||W===void 0?void 0:W.endIndex)!==null&&R!==void 0?R:D,ae=G!==k||U!==D,xe=!Je(j),se=xe&&!ae?b.updateId:b.updateId+1;return ne(ne({updateId:se},p(ne(ne({props:g},b),{},{updateId:se,dataStartIndex:G,dataEndIndex:U}),b)),{},{prevChildren:C,dataStartIndex:G,dataEndIndex:U})}return null}),Oe(h,"renderActiveDot",function(g,b,v){var j;return w.isValidElement(g)?j=w.cloneElement(g,b):We(g)?j=g(b):j=z.createElement(GE,b),z.createElement(Wt,{className:"recharts-active-dot",key:v},j)});var y=w.forwardRef(function(b,v){return z.createElement(h,nc({},b,{ref:v}))});return y.displayName=h.displayName,y},Uw=Wze({chartName:"PieChart",GraphicalChild:ta,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$w},{axisType:"radiusAxis",AxisComp:Ow}],formatAxisMap:x4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const r5=["#0088FE","#FF8042"];function Hze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),o.jsxs("div",{className:"w-full h-72",children:[" ",o.jsx(vw,{width:"100%",height:"100%",children:o.jsxs(Uw,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(ta,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>o.jsx(Eu,{fill:r5[r%r5.length]},`cell-${r}`))}),o.jsx(Ua,{})]})})]})]})}const n5=["#0088FE","#FF8042","#00C49F"];function Gze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),o.jsxs("div",{className:"w-full h-64",children:[" ",o.jsx(vw,{width:"100%",height:"100%",children:o.jsxs(Uw,{children:[o.jsx(ta,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>o.jsx(Eu,{fill:n5[r%n5.length]},`cell-${r}`))}),o.jsx(Ua,{})]})})]})]})}function Yze(){const t=ce(),[e,r]=w.useState(""),[n,a]=w.useState([]),[s,i]=w.useState(""),[l,c]=w.useState({chart1:[],chart2:[],table:[]}),[u,d]=w.useState(!1),{departments:f,isLoading:m}=q(y=>y.departments);w.useEffect(()=>{t(sr())},[]),w.useEffect(()=>{e?(d(!0),f0e(e==="All"?"":e).then(y=>{const g=(y==null?void 0:y.data)||[];a(g.map(b=>({value:b.ID,label:b.Name,...b})))}).finally(()=>d(!1))):a([]),i(""),c({chart1:[],chart2:[],table:[]})},[e]);const p=y=>{const g=n.find(k=>k.value===Number(y));if(!g)return;const b=parseFloat(g.Appropriation||0),v=parseFloat(g.Supplemental||0),j=parseFloat(g.Transfer||0),C=parseFloat(g.Charges||0),x=parseFloat(g.PreEncumbrance||0),N=parseFloat(g.Encumbrance||0),A=[{name:"Budget Amount",value:b+v+j-C},{name:"Charges",value:C}],I=[{name:"PreEncumbrance",value:x},{name:"Encumbrance",value:N},{name:"Charges",value:C}];c(k=>({...k,chart1:A,chart2:I})),d(!0),m0e(y).then(k=>{const D=(k==null?void 0:k.data)||[];c(_=>({..._,table:D}))}).finally(()=>d(!1))},h=[{key:"APAR",header:"APAR",sortable:!1},{key:"Total",header:"Total",sortable:!1}];return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Dashboard"}),o.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(T,{label:"Department",name:"Department",type:"select",value:e,onChange:y=>{const g=y.target.value==="All Departments"?"All":y.target.value;r(g),i(""),c({chart1:[],chart2:[],table:[]})},options:[...f==null?void 0:f.map(y=>({value:y.ID,label:y.Name})),{value:"All Departments",label:"All Departments"}],required:!0}),o.jsx(T,{label:"Sub-Department",name:"SubDepartment",type:"select",value:s,onChange:y=>{console.log("e.target.value",y.target.value),i(y.target.value),p(y.target.value)},options:n,className:"disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsx(Hze,{data:l==null?void 0:l.chart1,loading:u}),o.jsx(Gze,{data:l==null?void 0:l.chart2,loading:u})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:h,data:(l==null?void 0:l.table)||[],loading:u||m,emptyMessage:"No budget data found for selected sub-department."})})]})}const a5=["#0088FE","#00C49F","#FF8042"],s5=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}];function Kze(){const[t,e]=w.useState("year"),[r,n]=w.useState(""),[a,s]=w.useState("year"),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState({disbursement:[],obligation:[],travel:[]}),h=ce(),{departments:y}=q(g=>g.departments);return w.useEffect(()=>{h(sr())},[]),w.useEffect(()=>{(async()=>{var b,v;try{const[j,C]=await Promise.all([G$(t,"Obligation Request",r==="All"?"":r),G$(t,"Disbursement Voucher",r==="All"?"":r)]);f(`PHP ${parseFloat(((b=j==null?void 0:j.data)==null?void 0:b.total)||0).toLocaleString()}`),u(`PHP ${parseFloat(((v=C==null?void 0:C.data)==null?void 0:v.total)||0).toLocaleString()}`)}catch(j){console.error("Error loading disbursement amounts:",j),B.error("Failed to load disbursement amounts")}})()},[t,r]),w.useEffect(()=>{(async()=>{try{const b=i==="All"?"":i,[v,j,C]=await Promise.all([h0e(a,b),p0e(a,b),g0e(a,b)]);p({obligation:(v==null?void 0:v.data)||[],travel:(j==null?void 0:j.data)||[],disbursement:(C==null?void 0:C.data)||[]})}catch(b){console.error("Error loading chart data:",b),B.error("Failed to load chart data")}})()},[a,i]),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("h1",{children:"Disbursement Dashboard"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(T,{label:"Timeframe",type:"select",value:t,onChange:g=>e(g.target.value),options:s5}),o.jsx(T,{label:"Department",name:"Department",type:"select",value:r,onChange:g=>{const b=g.target.value==="All Departments"?"All":g.target.value;n(b)},options:[...y==null?void 0:y.map(g=>({value:g.ID,label:g.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",d]})]}),o.jsx("hr",{className:"my-8 border-t"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Timeframe",type:"select",value:a,onChange:g=>s(g.target.value),options:s5}),o.jsx(T,{label:"Department",name:"Department",type:"select",value:r,onChange:g=>{const b=g.target.value==="All Departments"?"All":g.target.value;l(b)},options:[...y==null?void 0:y.map(g=>({value:g.ID,label:g.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[lC("Disbursement",[m==null?void 0:m.disbursement]),lC("Obligation",[m==null?void 0:m.obligation]),lC("Travel",[m==null?void 0:m.travel])]})]})}const lC=(t,e)=>o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(vw,{width:"100%",height:"100%",children:o.jsxs(Uw,{children:[o.jsx(ta,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e==null?void 0:e.map((r,n)=>o.jsx(Eu,{fill:a5[n%a5.length]},n))}),o.jsx(Ua,{})]})})})]}),o5=["#0088FE","#FF8042","#00C49F"];function Ip({title:t,data:e}){return o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(vw,{width:"100%",height:"100%",children:o.jsxs(Uw,{children:[o.jsx(ta,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>o.jsx(Eu,{fill:o5[n%o5.length]},n))}),o.jsx(Ua,{})]})})})]})}function Jze(){const[t,e]=w.useState("day"),[r,n]=w.useState({general:0,marriage:0,burial:0,cedula:0}),[a,s]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]);w.useEffect(()=>{(async()=>{try{const[h,y,g,b,v]=await Promise.all([y0e(t),b0e(),x0e(),v0e(),j0e()]),j=(h==null?void 0:h.data)||{};n({general:parseFloat(j.General||0),marriage:parseFloat(j.Marriage||0),burial:parseFloat(j.Burial||0),cedula:parseFloat(j.Cedula||0)}),s(m(y.data)),l(m(g.data)),u(m(b.data)),f(m(v.data))}catch(h){console.error(h),B.error("Failed to load collection data")}})()},[t]);const m=(p=[])=>p.map(h=>({name:h.date||"Unknown",value:parseFloat(h.total||0)}));return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"}),o.jsx(Ip,{title:"Cedula",data:d})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsx(T,{label:"Select View",type:"select",value:t,onChange:p=>e(p.target.value),options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"General Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.general.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.marriage.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.burial.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cedula"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.cedula.toFixed(2)]})]})]})]})]}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-4 mt-6",children:[o.jsx(Ip,{title:"General Service Invoice",data:a}),o.jsx(Ip,{title:"Marriage Service Invoice",data:i}),o.jsx(Ip,{title:"Burial Service Invoice",data:c})]})]})}const bh="https://staging-engine.testthelink.online",Xze=[],kc=F("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await rt.get(`${bh}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),cC=F("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await rt.get(`${bh}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Vb=F("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await rt.post(`${bh}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),uC=F("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,a;try{const s=localStorage.getItem("token");return(await rt.put(`${bh}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return r.rejectWithValue(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||s.message)}}),Ub=F("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return await rt.delete(`${bh}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),t}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),o9=ve({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(kc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kc.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(kc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=Xze}).addCase(cC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(cC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase(Vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase(Vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(uC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(uC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase(Ub.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ub.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase(Ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)})}}),{clearError:b9e,clearCurrentReceipt:x9e}=o9.actions,Qze=o9.reducer,Zze="https://staging-engine.testthelink.online",e7e=ie().shape({Status:E().required("Status is required"),InvoiceNumber:E().required("Invoice number is required"),InvoiceDate:Le().required("Date is required"),FundsID:Y().required("Fund is required"),Agency:E().required("Agency is required"),PaymentMethodID:Y().required("Payment method is required"),Total:Y().required("Total amount is required"),CustomerID:Y().required("Customer is required"),CustomerName:E().required("Customer name is required"),Remarks:E(),TransactionItemsAll:Gt().of(ie().shape({ItemID:Y().required("Item ID is required"),ChargeAccountID:Y().required("Charges account is required"),Quantity:Y().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:Y().required("Price is required").min(0,"Price cannot be negative"),Vatable:Fo()})).min(1,"At least one item is required")});function t7e({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n,Print:a}){const[s,i]=w.useState("Individual"),[l,c]=w.useState(!1),{customers:u}=q(A=>A.customers),{vendorDetails:d}=q(A=>A.vendorDetails),{funds:f}=q(A=>A.funds),{items:m}=q(A=>A.items),{budgets:p}=q(A=>A.budget),h=ce();w.useEffect(()=>{h(Sn()),h(La()),h(Kt()),h(Fa()),h(Do())},[h]);const y=d==null?void 0:d.map(A=>({value:A.ID,label:A.Name})),g=u==null?void 0:u.map(A=>({value:A.ID,label:A.Name})),b=f==null?void 0:f.map(A=>({value:A.ID,label:A.Name})),v=m==null?void 0:m.map(A=>({value:A.ID,label:A.Name})),j=p==null?void 0:p.map(A=>({value:A.ID,label:A.Name})),C={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[{ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}]};console.log("initialValues",C);const x=(A,I,k)=>{const _=Array.from(A.target.files).map(M=>M);I("Attachments",[...k.Attachments,..._])},N=(A,I,k)=>{const D=[...k.Attachments];D.splice(A,1),I("Attachments",D)},S=async(A,{setSubmitting:I})=>{const k=new FormData;for(const D in A)if(D!=="Attachments"){const _=typeof A[D]=="object"?JSON.stringify(A[D]):A[D];D==="TransactionItemsAll"?k.append("Items",_):k.append(D,_)}A==null||A.Attachments.forEach((D,_)=>{D.ID?k.append(`Attachments[${_}].ID`,D.ID):k.append(`Attachments[${_}].File`,D)}),r?(k.append("IsNew","false"),k.append("LinkID",r.LinkID),k.append("ID",r.ID)):k.append("IsNew","true"),console.log("Form Data:",A);try{await n(k),console.log("Form submitted with values:",k)}catch(D){console.error("Error submitting form:",D)}finally{e(),I(!1)}};return o.jsxs(oe,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[o.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center max-sm:flex-col",children:[o.jsx("button",{type:"button",className:"btn btn-secondary max-sm:w-full",children:"Show List"}),o.jsx("button",{className:"btn btn-primary max-sm:w-full",onClick:()=>c(!0),children:"Add Attachments"}),a&&o.jsx("button",{className:"btn btn-outline max-sm:w-full",children:"Print"})]}),o.jsx(Re,{initialValues:C,validationSchema:e7e,onSubmit:S,enableReinitialize:!0,children:({values:A,setFieldValue:I,handleChange:k,handleBlur:D,isSubmitting:_,errors:M,touched:P,submitCount:O,isValid:L})=>o.jsxs(Be,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),A.Attachments.length>0?o.jsx("div",{className:"space-y-2",children:A.Attachments.map((V,$)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:V.ID?o.jsx("a",{href:`${Zze}/uploads/${V.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:V.name||V.DataName}):V.name||V.DataName})]}),o.jsx("button",{type:"button",onClick:()=>N($,I,A),className:"text-red-500 hover:text-red-700",children:o.jsx(er,{className:"h-4 w-4"})})]},$))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:A==null?void 0:A.Status.toUpperCase()})]}),o.jsx(T,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:k,value:A.InvoiceNumber,error:M.InvoiceNumber,touched:P.InvoiceNumber})]}),o.jsx(T,{label:"Date",name:"InvoiceDate",type:"date",onChange:k,value:A.InvoiceDate,required:!0,error:M.InvoiceDate&&P.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:k,value:A.Agency,error:M.Agency,touched:P.Agency}),o.jsx(T,{label:"Fund",name:"FundsID",type:"select",options:b,required:!0,onChange:k,value:A.FundsID,error:M.FundsID,touched:P.FundsID})]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>{i("Individual"),I("PayorType","Individual"),I("PayorName","")},className:`px-4 py-2 rounded-md ${s==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),o.jsx("button",{type:"button",onClick:()=>{i("Corporation"),I("PayorType","Corporation"),I("PayorName","")},className:`px-4 py-2 rounded-md ${s==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),o.jsx(yt,{label:"Payor",name:"CustomerName",type:"select",options:s==="Individual"?g:y,required:!0,placeholder:"Select Payor",onSelect:V=>{const $=s==="Individual"?g.find(R=>R.value===V):y.find(R=>R.value===V);I("CustomerName",($==null?void 0:$.label)||""),I("CustomerID",($==null?void 0:$.value)||"")},selectedValue:A.CustomerID,error:M.CustomerName,touched:P.CustomerName})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Items"}),o.jsx(rn,{name:"TransactionItemsAll",children:({push:V,remove:$})=>o.jsxs("div",{className:"space-y-4",children:[A.TransactionItemsAll.map((R,W)=>{var Z,G,U,ae,xe,se,K,de,ee,re,J,H,me,Ne,De,Ue,Ve,Br,qr,ra,Kr,X,be,Q;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[o.jsx(T,{label:"Item ID",name:`TransactionItemsAll.${W}.ItemID`,type:"select",options:v,required:!0,value:R.ItemID,onChange:k,onBlur:D,error:((G=(Z=P.TransactionItemsAll)==null?void 0:Z[W])==null?void 0:G.ItemID)&&((ae=(U=M.TransactionItemsAll)==null?void 0:U[W])==null?void 0:ae.ItemID),touched:(se=(xe=P.TransactionItemsAll)==null?void 0:xe[W])==null?void 0:se.ItemID}),o.jsx(T,{label:"Account",name:`TransactionItemsAll.${W}.ChargeAccountID`,type:"select",options:j,required:!0,value:R.ChargeAccountID,onChange:k,onBlur:D,error:((de=(K=P.TransactionItemsAll)==null?void 0:K[W])==null?void 0:de.ChargeAccountID)&&((re=(ee=M.TransactionItemsAll)==null?void 0:ee[W])==null?void 0:re.ChargeAccountID),touched:(H=(J=P.TransactionItemsAll)==null?void 0:J[W])==null?void 0:H.ChargeAccountID}),o.jsx(T,{label:"Qty",name:`TransactionItemsAll.${W}.Quantity`,type:"number",required:!0,min:"1",value:R.Quantity,onChange:k,onBlur:D,error:((Ne=(me=P.TransactionItemsAll)==null?void 0:me[W])==null?void 0:Ne.Quantity)&&((Ue=(De=M.TransactionItemsAll)==null?void 0:De[W])==null?void 0:Ue.Quantity),touched:(Br=(Ve=P.TransactionItemsAll)==null?void 0:Ve[W])==null?void 0:Br.Quantity}),o.jsx(T,{label:"Price",name:`TransactionItemsAll.${W}.Price`,type:"number",required:!0,min:"0",value:R.Price,onChange:k,onBlur:D,error:((ra=(qr=P.TransactionItemsAll)==null?void 0:qr[W])==null?void 0:ra.Price)&&((X=(Kr=M.TransactionItemsAll)==null?void 0:Kr[W])==null?void 0:X.Price),touched:(Q=(be=P.TransactionItemsAll)==null?void 0:be[W])==null?void 0:Q.Price}),o.jsx(T,{label:"Vatable",type:"checkbox",id:`TransactionItemsAll.${W}.Vatable`,name:`TransactionItemsAll.${W}.Vatable`,checked:R.Vatable,onChange:k}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(R.Quantity*R.Price).toFixed(2)]}),W>0&&o.jsx("button",{type:"button",onClick:()=>$(W),className:"text-red-500 hover:text-red-700",children:o.jsx(rV,{})})]})]},W)}),o.jsx("button",{type:"button",onClick:()=>V({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}),className:"btn btn-primary",children:"+ Add Item"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:A.TransactionItemsAll.reduce((V,$)=>V+$.Quantity*$.Price,0).toFixed(2)})]}),o.jsx(T,{label:"Amount in Words",name:"amountInWords",type:"text",value:Yi(A.TransactionItemsAll.reduce((V,$)=>V+$.Quantity*$.Price,0)),readOnly:!0})," "]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),o.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map((V,$)=>o.jsx("button",{type:"button",onClick:()=>I("PaymentMethodID",V.value),className:`px-2 py-1 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium border ${A.PaymentMethodID===V.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${$===0?"rounded-l-md":$===3?"rounded-r-md":"border-l-0"}`,children:V.label},V.value))})]}),A.PaymentMethodID===3&&o.jsxs(o.Fragment,{children:[o.jsx(T,{label:"Check Number",name:"CheckNumber",type:"text",value:A.CheckNumber,onChange:k,error:M.CheckNumber&&P.CheckNumber}),o.jsx(T,{label:"Bank",name:"PayeeBank",type:"text",value:A.PayeeBank,onChange:k}),o.jsx(T,{label:"Check Date",name:"CheckDate",type:"date",value:A.CheckDate,onChange:k,error:M.CheckDate&&P.CheckDate})]}),A.PaymentMethodID===8&&o.jsxs(o.Fragment,{children:[o.jsx(T,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:A.MoneyOrder,onChange:k,error:M.MoneyOrder&&P.MoneyOrder}),o.jsx(T,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:A.MoneyOrderDate,onChange:k,error:M.MoneyOrderDate&&P.MoneyOrderDate})]}),o.jsx(T,{label:"Remarks",name:"Remarks",type:"textarea",value:A.Remarks,onChange:k,rows:2,error:M.Remarks&&P.Remarks})]}),l&&o.jsx(oe,{isOpen:l,onClose:()=>c(!1),title:"Attachments",size:"md",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg sm:p-4 text-center",children:o.jsx("label",{className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(Ds,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:V=>{x(V,I,A),c(!1)}})]})})})})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:_||!L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:_?"Saving...":"Save"})]})]})})]})}function r7e(){const t=ce(),{receipts:e,isLoading:r}=q(I=>I.generalReceipts),{Add:n,Edit:a,Delete:s,Print:i}=we(52),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[p,h]=w.useState(null);w.useEffect(()=>{t(kc())},[t]),console.log("generalReceipts",e);const y=()=>{h(null),m(!0)},g=I=>{h(I),d(!0)},b=I=>{h(I),m(!0)},v=()=>{d(!1),h(null)},j=()=>{m(!1),h(null)},C=I=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(I),x=async I=>{try{await t(Ub(I.ID)).unwrap(),t(kc()),B.success("Receipt deleted successfully.")}catch(k){console.error("Error deleting receipt:",k),B.error("Failed to delete receipt.")}},N=[{key:"ID",header:"Invoice",sortable:!0,className:"font-medium text-neutral-900",render:I=>o.jsx("div",{className:"flex items-center gap-1",children:I})},{key:"Status",header:"Status",sortable:!0,render:I=>o.jsx("span",{className:`px-2 py-1 rounded ${I==="Posted"?"bg-green-100 text-green-800":I==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:I})},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"CustomerName",header:"Customer Name",sortable:!0,render:I=>(I==null?void 0:I.trim())||"N/A"},{key:"InvoiceNumber",header:"Order No.",sortable:!0},{key:"Total",header:"Amount",sortable:!0,render:I=>C(I),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:I=>I||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:I=>({1:"General Fund",2:"Special Education Fund"})[I]||""},{key:"CheckNumber",header:"Check",sortable:!0,render:I=>I||""},{key:"MoneyOrder",header:"Money Order",sortable:!0,render:I=>I||""},{key:"MoneyOrderDate",header:"Money Order Date",sortable:!0,render:I=>I||""}],S=[a&&{icon:Ie,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Ya,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],A=async I=>{if(I)try{const k=await t(Vb(I)).unwrap();console.log("Operation successful:",k,I),t(kc()),B.success("Receipt saved successfully.")}catch(k){console.error("Submission failed:",k),B.error(k.message||"Failed to save receipt")}finally{j()}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Service Receipt"}),o.jsx("p",{children:"Manage official receipts and collections"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:n&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N,data:e,actions:S,loading:r,onRowClick:g})}),o.jsx(t7e,{isOpen:f,onClose:j,selectedReceipt:p,onSubmit:A,Print:i}),o.jsx(oe,{isOpen:u,onClose:v,title:"General Receipt Details",size:"lg",children:p&&o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:p.receiptNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:new Date(p.receiptDate).toLocaleDateString()})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:p.fund})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:p.modeOfPayment})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:p.payorName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:p.payorAddress||"N/A"})]})]})]})]}),o.jsx("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-success-700",children:C(p.totalAmount)})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:v,className:"btn btn-outline",children:"Close"}),a&&o.jsx("button",{type:"button",onClick:()=>b(p),className:"btn btn-primary",children:"Edit"})]})]})})]})}ie().shape({CustomerName:E().required("Customer name is required"),Municipality:E().required("Municipality is required"),AmountinWords:E().required("Amount in words is required"),AmountReceived:Y().min(0).required("Amount received is required"),CheckNumber:E().nullable(),T_D_No:E().required("T.D. No is required"),AdvancedYear:Y().min(1900).max(2100).required("Advanced year is required"),AdvanceFunds:Y().min(0).required("Advance funds is required"),FundsID:Y().required("Funds ID is required"),ReceivedFrom:E().required("Received from is required"),Location:E().required("Location is required"),Lot:E().nullable(),Block:E().nullable(),PreviousPaymentList:Gt().of(ie().shape({LandPrice:Y().min(0),ImprovementPrice:Y().min(0),TotalAssessedValue:Y().min(0),TaxDue:Y().min(0),InstallmentPayment:Y().min(0),FullPayment:Y().min(0),Penalty:Y().min(0),Total:Y().min(0)})),PresentPaymentList:Gt().of(ie().shape({LandPrice:Y().min(0),ImprovementPrice:Y().min(0),TotalAssessedValue:Y().min(0),TaxDue:Y().min(0),InstallmentPayment:Y().min(0),FullPayment:Y().min(0),Penalty:Y().min(0),Discount:Y().min(0),Total:Y().min(0),RemainingBalance:Y().min(0)}))});const i5=()=>{const[t,e]=w.useState({owner:"",municipality:"MAKATI",checkNumber:"0",previousPayment:"0",receivedFrom:"CEDRIC",taxDeclarationNumber:"",address:"",block:"",lot:"",amountReceived:"",remainingBalance:"0",receivedFrom2:"",advancePayment:!1,year:"2025",until:"2025",amountInWords:"",basicFund:!0,specialEducationFund:!1,previousLandValues:"0",previousImprovement:"0",previousTotalAssessed:"0",previousTotal:"0",presentLandValues:"0",presentImprovement:"0",presentTotalAssessed:"0",discountRate:"0",penaltyRate:"0",payment:"0",dueDateYear:"",installmentPayment:!1,fullPayment:!0}),[r,n]=w.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),[a,s]=w.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),i=(f,m)=>{e(p=>({...p,[f]:m}))},l=(f,m)=>{const p={id:Date.now().toString(),ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""};m([...f,p])},c=(f,m,p)=>{m.length>1&&p(m.filter(h=>h.id!==f))},u=(f,m,p,h,y)=>{y(h.map(g=>g.id===f?{...g,[m]:p}:g))},d=({entries:f,setEntries:m,title:p})=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[o.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:p}),o.jsx("div",{className:"flex gap-2",children:o.jsx(Ct,{type:"button",onClick:()=>l(f,m),className:"bg-green-600 hover:bg-green-700 text-white p-2 h-8 w-8",children:o.jsx(Z0,{className:"h-4 w-4"})})})]}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner Address"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Lot Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Block Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"T.D No"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Land"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Improvement"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Total Assessed"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Tax Due"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Full Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Penalty"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:f.map((h,y)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y+1,readOnly:!0,className:"w-full p-1 text-sm bg-gray-50 border-none text-center"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.ownerAddress,onChange:g=>u(h.id,"ownerAddress",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.lotNumber,onChange:g=>u(h.id,"lotNumber",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.blockNumber,onChange:g=>u(h.id,"blockNumber",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.tdNo,onChange:g=>u(h.id,"tdNo",g.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.land,onChange:g=>u(h.id,"land",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.improvement,onChange:g=>u(h.id,"improvement",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.totalAssessed,onChange:g=>u(h.id,"totalAssessed",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.taxDue,onChange:g=>u(h.id,"taxDue",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:h.payment,onChange:g=>u(h.id,"payment",g.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>c(h.id,f,m),className:"btn btn-danger ",disabled:f.length===1,children:o.jsx(er,{className:"h-3 w-3"})})})]},h.id))})]})})})]});return o.jsx("div",{className:"min-h-screen bg-white md:p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(Jde,{className:"h-5 w-5"}),"Basic Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(T,{label:"Owner",name:"owner",type:"select",options:[{value:"owner1",label:"Owner 1"},{value:"owner2",label:"Owner 2"}],value:t.owner,onChange:f=>i("owner",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Municipality",name:"municipality",value:t.municipality,onChange:f=>i("municipality",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Check Number",name:"checkNumber",value:t.checkNumber,onChange:f=>i("checkNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Previous Payment",name:"previousPayment",value:t.previousPayment,onChange:f=>i("previousPayment",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Received From",name:"receivedFrom",value:t.receivedFrom,onChange:f=>i("receivedFrom",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(T,{label:"Tax Declaration Number",name:"taxDeclarationNumber",type:"select",options:[{value:"taxDeclarationNumber1",label:"Tax Declaration Number 1"},{value:"taxDeclarationNumber2",label:"Tax Declaration Number 2"}],value:t.taxDeclarationNumber,onChange:f=>i("taxDeclarationNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Address",name:"address",value:t.address,onChange:f=>i("address",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Block",name:"block",value:t.block,onChange:f=>i("block",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Lot",name:"lot",value:t.lot,onChange:f=>i("lot",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),o.jsx("div",{className:"sm:p-6 p-3",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(T,{label:"Land Values",name:"previousLandValues",value:t.previousLandValues,onChange:f=>i("previousLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Improvement",name:"previousImprovement",value:t.previousImprovement,onChange:f=>i("previousImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Total Assessed Value",name:"previousTotalAssessed",value:t.previousTotalAssessed,onChange:f=>i("previousTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"General Revision (Year)",name:"dueDateYear",type:"select",options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary ",children:"Add"}),o.jsx("button",{className:"btn btn-outline",children:"Remove"})]})]})})]}),o.jsx(d,{entries:r,setEntries:n,title:"Previous Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(T,{label:"Land Values",name:"presentLandValues",value:t.presentLandValues,onChange:f=>i("presentLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Improvement",name:"presentImprovement",value:t.presentImprovement,onChange:f=>i("presentImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Total Assessed Value",name:"presentTotalAssessed",value:t.presentTotalAssessed,onChange:f=>i("presentTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Label10"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(T,{label:"Discount Rate",name:"discountRate",value:t.discountRate,onChange:f=>i("discountRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Penalty Rate",name:"penaltyRate",value:t.penaltyRate,onChange:f=>i("penaltyRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(T,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(T,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.installmentPayment,onChange:()=>{i("installmentPayment",!0),i("fullPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.fullPayment,onChange:()=>{i("fullPayment",!0),i("installmentPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]})]})]})]}),o.jsx(d,{entries:a,setEntries:s,title:"Present Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(kD,{className:"h-5 w-5"}),"Payment Summary"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(T,{label:"Amount Received",name:"amountReceived",value:t.amountReceived,onChange:f=>i("amountReceived",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"}),o.jsx(T,{label:"Remaining Balance",name:"remainingBalance",value:t.remainingBalance,onChange:f=>i("remainingBalance",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(T,{label:"Received From",name:"receivedFrom2",value:t.receivedFrom2,onChange:f=>i("receivedFrom2",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:t.advancePayment,onChange:f=>i("advancePayment",f.target.checked),className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Advance Payment"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(T,{label:"Year",name:"year",value:t.year,onChange:f=>i("year",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Until"}),o.jsx(T,{label:"",name:"until",value:t.until,onChange:f=>i("until",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.basicFund,onChange:()=>{i("basicFund",!0),i("specialEducationFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.specialEducationFund,onChange:()=>{i("specialEducationFund",!0),i("basicFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),o.jsx(T,{label:"Amount In Words",name:"amountInWords",value:t.amountInWords,onChange:f=>i("amountInWords",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500",placeholder:"Enter amount in words..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{variant:"outline",className:"btn btn-outline",children:"Cancel"}),o.jsx(Ct,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:"Save Draft"})]})]})})},n7e=[{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"Active"},{id:2,tdNo:"TD-002",owner:"Maria Santos",address:"456 Pine St",beneficialUser:"Carlos Santos",beneficialAddress:"456 Pine St",octTctCloaNo:"OCT-456",cct:"CCT-789",dated:"2024-02-15",propertyIdentificationNo:"67890",tin:"456-789-012",ownerTelephoneNo:"9876543210",beneficialTin:"456-789-012",beneficialTelephoneNo:"9876543210",surveyNo:"S-002",lotNo:"L-002",blockNo:"B-002",boundaries:{taxable:!0,north:"Street E",south:"Street F",east:"Street G",west:"Street H"},cancelledTdNo:"",cancelledOwner:"",effectivityOfAssessment:"2024-01-01",previousOwner:"",previousAssessedValue:"0",propertyDetails:{kind:"Land",numberOf:"1",description:"Commercial lot"},assessmentDetails:{kind:"Land",actualUse:"Commercial",classification:"Class 2",areaSize:"Large",assessmentLevel:"30%",marketValue:"2500000"},status:"Active"}];function a7e(){ce();const{realPropertyTaxes:t,isLoading:e}=q(C=>C.realPropertyTax),{Add:r,Edit:n}=we(70),[a,s]=w.useState("list"),[i,l]=w.useState(null),[c,u]=w.useState(""),d=t&&t.length>0?t:n7e,f=()=>{l(null),s("form")},m=C=>{l(C),s("details")},p=C=>{l(C),s("form")},h=C=>{console.log("Print property:",C)},y=()=>{s("list"),l(null)},g=d==null?void 0:d.filter(C=>{const x=c.toLowerCase();return C.tdNo.toLowerCase().includes(x)||C.owner.toLowerCase().includes(x)||C.address.toLowerCase().includes(x)||C.propertyIdentificationNo.toLowerCase().includes(x)}),b=[{key:"tdNo",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"owner",header:"Owner",sortable:!0},{key:"address",header:"Address",sortable:!0},{key:"propertyIdentificationNo",header:"Property ID",sortable:!0},{key:"dated",header:"Date",sortable:!0,render:C=>new Date(C).toLocaleDateString()},{key:"status",header:"Status",sortable:!0,render:C=>v(C)}],v=C=>{let x="bg-neutral-100 text-neutral-800";switch(C){case"Active":x="bg-success-100 text-success-800";break;case"Inactive":x="bg-warning-100 text-warning-800";break;case"Cancelled":x="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x}`,children:C})},j=[{icon:Um,title:"View",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},n&&{icon:Ie,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return o.jsxs(o.Fragment,{children:[a==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4 mb-6 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),o.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),r&&o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]})]}),o.jsx(ye,{columns:b,data:g,actions:j,loading:e,onRowClick:m})]}),a==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:y,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:i?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),o.jsx("p",{className:"text-gray-600",children:i?"Update the property details":"Fill out the form to create a new property record"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(i5,{initialData:i,onCancel:y,onSubmitSuccess:y})})]}),a==="details"&&i&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:y,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(xa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage property tax details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>p(i),className:"btn btn-primary flex items-center",children:[o.jsx(Ie,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>h(i),className:"btn btn-outline flex items-center",children:[o.jsx(yu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(i5,{initialData:i,readOnly:!0,onBack:y})})]})]})}function s7e({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=ie({endDate:E().required("Date End is required"),fundID:E().required("Fund is required"),approverID:E().required("Approver is required"),ledger:E().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(Re,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:h,isSubmitting:y,setFieldValue:g})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsx(T,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:p,onBlur:h,error:f.endDate,touched:m.endDate,required:!0}),o.jsx(T,{type:"select",label:"Fund",name:"fundID",options:t.map(b=>({value:b.ID,label:b.Name})),value:d.fundID,onChange:p,onBlur:h,error:f.fundID,touched:m.fundID,required:!0}),o.jsx(T,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:p,onBlur:h,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),o.jsx(T,{label:"Approver",name:"approverID",type:"select",options:e.map(b=>{var v;return{value:b.ID,label:b.FirstName+" "+b.MiddleName+" "+b.LastName+" - "+((v=b==null?void 0:b.Department)==null?void 0:v.Name)}}),value:d.approverID,onChange:p,onBlur:h,error:f.approverID,touched:m.approverID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-neutral-200 max-sm:flex-col",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Cashbook"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const o7e="https://staging-engine.testthelink.online",i7e={trialBalances:[],isLoading:!1,error:null},zb=F("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${o7e}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),dC=F("trialBalance/exportTrialBalances",async t=>!0),i9=ve({name:"trialBalance",initialState:i7e,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(zb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zb.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(zb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(dC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dC.fulfilled,e=>{e.isLoading=!1}).addCase(dC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:l7e}=i9.actions,c7e=i9.reducer;function u7e(){const t="https://staging-engine.testthelink.online",e=ce(),{trialBalances:r,isLoading:n,error:a}=q(f=>f.trialBalance),{funds:s}=q(f=>f.funds),{employees:i}=q(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(l7e()),e(Kt()),e(cn())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),p=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!p.ok)throw new Error("Server response was not ok");const h=await p.blob(),y=p.headers.get("Content-Disposition");let g="Trial_Balance.xlsx";y&&y.includes("filename=")&&(g=y.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(h),v=document.createElement("a");v.href=b,v.download=g,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(b)}catch(m){console.error("Export failed:",m),B.error(m.message||"Failed to export trial balance")}},d=f=>{e(zb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Trial Balance"}),o.jsx("p",{children:"Generate trial balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(s7e,{funds:s,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:c,data:r,loading:n,pagination:!0})})]})}const d7e="https://staging-engine.testthelink.online",f7e=ie().shape({BudgetID:E().required("Budget is required"),budgetName:E(),fiscalYearID:E(),departmentID:E(),subDepartmentID:E(),chartOfAccountsID:E(),fundID:E(),projectID:E(),allotment:Y().integer().required("Allotment is required"),remarks:E(),appropriation:Y().integer(),balance:Y().integer(),releasedAllotments:Y().integer(),releasedBalance:Y().integer(),Attachments:Gt()}),l5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",allotment:0,charges:0,totalAmount:0,balance:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function m7e({initialData:t,onSubmit:e,onClose:r,allotmentList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=w.useState({...l5});w.useEffect(()=>{if(t!=null&&t.ID){const{Budget:g}=t;f({BudgetID:g==null?void 0:g.ID,budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",allotment:(g==null?void 0:g.Allotment)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:(g==null?void 0:g.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.ReleasedAllotments)||0,releasedBalance:(g==null?void 0:g.ReleasedBalance)||0,Attachments:(g==null?void 0:g.Attachments)||[]})}else f(l5)},[t]);const m=async(g,{setSubmitting:b})=>{try{const v=new FormData;g==null||g.Attachments.forEach((C,x)=>{C.ID?v.append(`Attachments[${x}].ID`,C.ID):v.append(`Attachments[${x}].File`,C)}),(g==null?void 0:g.Attachments.length)===0&&v.append("Attachments","[]");const j={BudgetID:g.BudgetID,Remarks:g.remarks,Allotment:g.allotment};Object.entries(j).forEach(([C,x])=>{v.append(C,JSON.stringify(x))}),t?(v.append("LinkID",JSON.stringify(t.LinkID)),v.append("IsNew",JSON.stringify(!1))):v.append("IsNew",JSON.stringify(!0)),await e(v)}catch(v){console.error("Submission error:",v)}finally{b(!1)}},p=g=>{const b=n==null?void 0:n.find(v=>v.ID===parseInt(g));b&&f({...d,BudgetID:b.ID,budgetName:b.Name||"",fiscalYearID:b.FiscalYearID||"",departmentID:b.DepartmentID||"",subDepartmentID:b.SubDepartmentID||"",chartOfAccountsID:b.ChartofAccountsID||"",fundID:b.FundID||"",projectID:b.ProjectID||"",appropriation:parseFloat(b.Appropriation)||0,balance:parseFloat(b.AppropriationBalance)||0,charges:parseFloat(b.Charges||0)})},h=(g,b,v)=>{const C=Array.from(g.target.files).map(x=>x);b("Attachments",[...v.Attachments,...C])},y=(g,b,v)=>{const j=[...v.Attachments];j.splice(g,1),b("Attachments",j)};return o.jsx(Re,{enableReinitialize:!0,initialValues:d,validationSchema:f7e,onSubmit:m,children:({values:g,errors:b,touched:v,handleChange:j,handleBlur:C,isSubmitting:x,setFieldValue:N})=>{var S;return o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2 pt-4",children:o.jsx(yt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:p,options:n.map(A=>({label:A.Name,value:A.ID})),error:b.BudgetID,touched:v.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>h(A,N,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((S=g==null?void 0:g.Attachments)==null?void 0:S.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((A,I)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:A.ID?o.jsx("a",{href:`${d7e}/uploads/${A.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.name||A.DataName}):A.name||A.DataName})]}),o.jsx("button",{type:"button",onClick:()=>y(I,N,g),className:"text-red-500 hover:text-red-700",children:o.jsx(er,{className:"h-4 w-4"})})]},I))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(T,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:j,onBlur:C,error:b.budgetName,touched:v.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:j,onBlur:C,error:b.fiscalYearID,touched:v.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:j,onBlur:C,error:b.departmentID,touched:v.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:j,onBlur:C,error:b.subDepartmentID,touched:v.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:j,onBlur:C,error:b.chartOfAccountsID,touched:v.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:j,onBlur:C,error:b.fundID,touched:v.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:j,onBlur:C,error:b.projectID,touched:v.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Appropriation",name:"appropriation",type:"number",value:g.appropriation,onChange:j,onBlur:C,error:b.appropriation,touched:v.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Balance",name:"balance",type:"number",value:g.balance,onChange:j,onBlur:C,error:b.balance,touched:v.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:g.releasedAllotments,onChange:j,onBlur:C,error:b.releasedAllotments,touched:v.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Released Balance",name:"releasedBalance",type:"number",value:g.releasedBalance,onChange:j,onBlur:C,error:b.releasedBalance,touched:v.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(T,{label:"Allotment",name:"allotment",type:"number",value:g.allotment,onChange:j,onBlur:C,error:b.allotment,touched:v.allotment,required:!0}),o.jsx(T,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:j,onBlur:C,error:b.remarks,touched:v.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const h7e=()=>{const t=ce(),{user:e}=q(M=>M.auth),{Add:r,Edit:n,Print:a}=we(23),{departments:s}=q(M=>M.departments),{subdepartments:i}=q(M=>M.subdepartments),l=q(M=>{var P;return((P=M.chartOfAccounts)==null?void 0:P.accounts)||[]}),{fiscalYears:c}=q(M=>M.fiscalYears),{funds:u}=q(M=>M.funds),{projectDetails:d}=q(M=>M.projectDetails),[f,m]=w.useState([]),[p,h]=w.useState([]),[y,g]=w.useState(!1),[b,v]=w.useState(null),[j,C]=w.useState({department:"",subDepartment:"",chartOfAccounts:""});w.useEffect(()=>{t(sr()),t(Co()),t(xr()),x(),N()},[]);const x=async()=>{try{const M=await Ke("/budgetAllotment/list");m(M.data)}catch(M){le.error("Failed to load data"),le.error(M.message)}},N=async()=>{try{const M=await Ke("/budgetSupplemental/budgetList");h(M==null?void 0:M.data)}catch(M){le.error("Failed to load data"),le.error(M.message)}},S=M=>{const{name:P,value:O}=M.target;C(L=>({...L,[P]:O}))},A=async M=>{try{(await Ke.post("budgetAllotment",M,{headers:{"Content-Type":"multipart/form-data"}})).data?(le.success(b?"Allotment updated successfully":"New Allotment added"),x()):le.error("Failed to save supplemental")}catch(P){console.error("Error submitting supplemental:",P),le.error(P.message||"Failed to save supplemental")}finally{g(!1)}},I=M=>{v(M),g(!0)},k=[{key:"Status",header:"Status",render:M=>o.jsx("span",{children:M})},{key:"InvoiceNumber",header:"Invoice Number",render:(M,P)=>o.jsx("span",{children:P.InvoiceNumber})},{key:"Budget",header:"Budget",render:(M,P)=>{var O;return o.jsx("span",{children:(O=P.Budget)==null?void 0:O.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(M,P)=>{const O=new Date(P.InvoiceDate);return o.jsx("span",{children:O.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(M,P)=>o.jsx("span",{children:parseFloat(P.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],D=[n&&{icon:va,title:"Edit",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],_=f==null?void 0:f.filter(M=>{const{Budget:P}=M;return(!j.department||(P==null?void 0:P.DepartmentID)==j.department)&&(!j.subDepartment||(P==null?void 0:P.SubDepartmentID)==j.subDepartment)&&(!j.chartOfAccounts||(P==null?void 0:P.ChartofAccountsID)==j.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Allotment"}),o.jsx("p",{children:"Manage budget allotments here"})]}),o.jsxs("div",{className:"flex gap-4",children:[r&&o.jsxs("button",{onClick:()=>I(null),className:"btn btn-primary flex items-center",children:[o.jsx(Due,{className:"h-5 w-5 mr-2"}),"Add Allotment"]}),a&&o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Bx,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:j.department,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),s==null?void 0:s.map(M=>o.jsx("option",{value:M.ID,children:M.Name},M.ID))]}),o.jsxs("select",{name:"subDepartment",value:j.subDepartment,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),i==null?void 0:i.map(M=>o.jsx("option",{value:M.ID,children:M.Name},M.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:j.chartOfAccounts,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),l==null?void 0:l.map(M=>o.jsx("option",{value:M.ID,children:M.Name},M.ID))]})]}),o.jsx(ye,{columns:k,data:_,actions:D,loading:!1,pagination:!0}),o.jsx(oe,{size:"md",isOpen:y,onClose:()=>g(!1),title:b?"Edit Allotment":"Add Allotment",children:o.jsx(m7e,{allotmentList:p,departmentOptions:s.map(M=>({value:M.ID,label:M.Name})),subDepartmentOptions:i.map(M=>({value:M.ID,label:M.Name})),chartOfAccountsOptions:l.map(M=>({value:M.ID,label:M.Name})),fundOptions:u.map(M=>({value:M.ID,label:M.Name})),projectOptions:d.map(M=>({value:M.ID,label:M.Title})),fiscalYearOptions:c.map(M=>({value:M.ID,label:M.Name})),onSubmit:A,initialData:b,onClose:()=>g(!1)})})]})},kp="https://staging-engine.testthelink.online",c5=t=>({IsNew:!(t!=null&&t.ID),ID:(t==null?void 0:t.ID)||"",Name:t.Name,FiscalYearID:Number(t.FiscalYearID),DepartmentID:Number(t.DepartmentID),SubDepartmentID:Number(t.SubDepartmentID),ChartOfAccountsID:Number(t.ChartofAccountsID),FundID:Number(t.FundID),ProjectID:Number(t.ProjectID),Appropriation:Number(t.Appropriation),Charges:Number(t.Charges),January:Number(t.January),February:Number(t.February),March:Number(t.March),April:Number(t.April),May:Number(t.May),June:Number(t.June),July:Number(t.July),August:Number(t.August),September:Number(t.September),October:Number(t.October),November:Number(t.November),December:Number(t.December)}),p7e=()=>{const t=ce(),{departments:e}=q(D=>D.departments),{subdepartments:r}=q(D=>D.subdepartments),n=q(D=>{var _;return((_=D.chartOfAccounts)==null?void 0:_.accounts)||[]}),{fiscalYears:a}=q(D=>D.fiscalYears),{funds:s}=q(D=>D.funds),{projectDetails:i}=q(D=>D.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState(!1),[f,m]=w.useState(null),[p,h]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),{Add:y,Edit:g,Delete:b}=we(22);w.useEffect(()=>{t(sr()),t(Co()),t(xr()),t(un()),t(Kt()),t(Ba()),v()},[]);const v=async()=>{try{const _=await(await fetch(`${kp}/budget`)).json();_!=null&&_.status?c((_==null?void 0:_.items)||[]):le.error("Failed to fetch budget details")}catch(D){le.error(D.message)}},j=D=>{const{name:_,value:M}=D.target;h(P=>({...P,[_]:M}))},C=D=>{f?N(D):x(D)},x=async D=>{try{await(await fetch(`${kp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(c5(D))})).json()&&(v(),d(!1),le.success("Budget added successfully"))}catch(_){le.error(_.message)}},N=async D=>{try{await(await fetch(`${kp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(c5(D))})).json()&&(v(),d(!1),le.success("Budget updated successfully"))}catch(_){le.error(_.message)}},S=async D=>{try{await(await fetch(`${kp}/budget/${D}`,{method:"DELETE"})).json()&&(v(),le.success("Budget deleted"))}catch(_){le.error(_.message)}},A=[{key:"Name",header:"Name"},{key:"FiscalYearID",header:"Fiscal Year",render:(D,_)=>{var M;return o.jsx("span",{children:((M=_==null?void 0:_.FiscalYear)==null?void 0:M.Name)||"N/A"})}},{key:"DepartmentID",header:"Department",render:(D,_)=>{var M;return o.jsx("span",{children:((M=_==null?void 0:_.Department)==null?void 0:M.Name)||"N/A"})}},{key:"SubDepartmentID",header:"Sub Department",render:(D,_)=>{var M;return o.jsx("span",{children:((M=_==null?void 0:_.SubDepartment)==null?void 0:M.Name)||"N/A"})}},{key:"ChartofAccountsID",header:"Chart of Accounts",render:(D,_)=>{var M;return o.jsx("span",{children:((M=_==null?void 0:_.ChartofAccounts)==null?void 0:M.Name)||"N/A"})}},{key:"FundID",header:"Fund",render:(D,_)=>{var M;return o.jsx("span",{children:((M=_==null?void 0:_.Funds)==null?void 0:M.Name)||"N/A"})}},{key:"ProjectID",header:"Project",render:(D,_)=>{var M;return o.jsx("span",{children:((M=_==null?void 0:_.Project)==null?void 0:M.Title)||"N/A"})}},{key:"Appropriation",header:"Appropriation"},{key:"AppropriationBalance",header:"Appropriation Balance"},{key:"TotalAmount",header:"Total Amount"},{key:"AllotmentBalance",header:"Allotment Balance"},{key:"ChargedAllotment",header:"Charges"},{key:"PreEncumbrance",header:"Pre Encumbrance"},{key:"Encumbrance",header:"Encumbrance"},{key:"January",header:"January"},{key:"February",header:"February"},{key:"March",header:"March"},{key:"April",header:"April"},{key:"May",header:"May"},{key:"June",header:"June"},{key:"July",header:"July"},{key:"August",header:"August"},{key:"September",header:"September"},{key:"October",header:"October"},{key:"November",header:"November"},{key:"December",header:"December"}],I=[g&&{icon:va,title:"Edit",onClick:D=>{m(D),d(!0)},className:"text-primary-600 hover:text-primary-900 p-1"},b&&{icon:Ya,title:"Delete",onClick:D=>S(D==null?void 0:D.ID),className:"text-red-600 hover:text-red-800 p-1"}],k=l.filter(D=>{var _,M,P;return(!p.department||((_=D.Department)==null?void 0:_.ID)==p.department)&&(!p.subDepartment||((M=D.SubDepartment)==null?void 0:M.ID)==p.subDepartment)&&(!p.chartOfAccounts||((P=D.ChartofAccounts)==null?void 0:P.ID)==p.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Details"}),o.jsx("p",{children:"View and manage detailed budget entries"})]}),y&&o.jsxs("button",{onClick:()=>{m(null),d(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Z0,{className:"h-5 w-5 mr-2"}),"Add Budget"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 my-4",children:[o.jsxs("select",{name:"department",value:p.department,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(D=>o.jsx("option",{value:D.ID,children:D.Name},D.ID))]}),o.jsxs("select",{name:"subDepartment",value:p.subDepartment,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(D=>o.jsx("option",{value:D.ID,children:D.Name},D.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:p.chartOfAccounts,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(D=>o.jsx("option",{value:D.ID,children:D.Name},D.ID))]})]}),o.jsx(ye,{columns:A,data:k,actions:I,pagination:!0}),o.jsx(oe,{size:"lg",isOpen:u,onClose:()=>d(!1),title:f?"Edit Budget":"Add Budget",children:o.jsx(UU,{departmentOptions:e.map(D=>({value:D.ID,label:D.Name})),subDepartmentOptions:r.map(D=>({value:D.ID,label:D.Name})),chartOfAccountsOptions:n.map(D=>({value:D.ID,label:D.Name})),fundOptions:s.map(D=>({value:D.ID,label:D.Name})),projectOptions:i.map(D=>({value:D.ID,label:D.Title})),fiscalYearOptions:a.map(D=>({value:D.ID,label:D.Name})),onSubmit:C,initialData:f,onClose:()=>d(!1)})})]})},g7e=()=>{const t=ce(),{departments:e,isLoading:r}=q(x=>x.departments),{subdepartments:n,isLoading:a}=q(x=>x.subdepartments),s=q(x=>{var N;return((N=x.chartOfAccounts)==null?void 0:N.accounts)||[]}),[i,l]=w.useState([]),[c,u]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),[d,f]=w.useState(!1),[m,p]=w.useState(null),[h,y]=w.useState(!0);w.useEffect(()=>{t(sr()),t(Co()),t(xr()),g()},[]);const g=async()=>{try{y(!0);const x=await Ke("/budgetSummary");l(x.data||[])}catch(x){console.error("Error fetching budget summaries:",x)}finally{y(!1)}},b=x=>{const{name:N,value:S}=x.target;u(A=>({...A,[N]:S}))},v=i.filter(x=>{var N,S;return(!c.department||((N=x.Department)==null?void 0:N.Name)===c.department)&&(!c.subDepartment||((S=x.SubDepartment)==null?void 0:S.Name)===c.subDepartment)&&(!c.chartOfAccounts||x.ChartOfAccounts===c.chartOfAccounts)}),j=[{key:"Name",header:"Name",sortable:!0},{key:"FiscalYearID",header:"Fiscal Year",sortable:!0,render:(x,N)=>N==null?void 0:N.FiscalYear.Name},{key:"DepartmentID",header:"Department",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.Department)==null?void 0:S.Name}},{key:"SubDepartmentID",header:"Sub Department",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.SubDepartment)==null?void 0:S.Name}},{key:"ChartofAccountsID",header:"Chart of Accounts",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.ChartofAccounts)==null?void 0:S.Name}},{key:"FundsID",header:"Fund",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.Funds)==null?void 0:S.Name}},{key:"ProjectID",header:"Project",sortable:!0,render:(x,N)=>{var S;return(S=N==null?void 0:N.Project)==null?void 0:S.Title}},{key:"Appropriation",header:"Appropriation",sortable:!0},{key:"AppropriationBalance",header:"Appropriation Balance",sortable:!0},{key:"TotalAmount",header:"Total Amount",sortable:!0},{key:"ChargedAllotment",header:"Allotment",sortable:!0},{key:"AllotmentBalance",header:"Allotment Balance",sortable:!0},{key:"Change",header:"Change",sortable:!0},{key:"Supplemental",header:"Supplemental",sortable:!0},{key:"Released",header:"Released",sortable:!0},{key:"Charges",header:"Charges",sortable:!0},{key:"PreEncumbrance",header:"Pre Encumbr.",sortable:!0},{key:"Encumbrance",header:"Encumbrance",sortable:!0},{key:"January",header:"January",sortable:!0},{key:"February",header:"February",sortable:!0},{key:"March",header:"March",sortable:!0},{key:"April",header:"April",sortable:!0},{key:"May",header:"May",sortable:!0},{key:"June",header:"June",sortable:!0},{key:"July",header:"July",sortable:!0},{key:"August",header:"August",sortable:!0},{key:"September",header:"September",sortable:!0},{key:"October",header:"October",sortable:!0},{key:"November",header:"November",sortable:!0},{key:"December",header:"December",sortable:!0}],C=x=>{p(x),f(!0)};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Summary"}),o.jsx("p",{children:"Review the budget performance across months and categories."})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:c.department,onChange:b,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),e==null?void 0:e.map(x=>o.jsx("option",{value:x.Name,children:x.Name},x.ID))]}),o.jsxs("select",{name:"subDepartment",value:c.subDepartment,onChange:b,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(x=>o.jsx("option",{value:x.Name,children:x.Name},x.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:c.chartOfAccounts,onChange:b,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),s==null?void 0:s.map(x=>o.jsx("option",{value:x.Name,children:x.Name},x.ID))]})]}),o.jsx(ye,{columns:j,data:v,loading:h||r||a,pagination:!0,onRowClick:C}),o.jsx(oe,{isOpen:d,onClose:()=>f(!1),title:"Budget Summary Details",size:"5xl",children:o.jsx(y7e,{data:m})})]})},y7e=({data:t})=>{var r,n,a,s,i,l;if(!t)return null;const e=c=>c||"";return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Budget Name:"})," ",e(t.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fiscal Year:"})," ",e((r=t.FiscalYear)==null?void 0:r.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Department:"})," ",e((n=t.Department)==null?void 0:n.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"SubDepartment:"})," ",e((a=t.SubDepartment)==null?void 0:a.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Chart of Accounts:"})," ",e((s=t.ChartofAccounts)==null?void 0:s.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fund:"})," ",e((i=t.Funds)==null?void 0:i.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Project:"})," ",e((l=t.Project)==null?void 0:l.Title)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Original):"})," ",e(t.Appropriation)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation Balance:"})," ",e(t.AppropriationBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Adjusted):"})," ",e(t.RevisedAmount)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Adjustments:"})," ",e(t.Change)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Allotment:"})," ",e(t.ChargedAllotment)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Allotment Balance:"})," ",e(t.AllotmentBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Pre Encumbrance:"})," ",e(t.PreEncumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Encumbrance:"})," ",e(t.Encumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",e(t.Charges)]})]}),o.jsxs("div",{className:"space-y-2",children:[["January","February","March","April","May","June","July","August","September","October","November","December"].map(c=>o.jsxs("div",{children:[o.jsxs("strong",{children:[c,":"]})," ",e(t[c])]},c)),o.jsxs("div",{className:"font-semibold pt-2 border-t",children:[o.jsx("strong",{children:"Total Amount:"})," ",e(t.TotalAmount)]})]})]})},b7e="https://staging-engine.testthelink.online",x7e=ie().shape({BudgetID:E().required("Budget is required"),budgetName:E(),fiscalYearID:E(),departmentID:E(),subDepartmentID:E(),chartOfAccountsID:E(),fundID:E(),projectID:E(),supplemental:Y().integer().required("Supplemental is required"),remarks:E(),appropriation:Y().integer(),balance:Y().integer(),releasedAllotments:Y().integer(),releasedBalance:Y().integer(),Attachments:Gt()}),u5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function v7e({initialData:t,onSubmit:e,onClose:r,budgetList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=w.useState({...u5});w.useEffect(()=>{if(t!=null&&t.ID){const{Budget:g}=t;f({BudgetID:g==null?void 0:g.ID,budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",supplemental:(g==null?void 0:g.Supplemental)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:(g==null?void 0:g.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.ReleasedAllotments)||0,releasedBalance:(g==null?void 0:g.ReleasedBalance)||0,Attachments:(g==null?void 0:g.Attachments)||[]})}else f(u5)},[t]);const m=async(g,{setSubmitting:b})=>{try{const v=new FormData;g==null||g.Attachments.forEach((C,x)=>{C.ID?v.append(`Attachments[${x}].ID`,C.ID):v.append(`Attachments[${x}].File`,C)}),(g==null?void 0:g.Attachments.length)===0&&v.append("Attachments","[]"),console.log({values:g});const j={BudgetID:g.BudgetID,Remarks:g.remarks,Supplemental:g.supplemental};Object.entries(j).forEach(([C,x])=>{v.append(C,JSON.stringify(x))}),t?(v.append("LinkID",JSON.stringify(t.LinkID)),v.append("IsNew",JSON.stringify(!1))):v.append("IsNew",JSON.stringify(!0)),await e(v)}catch(v){console.error("Submission error:",v)}finally{b(!1)}},p=g=>{const b=n==null?void 0:n.find(v=>v.ID===parseInt(g));b&&f({...d,BudgetID:b.ID,budgetName:b.Name||"",fiscalYearID:b.FiscalYearID||"",departmentID:b.DepartmentID||"",subDepartmentID:b.SubDepartmentID||"",chartOfAccountsID:b.ChartofAccountsID||"",fundID:b.FundID||"",projectID:b.ProjectID||"",appropriation:parseFloat(b.Appropriation)||0,balance:parseFloat(b.AppropriationBalance)||0,charges:parseFloat(b.Charges||0)})},h=(g,b,v)=>{const C=Array.from(g.target.files).map(x=>x);b("Attachments",[...v.Attachments,...C])},y=(g,b,v)=>{const j=[...v.Attachments];j.splice(g,1),b("Attachments",j)};return o.jsx(Re,{enableReinitialize:!0,initialValues:d,validationSchema:x7e,onSubmit:m,children:({values:g,errors:b,touched:v,handleChange:j,handleBlur:C,isSubmitting:x,setFieldValue:N})=>{var S;return o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2  pt-4",children:o.jsx(yt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:p,options:n.map(A=>({label:A.Name,value:A.ID})),error:b.BudgetID,touched:v.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>h(A,N,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((S=g==null?void 0:g.Attachments)==null?void 0:S.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((A,I)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:A.ID?o.jsx("a",{href:`${b7e}/uploads/${A.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.name||A.DataName}):A.name||A.DataName})]}),o.jsx("button",{type:"button",onClick:()=>y(I,N,g),className:"text-red-500 hover:text-red-700",children:o.jsx(er,{className:"h-4 w-4"})})]},I))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(T,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:j,onBlur:C,error:b.budgetName,touched:v.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:j,onBlur:C,error:b.fiscalYearID,touched:v.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:j,onBlur:C,error:b.departmentID,touched:v.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:j,onBlur:C,error:b.subDepartmentID,touched:v.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:j,onBlur:C,error:b.chartOfAccountsID,touched:v.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:j,onBlur:C,error:b.fundID,touched:v.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:j,onBlur:C,error:b.projectID,touched:v.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Appropriation",name:"appropriation",type:"number",value:g.appropriation,onChange:j,onBlur:C,error:b.appropriation,touched:v.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Balance",name:"balance",type:"number",value:g.balance,onChange:j,onBlur:C,error:b.balance,touched:v.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:g.releasedAllotments,onChange:j,onBlur:C,error:b.releasedAllotments,touched:v.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(T,{label:"Released Balance",name:"releasedBalance",type:"number",value:g.releasedBalance,onChange:j,onBlur:C,error:b.releasedBalance,touched:v.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(T,{label:"Supplemental",name:"supplemental",type:"number",value:g.supplemental,onChange:j,onBlur:C,error:b.supplemental,touched:v.supplemental,required:!0}),o.jsx(T,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:j,onBlur:C,error:b.remarks,touched:v.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const j7e=()=>{const t=ce(),{departments:e}=q(P=>P.departments),{subdepartments:r}=q(P=>P.subdepartments),n=q(P=>{var O;return((O=P.chartOfAccounts)==null?void 0:O.accounts)||[]}),{fiscalYears:a}=q(P=>P.fiscalYears),{funds:s}=q(P=>P.funds),{projectDetails:i}=q(P=>P.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState([]),{Add:f,Edit:m,Delete:p,Print:h}=we(26);w.useEffect(()=>{t(un()),t(Kt()),t(Ba()),t(sr()),t(Co()),t(xr()),y(),g()},[]);const y=async()=>{try{const P=await Ke("/budgetSupplemental/list");c(P==null?void 0:P.data)}catch(P){le.error("Failed to load data"),le.error(P.message)}},g=async()=>{try{const P=await Ke("/budgetSupplemental/budgetList");d(P==null?void 0:P.data)}catch(P){le.error("Failed to load data"),le.error(P.message)}},[b,v]=w.useState(!1),[j,C]=w.useState(null),[x,N]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),S=P=>{C(P),v(!0)},A=async P=>{},I=async P=>{try{(await Ke.post("budgetSupplemental/save",P,{headers:{"Content-Type":"multipart/form-data"}})).data?(le.success(j?"Supplemental updated successfully":"New supplemental added"),y()):le.error("Failed to save supplemental")}catch(O){console.error("Error submitting supplemental:",O),le.error(O.message||"Failed to save supplemental")}finally{v(!1)}},k=P=>{const{name:O,value:L}=P.target;N(V=>({...V,[O]:L}))},D=[{key:"Status",header:"Status",render:(P,O)=>o.jsx("span",{children:O.Status})},{key:"InvoiceNumber",header:"Invoice Number",render:(P,O)=>o.jsx("span",{children:O.InvoiceNumber})},{key:"Budget",header:"Budget",render:(P,O)=>{var L;return o.jsx("span",{children:(L=O.Budget)==null?void 0:L.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(P,O)=>{const L=new Date(O.InvoiceDate);return o.jsx("span",{children:L.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(P,O)=>o.jsx("span",{children:parseFloat(O.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],_=[m&&{icon:va,title:"Edit",onClick:S,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},p&&{icon:Ya,title:"Delete",onClick:A,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],M=l.filter(P=>{console.log(x,P);const{Budget:O}=P;return(!x.department||(O==null?void 0:O.DepartmentID)==x.department)&&(!x.subDepartment||(O==null?void 0:O.SubDepartmentID)==x.subDepartment)&&(!x.chartOfAccounts||(O==null?void 0:O.ChartofAccountsID)==x.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Supplemental"}),o.jsx("p",{children:"Manage your supplemental budgets here"})]}),o.jsxs("div",{className:"flex gap-4",children:[f&&o.jsxs("button",{onClick:()=>S(null),className:"btn btn-primary flex items-center",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Supplemental"]}),h&&o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(Bx,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:x.department,onChange:k,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(P=>o.jsx("option",{value:P.ID,children:P.Name},P.ID))]}),o.jsxs("select",{name:"subDepartment",value:x.subDepartment,onChange:k,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(P=>o.jsx("option",{value:P.ID,children:P.Name},P.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:x.chartOfAccounts,onChange:k,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(P=>o.jsx("option",{value:P.ID,children:P.Name},P.ID))]})]}),o.jsx(ye,{columns:D,data:M,actions:_,pagination:!0}),o.jsx(oe,{size:"md",isOpen:b,onClose:()=>v(!1),title:j?"Edit Supplemental":"Add New Supplemental",children:o.jsx(v7e,{budgetList:u,departmentOptions:e.map(P=>({value:P.ID,label:P.Name})),subDepartmentOptions:r.map(P=>({value:P.ID,label:P.Name})),chartOfAccountsOptions:n.map(P=>({value:P.ID,label:P.Name})),fundOptions:s.map(P=>({value:P.ID,label:P.Name})),projectOptions:i.map(P=>({value:P.ID,label:P.Title})),fiscalYearOptions:a.map(P=>({value:P.ID,label:P.Name})),onSubmit:I,initialData:j,onClose:()=>v(!1)})})]})},w7e="https://staging-engine.testthelink.online",N7e=ie({fromBudgetId:E().required("Source budget is required"),toBudgetId:E().required("Target budget is required"),transferAmount:Y().required("Amount is required").min(.01,"Amount must be positive"),remarks:E().required("Remarks are required"),Attachments:Gt()}),d5={fromBudgetId:"",toBudgetId:"",transferAmount:0,remarks:"",fromBudget:null,toBudget:null,Attachments:[]};function C7e({initialData:t,onSubmit:e,onClose:r,budgetOptions:n}){const[a,s]=w.useState({...d5}),i=async(u,{setSubmitting:d})=>{var y;if(u.fromBudgetId===u.toBudgetId){B.error("Source and target budgets cannot be the same"),d(!1);return}const f=n.find(g=>g.ID.toString()===u.fromBudgetId),m=parseFloat((f==null?void 0:f.AppropriationBalance)||0),p=parseFloat(u.transferAmount||0);if(p<=0){B.error("Transfer amount must be positive"),d(!1);return}if(p>m){B.error(`Transfer amount (${p}) exceeds available balance (${m})`),d(!1);return}const h=new FormData;h.append("BudgetID",u.fromBudgetId),h.append("TargetID",u.toBudgetId),h.append("Transfer",u.transferAmount),h.append("Remarks",u.remarks),((y=u.Attachments)==null?void 0:y.length)>0?u.Attachments.forEach((g,b)=>{g.ID?h.append(`Attachments[${b}].ID`,g.ID):h.append(`Attachments[${b}].File`,g)}):h.append("Attachments","[]"),t!=null&&t.LinkID?(h.append("LinkID",t==null?void 0:t.LinkID),h.append("IsNew",!1)):h.append("IsNew",!0);try{await e(h)}catch(g){B.error("Submission failed: "+g.message)}finally{d(!1)}},l=(u,d,f)=>{const m=Array.from(u.target.files);d("Attachments",[...f.Attachments,...m])},c=(u,d,f)=>{const m=[...f.Attachments];m.splice(u,1),d("Attachments",m)};return w.useEffect(()=>{var u,d;s(t?{fromBudgetId:((u=t==null?void 0:t.BudgetID)==null?void 0:u.toString())||"",toBudgetId:((d=t==null?void 0:t.TargetID)==null?void 0:d.toString())||"",transferAmount:parseFloat(t==null?void 0:t.Total)||0,remarks:(t==null?void 0:t.Remarks)||"",fromBudget:n.find(f=>f.ID===(t==null?void 0:t.BudgetID))||null,toBudget:n.find(f=>f.ID===(t==null?void 0:t.TargetID))||null,Attachments:t.Attachments||[]}:d5)},[t,n]),o.jsx(Re,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:N7e,children:({values:u,errors:d,touched:f,setFieldValue:m,handleChange:p,handleBlur:h,isSubmitting:y})=>{var g,b,v,j,C,x,N,S,A,I,k,D,_,M;return o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"From Budget"}),o.jsx(yt,{label:"Select Budget",name:"fromBudgetId",required:!0,selectedValue:u.fromBudgetId,onSelect:P=>{const O=n.find(L=>L.ID.toString()===P);m("fromBudgetId",P),m("fromBudget",O)},options:n.map(P=>{var O;return{label:`${P.Name} (${(O=P.FiscalYear)==null?void 0:O.Name})`,value:P.ID.toString()}}),error:f.fromBudgetId&&d.fromBudgetId}),u.fromBudget&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(T,{label:"Budget Name",name:"fromBudgetName",type:"text",value:u.fromBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fiscal Year",name:"fromFiscalYear",type:"text",value:(g=u.fromBudget.FiscalYear)==null?void 0:g.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Department",name:"fromDepartment",type:"text",value:((b=u.fromBudget.Department)==null?void 0:b.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Appropriation Balance",name:"fromBalance",type:"text",value:u.fromBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Sub Department",name:"fromSubDepartment",type:"text",value:((v=u.fromBudget.SubDepartment)==null?void 0:v.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Chart of Accounts",name:"fromChartOfAccounts",type:"text",value:((j=u.fromBudget.ChartofAccounts)==null?void 0:j.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fund",name:"fromFund",type:"text",value:((C=u.fromBudget.Funds)==null?void 0:C.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Project",name:"fromProject",type:"text",value:((x=u.fromBudget.Project)==null?void 0:x.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Appropriation",name:"fromAppropriation",type:"text",value:u.fromBudget.Appropriation||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Released Allotments",name:"fromReleasedAllotments",type:"text",value:u.fromBudget.Released||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Allotment Balance",name:"fromAllotmentBalance",type:"text",value:u.fromBudget.AllotmentBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})," ",o.jsx(T,{label:"Balance",name:"fromBalance",type:"text",value:u.fromBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"To Budget"}),o.jsx(yt,{label:"Select Budget",name:"toBudgetId",required:!0,selectedValue:u.toBudgetId,onSelect:P=>{const O=n.find(L=>L.ID.toString()===P);m("toBudgetId",P),m("toBudget",O)},options:n.map(P=>{var O;return{label:`${P.Name} (${(O=P.FiscalYear)==null?void 0:O.Name})`,value:P.ID.toString()}}),error:f.toBudgetId&&d.toBudgetId}),u.toBudget&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(T,{label:"Budget Name",name:"toBudgetName",type:"text",value:u.toBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fiscal Year",name:"toFiscalYear",type:"text",value:(N=u.toBudget.FiscalYear)==null?void 0:N.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Department",name:"toDepartment",type:"text",value:((S=u.toBudget.Department)==null?void 0:S.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Appropriation Balance",name:"toBalance",type:"text",value:u.toBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Sub Department",name:"toSubDepartment",type:"text",value:((A=u.toBudget.SubDepartment)==null?void 0:A.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Chart of Accounts",name:"toChartOfAccounts",type:"text",value:((I=u.toBudget.ChartofAccounts)==null?void 0:I.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fund",name:"toFund",type:"text",value:((k=u.toBudget.Funds)==null?void 0:k.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Project",name:"toProject",type:"text",value:((D=u.toBudget.Project)==null?void 0:D.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Appropriation",name:"toAppropriation",type:"text",value:u.toBudget.Appropriation||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Released Allotments",name:"toReleasedAllotments",type:"text",value:u.toBudget.Released||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Allotment Balance",name:"toAllotmentBalance",type:"text",value:u.toBudget.AllotmentBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Balance",name:"toBalance",type:"text",value:u.toBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(T,{name:"remarks",type:"textarea",label:"Remarks",onChange:p,onBlur:h,value:u.remarks,error:d.remarks,touched:f.remarks,required:!0}),o.jsx(T,{label:"Transfer Amount",name:"transferAmount",type:"number",onChange:p,onBlur:h,value:u.transferAmount,error:d.transferAmount,touched:f.transferAmount,required:!0,min:"0.01",step:"0.01"})]}),o.jsx("div",{className:"my-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:P=>l(P,m,u),className:"hidden",id:"file-upload"},((_=u.Attachments)==null?void 0:_.length)||0),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[o.jsx(tV,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((M=u==null?void 0:u.Attachments)==null?void 0:M.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:u.Attachments.map((P,O)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[o.jsxs("div",{className:"flex items-center min-w-0",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-sm truncate",children:P.ID?o.jsx("a",{href:`${w7e}/uploads/${P.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",title:P.name||P.DataName,children:P.name||P.DataName}):o.jsx("span",{title:P.name||P.DataName,children:P.name||P.DataName})})]}),o.jsx("button",{type:"button",onClick:()=>c(O,m,u),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:o.jsx(er,{className:"h-4 w-4"})})]},P.ID||O))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const Wb=F("budgetTransfer/fetchBudgetOptions",async()=>(await Ke.get("/budgetTransfer/budgetList")).data),Tc=F("budgetTransfer/fetchBudgetTransfers",async()=>(await Ke.get("/budgetTransfer/list")).data),hf=F("budgetTransfer/createBudgetTransfer",async t=>{const e=await Ke.post("/budgetTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}});return le.success("Budget transfer created successfully"),e.data}),fC=F("budgetTransfer/deleteBudgetTransfer",async t=>(await Ke.delete(`/budgetTransfer/${t}`),le.success("Budget transfer deleted successfully"),t)),S7e=ve({name:"budgetTransfer",initialState:{budgetOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Wb.pending,e=>{e.loading=!0,e.error=null}).addCase(Wb.fulfilled,(e,r)=>{e.loading=!1,e.budgetOptions=r.payload||[]}).addCase(Wb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to fetch budget options")}).addCase(Tc.pending,e=>{e.loading=!0,e.error=null}).addCase(Tc.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(Tc.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to fetch budget transfers")}).addCase(hf.pending,e=>{e.loading=!0,e.error=null}).addCase(hf.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(hf.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to create budget transfer")}).addCase(fC.pending,e=>{e.loading=!0,e.error=null}).addCase(fC.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(fC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to delete budget transfer")})}}),A7e=S7e.reducer,I7e=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=ce(),{Add:s,Edit:i}=we(27),{transfers:l,budgetOptions:c,loading:u,error:d}=q(y=>y.budgetTransfer);console.log(l,c,u,d),w.useEffect(()=>{a(Wb()),a(Tc())},[]);const f=y=>{n(y),e(!0)},m=async y=>{try{r?(await a(hf(y)).unwrap(),await a(Tc()).unwrap(),le.success("Transfer updated successfully")):(await a(hf(y)).unwrap(),await a(Tc()).unwrap(),le.success("Transfer created successfully")),e(!1)}catch(g){console.error("Error:",g),le.error("An error occurred")}},p=[{key:"InvoiceNumber",header:"Invoice #",sortable:!0},{key:"BudgetID",header:"Budget",sortable:!0,render:(y,g)=>{var b;return((b=g==null?void 0:g.Budget)==null?void 0:b.Name)||y||""}},{key:"Status",header:"Status",sortable:!0,render:y=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y==="Requested"?"bg-warning-100 text-warning-800":y==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:y})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,numeric:!0},{key:"Remarks",header:"Remarks",sortable:!1}],h=y=>{const g=[];return y.Status==="Rejected"&&i&&g.push({icon:va,title:"Edit",onClick:()=>f(y),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),g};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap ",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Transfer"}),o.jsx("p",{children:"Manage your budget transfers here"})]}),s&&o.jsxs("button",{onClick:()=>f(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2"}),"Add Transfer"]})]}),o.jsx(ye,{columns:p,data:l,actions:h,pagination:!0}),o.jsx(oe,{size:"xl",isOpen:t,onClose:()=>e(!1),title:r?"Edit Transfer":"Add New Transfer",children:o.jsx(C7e,{onSubmit:m,initialData:r,onClose:()=>e(!1),budgetOptions:c})})]})},k7e=ie({Code:E().required("Code is required"),Name:E().required("Name is required"),Description:E().required("Description is required"),Amount:Y().required("Amount is required").min(0,"Amount must be positive")}),f5={Code:"",Name:"",Description:"",Amount:0};function T7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=w.useState({...f5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return w.useEffect(()=>{t!=null&&t.ID?a({ID:(t==null?void 0:t.ID)||"",Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",Description:(t==null?void 0:t.Description)||"",Amount:(t==null?void 0:t.OriginalAmount)||""}):a(f5)},[t]),o.jsx(Re,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:k7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(T,{label:"Code",name:"Code",type:"text",onChange:u,onBlur:d,value:i.Code,error:l.Code,touched:c.Code,placeholder:"e.g., 1-01-01-010",required:!0}),o.jsx(T,{label:"Name",name:"Name",type:"text",onChange:u,onBlur:d,value:i.Name,error:l.Name,touched:c.Name,placeholder:"Enter Name ",required:!0}),o.jsx(T,{label:"Amount",name:"Amount",type:"text",onChange:u,onBlur:d,value:i.Amount,error:l.Amount,touched:c.Amount,placeholder:"Enter Amount ",required:!0}),o.jsx(T,{name:"Description",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.Description,error:l.Description,touched:c.Description,placeholder:"Enter Description",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const D7e=()=>{const t=ce(),{funds:e,loading:r}=q(b=>b.funds),[n,a]=w.useState(!1),[s,i]=w.useState(null),{Add:l,Edit:c,Delete:u}=we(48),d=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:b=>b||""},{key:"Name",header:"Name",sortable:!0,render:b=>o.jsx("span",{className:"font-medium",children:b||""})},{key:"Description",header:"Description",sortable:!0,render:b=>o.jsx("span",{className:"text-gray-600",children:b||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,render:b=>o.jsx("span",{className:"font-medium",children:b?f(b):""})}],f=b=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(b),h=[c&&{icon:va,title:"Edit",onClick:b=>{i(b),a(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Ya,title:"Delete",onClick:async b=>{await t(ob(b.ID)).unwrap(),t(Kt())},className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],y=async b=>{s?await t(sb(b)).unwrap():await t(ab(b)).unwrap(),t(Kt()),a(!1),i(null)},g=b=>{console.log("View row:",b)};return w.useEffect(()=>{t(Kt())},[t]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Funds"}),o.jsx("p",{children:"Manage budget funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:l&&o.jsxs("button",{type:"button",onClick:()=>{i(null),a(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:d,data:e,actions:h,loading:r,onRowClick:g})}),o.jsx(oe,{size:"sm",isOpen:n,onClose:()=>{a(!1),i(null)},title:s?"Edit Budget Fund":"Add New Budget Fund",children:o.jsx(T7e,{onSubmit:y,initialData:s,onClose:()=>{a(!1),i(null)}})})]})},E7e="https://staging-engine.testthelink.online",P7e=()=>{const t=ce(),{fiscalYears:e}=q(k=>k.fiscalYears),{funds:r}=q(k=>k.funds),{departments:n}=q(k=>k.departments),[a,s]=w.useState("appropriations"),[i,l]=w.useState([]),[c,u]=w.useState(!1),[d,f]=w.useState(""),[m,p]=w.useState(""),[h,y]=w.useState(""),[g,b]=w.useState(""),[v,j]=w.useState("");w.useEffect(()=>{t(un()),t(Kt()),t(sr())},[t]);const C=()=>({startDate:d,endDate:m,fiscalYearID:h,fundsID:g,departmentID:v}),x=()=>d&&m&&h&&g&&v,N=async k=>{if(!x()){le.error("Please select all filters");return}u(!0);try{s(k);const D=k==="appropriations"?"/statementOfAppropriations/view":"/statementOfAppropriations/viewSAO",_=await Ke.post(D,C());l(_.data)}catch{le.error("Failed to fetch data")}finally{u(!1)}},S=[{key:"Fund",header:"Fund"},{key:"Year",header:"Year"},{key:"Month End",header:"Month End"},{key:"Account Code",header:"Account Code"},{key:"ID",header:"ID"},{key:"Category",header:"Category"},{key:"Name",header:"Name"},{key:"Appropriation",header:"Appropriation",numeric:!0},{key:"Allotment",header:"Allotment",numeric:!0},{key:"Obligation",header:"Obligation",numeric:!0},{key:"Unobligated Appropriation",header:"Unobligated Appropriation",numeric:!0},{key:"Unobligated Allotment",header:"Unobligated Allotment",numeric:!0},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Requested By",header:"Requested By"},{key:"Position",header:"Position"}],A=[{key:"Date",header:"Date"},{key:"OBR No.",header:"OBR No."},{key:"Particulars",header:"Particulars"},{key:"Appropriation/ Allotment",header:"Appropriation/ Allotment",numeric:!0},{key:"Expenses",header:"Expenses",numeric:!0},{key:"Balance",header:"Balance",numeric:!0}],I=async()=>{if(!x()){le.error("Please select all filters");return}try{const k=await fetch(`${E7e}/statementOfAppropriations/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(C())});if(!k.ok)throw new Error("Server response was not ok");const D=await k.blob(),_=k.headers.get("Content-Disposition");let M="StatementOfAppropriations.xlsx";_&&_.includes("filename=")&&(M=_.split("filename=")[1].replace(/['"]/g,""));const P=window.URL.createObjectURL(D),O=document.createElement("a");O.href=P,O.download=M,document.body.appendChild(O),O.click(),document.body.removeChild(O),window.URL.revokeObjectURL(P)}catch(k){console.error("Export failed:",k),le.error(k.message||"Failed to export file")}};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header mb-4",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage budget allocations and balances"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Start Date"}),o.jsx("input",{type:"date",className:"form-input",value:d,onChange:k=>f(k.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"End Date"}),o.jsx("input",{type:"date",className:"form-input",value:m,onChange:k=>p(k.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fiscal Year"}),o.jsxs("select",{className:"form-select",value:h,onChange:k=>y(k.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),e.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fund"}),o.jsxs("select",{className:"form-select",value:g,onChange:k=>b(k.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Department"}),o.jsxs("select",{className:"form-select",value:v,onChange:k=>j(k.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),n.map(k=>o.jsx("option",{value:k.ID,children:k.Name},k.ID))]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 w-full  sm:grid-cols-3 gap-2 sm:w-max mb-4",children:[o.jsx("button",{onClick:()=>N("appropriations"),className:"btn btn-primary",children:"View"}),o.jsx("button",{onClick:()=>N("viewSAO"),className:"btn btn-primary",children:"View SAO"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAAOB"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAO"}),o.jsx("button",{className:"btn btn-outline",onClick:I,children:"Export to Excel"})]}),o.jsx(ye,{columns:a==="appropriations"?S:A,data:i,loading:c})]})},O7e=ie({fund:E().required("Fund is required"),code:E().required("Code is required"),name:E().required("Name is required"),desc:E().required("Description is required"),amount:Y().required("Amount is required").min(0,"Amount must be positive")}),m5={code:"",name:"",fund:"",desc:"",amount:0};function _7e({initialData:t,onSubmit:e,onClose:r,funds:n}){const[a,s]=w.useState({...m5}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return w.useEffect(()=>{t!=null&&t.ID?s({id:t==null?void 0:t.ID,code:t==null?void 0:t.Code,name:t==null?void 0:t.Name,desc:t==null?void 0:t.Description,amount:t==null?void 0:t.Amount,fund:t==null?void 0:t.FundsID}):s(m5)},[t]),o.jsx(Re,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:O7e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(T,{label:"Code",name:"code",type:"text",placeholder:"Enter code",onChange:d,onBlur:f,value:l.code,error:c.code,touched:u.code,required:!0}),o.jsx(T,{label:"Name",name:"name",type:"text",placeholder:"Enter name",onChange:d,onBlur:f,value:l.name,error:c.name,touched:u.name,required:!0}),o.jsx(T,{label:"Amount",name:"amount",type:"text",placeholder:"Enter amount",onChange:d,onBlur:f,value:l.amount,error:c.amount,touched:u.amount,required:!0}),o.jsx(T,{label:"Fund",name:"fund",type:"select",placeholder:"Select fund",onChange:d,onBlur:f,value:l.fund,error:c.fund,touched:u.fund,options:n,required:!0}),o.jsx(T,{name:"desc",type:"textarea",label:"Description",placeholder:"Enter description",onChange:d,onBlur:f,value:l.desc,error:c.desc,touched:u.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const $7e=()=>{const t=ce(),{subFunds:e,isLoading:r}=q(C=>C.subFunds),{funds:n,loading:a}=q(C=>C.funds),[s,i]=w.useState(!1),[l,c]=w.useState(null),{Add:u,Edit:d,Delete:f}=we(97),m=[{key:"FundsID",header:"Funds ID",sortable:!0,className:"font-medium text-neutral-900",render:C=>C||""},{key:"Code",header:"Code",sortable:!0,render:C=>o.jsx("span",{className:"font-medium",children:C||""})},{key:"Name",header:"Name",sortable:!0,render:C=>o.jsx("span",{className:"font-medium",children:C||""})},{key:"Description",header:"Description",sortable:!0,render:C=>o.jsx("span",{className:"text-gray-600",children:C||"No description"})},{key:"Amount",header:"Amount",sortable:!0,className:"text-right",render:C=>o.jsx("span",{className:"font-medium",children:C?h(C):""})}],p=[d&&{icon:va,title:"Edit",onClick:C=>b(C),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},f&&{icon:Ya,title:"Delete",onClick:C=>y(C),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],h=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C),y=async C=>{try{await t(Rb(C.ID)).unwrap(),le.success("Sub fund deleted successfully")}catch(x){le.error(x.payload||"Failed to delete sub fund"),console.error(x)}},g=async C=>{try{if(l){const x={IsNew:!1,ID:l.ID,FundsID:C.fund,Code:C.code,Name:C.name,Description:C.desc,Amount:C.amount};await t(iI(x)).unwrap(),le.success("Sub fund updated successfully")}else{const x={IsNew:!0,FundsID:C.fund,Code:C.code,Name:C.name,Description:C.desc,Amount:C.amount};await t($b(x)).unwrap(),le.success("Sub fund added successfully")}t(lf()),i(!1),c(null)}catch(x){le.error(x.payload||"Failed to save sub fund"),console.error(x)}},b=C=>{c(C),i(!0)},v=C=>{console.log("View row:",C)};w.useEffect(()=>{t(lf()),t(Kt())},[t]);const j=n==null?void 0:n.map(C=>({value:C.ID,label:C.Name}));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Sub Funds"}),o.jsx("p",{children:"Manage budget sub funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:u&&o.jsxs("button",{type:"button",onClick:()=>b(null),className:"btn btn-primary max-sm:w-full ",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:m,data:e,actions:p,loading:r||a,onRowClick:v})}),o.jsx(oe,{size:"sm",isOpen:s,onClose:()=>i(!1),title:l?"Edit Sub Fund":"Add New Sub Fund",children:o.jsx(_7e,{onSubmit:g,initialData:l,funds:j,onClose:()=>i(!1)})})]})},R7e="https://staging-engine.testthelink.online",M7e=ie({fromFundId:E().required("Source fund is required"),toFundId:E().required("Target fund is required"),transferAmount:Y().required("Amount is required").min(.01,"Amount must be positive"),remarks:E().required("Remarks are required"),Attachments:Gt()}),mC={fromFundId:"",toFundId:"",transferAmount:0,remarks:"",fromFund:null,toFund:null,Attachments:[]};function L7e({initialData:t,onSubmit:e,onClose:r,fundOptions:n}){const[a,s]=w.useState({...mC});w.useEffect(()=>{s(t?i(t):mC)},[t]);const i=f=>f?{fromFundId:f.FundsID||"",toFundId:f.TargetID||"",transferAmount:parseFloat(f.Total)||0,remarks:f.Remarks||"",fromFund:f.Funds||null,toFund:f.targetFunds||null,Attachments:f.Attachments||[]}:mC,l=async(f,{setSubmitting:m})=>{if(f.fromFundId===f.toFundId){B.error("Source and target funds cannot be the same"),m(!1);return}const p=n.find(b=>b.ID===f.fromFundId);if(!p){B.error("Source fund not found"),m(!1);return}const h=parseFloat(p.Balance||0),y=parseFloat(f.transferAmount||0);if(y<=0){B.error("Transfer amount must be positive"),m(!1);return}if(y>h){B.error(`Transfer amount (${y}) exceeds available balance (${h})`),m(!1);return}const g=new FormData;g.append("FundsID",f.fromFundId),g.append("TargetID",f.toFundId),g.append("Transfer",y),g.append("Remarks",f.remarks),f.Attachments&&f.Attachments.length>0?f.Attachments.forEach((b,v)=>{b.ID?g.append(`Attachments[${v}].ID`,b.ID):g.append(`Attachments[${v}].File`,b)}):g.append("Attachments","[]"),t!=null&&t.LinkID?(g.append("LinkID",t==null?void 0:t.LinkID),g.append("IsNew",!1)):g.append("IsNew",!0);try{await e(g)}catch(b){B.error("Submission failed: "+b.message)}finally{m(!1)}},c=(f,m)=>{const p=n.find(h=>h.ID===m);return{[`${f}Id`]:m,[f]:p}},u=(f,m,p)=>{const y=Array.from(f.target.files).map(g=>g);console.log(y,p),m("Attachments",[...p.Attachments,...y])},d=(f,m,p)=>{const h=[...p.Attachments];h.splice(f,1),m("Attachments",h)};return o.jsx(Re,{enableReinitialize:!0,onSubmit:l,initialValues:a,validationSchema:M7e,children:({values:f,errors:m,touched:p,setFieldValue:h,handleChange:y,handleBlur:g,isSubmitting:b})=>{var v,j;return o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"From"}),o.jsx(yt,{label:"Select Fund",name:"fromFundId",required:!0,selectedValue:f.fromFundId,onSelect:C=>{const x=c("fromFund",C);h("fromFundId",x.fromFundId),h("fromFund",x.fromFund)},options:n.map(C=>({label:`${C.Code} - ${C.Name}`,value:C.ID})),error:p.fromFundId&&m.fromFundId}),f.fromFund&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(T,{label:"Fund Code",name:"fromCode",type:"text",value:f.fromFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fund Name",name:"fromName",type:"text",value:f.fromFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Available Balance",name:"fromBalance",type:"text",value:f.fromFund.Balance||"0",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"To"}),o.jsx(yt,{label:"Select Fund",name:"toFundId",required:!0,selectedValue:f.toFundId,onSelect:C=>{const x=c("toFund",C);h("toFundId",x.toFundId),h("toFund",x.toFund)},options:n.map(C=>({label:`${C.Code} - ${C.Name}`,value:C.ID})),error:p.toFundId&&m.toFundId}),f.toFund&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(T,{label:"Fund Code",name:"toCode",type:"text",value:f.toFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Fund Name",name:"toName",type:"text",value:f.toFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(T,{label:"Available Balance",name:"toBalance",type:"text",value:f.toFund.Balance||"0",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(T,{name:"remarks",type:"textarea",label:"Remarks",onChange:y,onBlur:g,value:f.remarks,error:m.remarks,touched:p.remarks,required:!0}),o.jsx(T,{label:"Transfer Amount",name:"transferAmount",type:"number",onChange:y,onBlur:g,value:f.transferAmount,error:m.transferAmount,touched:p.transferAmount,required:!0,min:"0.01",step:"0.01"})]}),o.jsx("div",{className:"my-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:C=>u(C,h,f),className:"hidden",id:"file-upload"},((v=f.Attachments)==null?void 0:v.length)||0),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[o.jsx(tV,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((j=f==null?void 0:f.Attachments)==null?void 0:j.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:f.Attachments.map((C,x)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[o.jsxs("div",{className:"flex items-center min-w-0",children:[o.jsx(Ds,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-sm truncate",children:C.ID?o.jsx("a",{href:`${R7e}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",title:C.name||C.DataName,children:C.name||C.DataName}):o.jsx("span",{title:C.name||C.DataName,children:C.name||C.DataName})})]}),o.jsx("button",{type:"button",onClick:()=>d(x,h,f),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:o.jsx(er,{className:"h-4 w-4"})})]},C.ID||x))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const Hb=F("fundTransfer/fetchFundOptions",async()=>(await Ke.get("/fundTransfer/fundList")).data),Dc=F("fundTransfer/fetchFundTransfers",async()=>(await Ke.get("/fundTransfer/list")).data),pf=F("fundTransfer/createFundTransfer",async t=>{const e=await Ke.post("/fundTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}});return le.success("Fund transfer created successfully"),e.data}),hC=F("fundTransfer/deleteFundTransfer",async t=>(await Ke.delete(`/fundTransfer/${t}`),le.success("Fund transfer deleted successfully"),t)),F7e=ve({name:"fundTransfer",initialState:{fundOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Hb.pending,e=>{e.loading=!0,e.error=null}).addCase(Hb.fulfilled,(e,r)=>{e.loading=!1,e.fundOptions=r.payload||[]}).addCase(Hb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to fetch fund options")}).addCase(Dc.pending,e=>{e.loading=!0,e.error=null}).addCase(Dc.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(Dc.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to fetch fund transfers")}).addCase(pf.pending,e=>{e.loading=!0,e.error=null}).addCase(pf.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(pf.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to create fund transfer")}).addCase(hC.pending,e=>{e.loading=!0,e.error=null}).addCase(hC.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(hC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to delete fund transfer")})}}),B7e=F7e.reducer,q7e=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=ce(),{Add:s,Edit:i}=we(46),{transfers:l,fundOptions:c,loading:u,error:d}=q(g=>g.fundTransfer);w.useEffect(()=>{a(Hb()),a(Dc())},[]);const f=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0,className:"font-medium text-neutral-900",render:g=>g||""},{key:"FundsID",header:"Fund Source",sortable:!0,render:(g,b)=>{var v;return o.jsx("span",{className:"text-gray-600",children:((v=b==null?void 0:b.Funds)==null?void 0:v.Name)||g||""})}},{key:"TargetID",header:"Fund Target",sortable:!0,render:(g,b)=>{var v;return o.jsx("span",{className:"text-gray-600",children:((v=b==null?void 0:b.targetFunds)==null?void 0:v.Name)||g||""})}},{key:"Status",header:"Status",sortable:!0,render:g=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${g==="Requested"?"bg-warning-100 text-warning-800":g==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:g})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:g=>o.jsx("span",{className:"font-medium",children:g||""})},{key:"Total",header:"Total",sortable:!0,render:g=>o.jsx("span",{className:"font-medium",children:g||""})},{key:"Remarks",header:"Remarks",sortable:!0,render:g=>o.jsx("span",{className:"font-medium",children:g||""})}],m=g=>{const b=[];return g.Status==="Rejected"&&i&&b.push({icon:va,title:"Edit",onClick:()=>h(g),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),b},p=async g=>{try{r?(await a(pf(g)).unwrap(),await a(Dc()).unwrap(),B.success("Transfer updated successfully")):(await a(pf(g)).unwrap(),await a(Dc()).unwrap(),B.success("Transfer created successfully")),e(!1)}catch(b){console.error("Error:",b),B.error("An error occurred")}},h=g=>{n(g),e(!0)},y=g=>{console.log("View transfer:",g)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Transfer"}),o.jsx("p",{children:"Manage fund transfers between accounts"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:s&&o.jsxs("button",{type:"button",onClick:()=>h(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Transfer"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:f,data:l,actions:m,loading:u,onRowClick:y})}),o.jsx(oe,{size:"xl",isOpen:t,onClose:()=>e(!1),title:r?"Edit Fund Transfer":"Add Fund Transfer",children:o.jsx(L7e,{onSubmit:p,initialData:r,onClose:()=>e(!1),fundOptions:c})})]})},V7e=ie().shape({reportType:E().required("Report type is required"),date:Le().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:E().required("Action is required"),month:Y().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:Y().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:Y().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Le().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Le().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(cl("fromDate"),"To date must be after from date")}),notedBy:E().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function U7e({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!1,marriageCert:!1,burialCert:!1,generalService:!1,propertyTax:!1,marketTicketing:!1}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,f,m,p)=>{switch(e){case"daily":return o.jsx(T,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:p,value:m.date,error:d.date,touched:f.date});case"monthly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Month",name:"month",type:"select",options:s,value:m.month,onChange:p,required:!0,error:d.month,touched:f.month}),o.jsx(T,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:m.year,onChange:p,error:d.year,touched:f.year})]});case"quarterly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"Quarter",name:"quarter",type:"select",options:i,value:m.quarter,onChange:p,required:!0,error:d.quarter,touched:f.quarter}),o.jsx(T,{label:"Year",name:"year",type:"number",required:!0,value:m.year,onChange:p,min:2e3,max:2100,error:d.year,touched:f.year})]});case"flexible":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(T,{label:"From Date",name:"fromDate",type:"date",required:!0,value:m.fromDate,onChange:p,error:d.fromDate,touched:f.fromDate}),o.jsx(T,{label:"To Date",name:"toDate",type:"date",required:!0,value:m.toDate,onChange:p,error:d.toDate,touched:f.toDate})]}),o.jsx(T,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:m.notedBy,onChange:p,error:d.notedBy,touched:f.notedBy})]});default:return null}},u=(d,{setSubmitting:f,setErrors:m})=>{try{const p={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let h={};switch(d.reportType){case"daily":h={date:d.date};break;case"monthly":h={month:d.month,year:d.year};break;case"quarterly":h={quarter:d.quarter,year:d.year};break;case"flexible":h={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const y={...p,...h};t({...d,action:d.action,params:y})}catch(p){console.error("Error submitting form:",p),m({submit:p.message})}finally{f(!1)}};return o.jsx(Re,{initialValues:n,validationSchema:V7e,onSubmit:u,children:({values:d,errors:f,touched:m,setFieldValue:p,handleSubmit:h,handleChange:y,setErrors:g,isSubmitting:b})=>o.jsxs(Be,{className:"space-y-4",children:[function(){console.log(e,d,f)}(),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(v=>o.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===v.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(v.value),p("reportType",v.value)},children:v.label},v.value))}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(f,m,d,y)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(v=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`document-${v.name}`,name:`documentTypes.${v.name}`,checked:d.documentTypes[v.name],onChange:j=>{p(`documentTypes.${v.name}`,j.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`document-${v.name}`,className:"ml-2 block text-sm text-gray-700",children:v.label})]},v.name))})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[o.jsx("button",{type:"button",onClick:()=>{p("action","view"),h(),g({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),o.jsx("button",{type:"button",onClick:()=>{p("action","generate"),h()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),o.jsx("button",{type:"button",onClick:()=>{p("action","export"),h()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const l9="https://staging-engine.testthelink.online",z7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n=`${l9}/collectionreport/${t}?`;const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":a.append("date",e.date);break;case"monthly":a.append("month",e.month),a.append("year",e.year);break;case"quarterly":a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":a.append("startdate",e.startDate),a.append("enddate",e.endDate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=a.toString();const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await s.json();if(!s.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},W7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n="";const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",a.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",a.append("month",e.month),a.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",a.append("startdate",e.startdate),a.append("enddate",e.enddate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}const s=`${l9}${n}?${a.toString()}`,i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const p=await i.json();throw new Error(p.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,f=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let m="";switch(t){case"daily":m=`Daily_Report_${e.date.replace(/-/g,"")}_${f}.xlsx`;break;case"monthly":m=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${f}.xlsx`;break;case"quarterly":m=`Quarterly_Report_Q${e.quarter}_${e.year}_${f}.xlsx`;break;case"flexible":m=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${f}.xlsx`;break}u.setAttribute("download",m),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}};function H7e(){const[t,e]=w.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=w.useState("daily"),[a,s]=w.useState(!1),i=async c=>{s(!0),console.log("Form data:",c);try{switch(c.action){case"view":const u=await z7e(c.reportType,c.params);e(d=>({...d,[c.reportType]:u})),n(c.reportType),console.log(u);break;case"generate":setCollectionData([]);case"export":await W7e(c.reportType,c.params);break;default:break}}catch(u){console.error("Error handling collection report action:",u),B.error("Failed to handle collection report action.")}finally{s(!1)}},l={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:c=>c||"-"},{key:"FundsID",header:"Funds ID",render:c=>c||"-"},{key:"Name",header:"Name",render:c=>c||"-"},{key:"Account",header:"Account",render:c=>c||"-"},{key:"SubTotal",header:"Sub-Total",render:c=>c.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:c=>new Date(c).toLocaleDateString()},{key:"FullName",header:"Full Name",render:c=>c||"-"},{key:"Position",header:"Position",render:c=>c||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.Date1} to ${u.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(c,u)=>`Q1: ${u.First} | Q2: ${u.Second} | Q3: ${u.Third}`},{key:"Total",header:"Total",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.StartDate} to ${u.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(c,u)=>`${u.Prepare} (${u.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(c,u)=>`${u.Poster} (${u.NotedPosition})`},{key:"Note",header:"Remarks"}]};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(U7e,{onSubmitCollectionReport:i,activeReportType:r,setActiveReportType:n})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:l[r],data:t[r],loading:a,emptyMessage:"No collection entries found for the selected date."})})]})}const G7e=ie().shape({StartDate:Le().required("From Date is required").max(cl("EndDate"),"From Date must be before or equal to To Date"),EndDate:Le().required("To Date is required").min(cl("StartDate"),"To Date must be after or equal to From Date"),fund:E().required("Fund is required")});function Y7e({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=q(i=>i.funds),n=ce();w.useEffect(()=>{n(Kt())},[n]);const a=r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})),s=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund};delete c.fund,t(c),l(!1)};return o.jsx(Re,{initialValues:e,validationSchema:G7e,onSubmit:s,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(T,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:f,error:l.StartDate,touched:c.StartDate}),o.jsx(T,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:f,error:l.EndDate,touched:c.EndDate}),o.jsx(T,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:f,error:l.fund,touched:c.fund,options:a})]}),o.jsxs("div",{className:"flex justify-end  max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),o.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),o.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const c9="https://staging-engine.testthelink.online",K7e=async t=>{try{const e=localStorage.getItem("token"),r=`${c9}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch cashbook data");return a}catch(e){throw console.error("Error fetching cashbook:",e),e}},J7e=async t=>{try{const e=localStorage.getItem("token"),r=`${c9}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const m=await n.json();throw new Error(m.message||"Failed to export cashbook")}const a=await n.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,f=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",f),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}catch(e){throw console.error("Error exporting cashbook:",e),e}};function X7e(){const[t,e]=w.useState([]),[r,n]=w.useState(!1),a=async i=>{n(!0);const{action:l,...c}=i;try{switch(l){case"view":const u=await K7e(c);e(u);break;case"generate":break;case"export":await J7e(c);break;default:break}}catch(u){console.error("Error handling cashbook action:",u)}finally{n(!1)}},s=[{key:"Year",header:"Year",render:i=>i||"-"},{key:"Officer",header:"Officer",render:i=>i||"-"},{key:"Fund",header:"Fund",render:i=>i||"-"},{key:"InvoiceDate",header:"Invoice Date",render:i=>i?new Date(i).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:i=>i||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:i=>i||"-"},{key:"Debit",header:"Debit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(Y7e,{onSubmit:a})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:s,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})})]})}function Q7e(){const{isAuthenticated:t,isLoading:e}=q(a=>a.auth),r=ce(),n=Wo();return w.useEffect(()=>{const a=localStorage.getItem("token");a&&r(Up(a))},[r]),w.useEffect(()=>{},[n.pathname]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(rJ,{position:"top-right"}),o.jsxs(aY,{children:[o.jsxs(ue,{element:o.jsx(_Z,{}),children:[o.jsx(ue,{path:"/login",element:t?o.jsx(Ql,{to:"/",replace:!0}):o.jsx(dae,{})}),o.jsx(ue,{path:"/register",element:t?o.jsx(Ql,{to:"/",replace:!0}):o.jsx(fae,{})}),o.jsx(ue,{path:"/forgot-password",element:t?o.jsx(Ql,{to:"/",replace:!0}):o.jsx(mae,{})}),o.jsx(ue,{path:"/reset-password",element:t?o.jsx(Ql,{to:"/",replace:!0}):o.jsx(hae,{})})]}),o.jsxs(ue,{element:o.jsx(OZ,{}),children:[o.jsx(ue,{path:"/dashboard",element:o.jsx(Cce,{})}),o.jsx(ue,{path:"/profile",element:o.jsx(w0e,{})}),o.jsx(ue,{path:"/budget-dashboard",element:o.jsx(Yze,{})}),o.jsx(ue,{path:"/disbursement-dashboard",element:o.jsx(Kze,{})}),o.jsx(ue,{path:"/collection-dashboard",element:o.jsx(Jze,{})}),o.jsx(ue,{path:"/settings/departments",element:o.jsx(Bue,{})}),o.jsx(ue,{path:"/settings/customer",element:o.jsx(bpe,{})}),o.jsx(ue,{path:"/settings/lgu-maintenance",element:o.jsx(ONe,{})}),o.jsx(ue,{path:"/settings/subdepartments",element:o.jsx(sde,{})}),o.jsx(ue,{path:"/settings/modules",element:o.jsx(ime,{})}),o.jsx(ue,{path:"/settings/users",element:o.jsx(gde,{})}),o.jsx(ue,{path:"/settings/user-roles",element:o.jsx(Sme,{})}),o.jsx(ue,{path:"/settings/user-access",element:o.jsx(s1e,{})}),o.jsx(ue,{path:"/settings/chart-of-accounts",element:o.jsx(dfe,{})}),o.jsx(ue,{path:"/settings/account-group",element:o.jsx(mfe,{})}),o.jsx(ue,{path:"/settings/major-account-group",element:o.jsx(pfe,{})}),o.jsx(ue,{path:"/settings/sub-major-account-group",element:o.jsx(yfe,{})}),o.jsx(ue,{path:"/settings/vendors",element:o.jsx(Kfe,{})}),o.jsx(ue,{path:"/settings/vendor-customer-type",element:o.jsx(eme,{})}),o.jsx(ue,{path:"/settings/vendor-type",element:o.jsx(rme,{})}),o.jsx(ue,{path:"/settings/employees",element:o.jsx(xme,{})}),o.jsx(ue,{path:"/settings/employmentStatus",element:o.jsx(jme,{})}),o.jsx(ue,{path:"/settings/positions",element:o.jsx(Nme,{})}),o.jsx(ue,{path:"/settings/nationalities",element:o.jsx(Ime,{})}),o.jsx(ue,{path:"/settings/locations",element:o.jsx(Eme,{})}),o.jsx(ue,{path:"/settings/ppe",element:o.jsx(Hme,{})}),o.jsx(ue,{path:"/settings/ppe-categories",element:o.jsx(Yme,{})}),o.jsx(ue,{path:"/settings/ppe-suppliers",element:o.jsx(Jme,{})}),o.jsx(ue,{path:"/settings/approval-matrix",element:o.jsx(ohe,{})}),o.jsx(ue,{path:"/settings/bank",element:o.jsx(fhe,{})}),o.jsx(ue,{path:"/settings/currency",element:o.jsx(Wue,{})}),o.jsx(ue,{path:"/settings/document-details",element:o.jsx(bhe,{})}),o.jsx(ue,{path:"/settings/document-type-categories",element:o.jsx(vhe,{})}),o.jsx(ue,{path:"/settings/items",element:o.jsx(khe,{})}),o.jsx(ue,{path:"/settings/items/invoice-charge-accounts",element:o.jsx(Rhe,{})}),o.jsx(ue,{path:"/settings/items/units",element:o.jsx(Lhe,{})}),o.jsx(ue,{path:"/settings/project-type",element:o.jsx(Uhe,{})}),o.jsx(ue,{path:"/settings/financial-statement",element:o.jsx(Zhe,{})}),o.jsx(ue,{path:"/settings/fiscal-year",element:o.jsx(ape,{})}),o.jsx(ue,{path:"/settings/tax-code",element:o.jsx(ipe,{})}),o.jsx(ue,{path:"/settings/mode-of-payment",element:o.jsx(cpe,{})}),o.jsx(ue,{path:"/settings/payment-terms",element:o.jsx(dpe,{})}),o.jsx(ue,{path:"/settings/industry",element:o.jsx(mpe,{})}),o.jsx(ue,{path:"/settings/project-details",element:o.jsx(Yhe,{})}),o.jsx(ue,{path:"/settings/tax-declaration",element:o.jsx(Spe,{})}),o.jsx(ue,{path:"/settings/base-unit-value",element:o.jsx($pe,{})}),o.jsx(ue,{path:"/settings/general-revision",element:o.jsx(Dpe,{})}),o.jsx(ue,{path:"/disbursement/obligation-requests",element:o.jsx(N0e,{})}),o.jsx(ue,{path:"/disbursement/vouchers",element:o.jsx(T0e,{})}),o.jsx(ue,{path:"/disbursement/travel-orders",element:o.jsx($0e,{})}),o.jsx(ue,{path:"/disbursement/journal-entry-vouchers",element:o.jsx(q0e,{})}),o.jsx(ue,{path:"/disbursement/disbursement-journals",element:o.jsx(G0e,{})}),o.jsx(ue,{path:"/disbursement/general-journals",element:o.jsx(Z0e,{})}),o.jsx(ue,{path:"/disbursement/beginning-balance",element:o.jsx(oje,{})}),o.jsx(ue,{path:"/disbursement/purchase-requests",element:o.jsx(mje,{})}),o.jsx(ue,{path:"/disbursement/fund-utilization-requests",element:o.jsx(vje,{})}),o.jsx(ue,{path:"/collections/community-tax",element:o.jsx(Cje,{})}),o.jsx(ue,{path:"/collections/community-tax-corporation",element:o.jsx(kje,{})}),o.jsx(ue,{path:"/collections/real-property-tax",element:o.jsx(a7e,{})}),o.jsx(ue,{path:"/collections/market",element:o.jsx(Tje,{})}),o.jsx(ue,{path:"/collections/general-service-receipts",element:o.jsx(r7e,{})}),o.jsx(ue,{path:"/collections/burial-service-receipts",element:o.jsx($je,{})}),o.jsx(ue,{path:"/collections/marriage-service-receipts",element:o.jsx(qje,{})}),o.jsx(ue,{path:"/collections/cashbook",element:o.jsx(X7e,{})}),o.jsx(ue,{path:"/collections/reports",element:o.jsx(H7e,{})}),o.jsx(ue,{path:"/collections/public-market-tickets",element:o.jsx(hNe,{})}),o.jsx(ue,{path:"/budget",element:o.jsx(ANe,{})}),o.jsx(ue,{path:"/budget/allotment",element:o.jsx(h7e,{})}),o.jsx(ue,{path:"/budget/details",element:o.jsx(p7e,{})}),o.jsx(ue,{path:"/budget/new",element:o.jsx(wNe,{})}),o.jsx(ue,{path:"/budget/summary",element:o.jsx(g7e,{})}),o.jsx(ue,{path:"/budget/supplemental",element:o.jsx(j7e,{})}),o.jsx(ue,{path:"/budget/transfer",element:o.jsx(I7e,{})}),o.jsx(ue,{path:"/budget/report",element:o.jsx(dR,{})}),o.jsx(ue,{path:"/budget/funds",element:o.jsx(D7e,{})}),o.jsx(ue,{path:"/budget/sub-funds",element:o.jsx($7e,{})}),o.jsx(ue,{path:"/budget/fund-transfer",element:o.jsx(q7e,{})}),o.jsx(ue,{path:"/budget/statement-comparison",element:o.jsx(PNe,{})}),o.jsx(ue,{path:"/budget/statement-appropriation",element:o.jsx(P7e,{})}),o.jsx(ue,{path:"/applications/business-permits",element:o.jsx($Ne,{})}),o.jsx(ue,{path:"/applications/cheque-generator",element:o.jsx(LNe,{})}),o.jsx(ue,{path:"/reports/general-ledger",element:o.jsx(WNe,{})}),o.jsx(ue,{path:"/reports/subsidiary-ledger",element:o.jsx(XNe,{})}),o.jsx(ue,{path:"/reports/financial-statements",element:o.jsx(n1e,{})}),o.jsx(ue,{path:"/reports/budget",element:o.jsx(dR,{})}),o.jsx(ue,{path:"/reports/bir",element:o.jsx(a1e,{})}),o.jsx(ue,{path:"/reports/trial-balance",element:o.jsx(u7e,{})}),o.jsx(ue,{path:"/change-password",element:o.jsx(o1e,{})})]}),o.jsx(ue,{path:"/",element:o.jsx(h5,{isAuthenticated:t,isLoading:e})}),o.jsx(ue,{path:"*",element:o.jsx(h5,{isAuthenticated:t,isLoading:e})})]})]})}function h5({isAuthenticated:t,isLoading:e}){return e?null:t?o.jsx(Ql,{to:"/dashboard",replace:!0}):o.jsx(Ql,{to:"/login",replace:!0})}const u9=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],Z7e={vendors:u9,vendor:null,isLoading:!1,error:null},pC=F("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(u9)},500)})}catch(r){return e.rejectWithValue(r.message)}}),gC=F("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),yC=F("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),d9=ve({name:"vendors",initialState:Z7e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(pC.pending,e=>{e.isLoading=!0}).addCase(pC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(pC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gC.pending,e=>{e.isLoading=!0}).addCase(gC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(gC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yC.pending,e=>{e.isLoading=!0}).addCase(yC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(yC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:v9e,resetVendorState:j9e}=d9.actions,e8e=d9.reducer,t8e="https://staging-engine.testthelink.online",r8e={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},bC=F("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${t8e}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),n8e=ve({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(bC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(bC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=r8e})}}),a8e=n8e.reducer,xC=F("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await rt.get("/api/general-service-receipts")).data),vC=F("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await rt.post("/api/general-service-receipts",t)).data),jC=F("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await rt.put(`/api/general-service-receipts/${t}`,e)).data),wC=F("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await rt.delete(`/api/general-service-receipts/${t}`),t)),s8e={receipts:[],loading:!1,error:null},f9=ve({name:"generalServiceReceipts",initialState:s8e,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(xC.pending,e=>{e.loading=!0,e.error=null}).addCase(xC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(xC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(vC.pending,e=>{e.loading=!0,e.error=null}).addCase(vC.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(vC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(jC.pending,e=>{e.loading=!0,e.error=null}).addCase(jC.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(jC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(wC.pending,e=>{e.loading=!0,e.error=null}).addCase(wC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(wC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:w9e}=f9.actions,o8e=f9.reducer,NC=F("realPropertyTax/fetchRealPropertyTaxes",async()=>new Promise(t=>{setTimeout(()=>{t([{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"active"}])},1e3)})),CC=F("realPropertyTax/createRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e({id:Date.now(),...t})},1e3)})),SC=F("realPropertyTax/updateRealPropertyTax",async({id:t,data:e})=>new Promise(r=>{setTimeout(()=>{r({id:t,...e})},1e3)})),AC=F("realPropertyTax/deleteRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e(t)},1e3)})),i8e={realPropertyTaxes:[],isLoading:!1,error:null},l8e=ve({name:"realPropertyTax",initialState:i8e,reducers:{},extraReducers:t=>{t.addCase(NC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(NC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(CC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes.push(r.payload)}).addCase(CC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(SC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.realPropertyTaxes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.realPropertyTaxes[n]=r.payload)}).addCase(SC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(AC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=e.realPropertyTaxes.filter(n=>n.id!==r.payload)}).addCase(AC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),c8e=l8e.reducer,u8e=BY({reducer:{auth:fK,departments:Fue,currencies:Uue,subdepartments:Yue,users:lde,chartOfAccounts:xde,accountGroups:wde,majorAccountGroups:Sde,subMajorAccountGroups:kde,vendors:e8e,employees:dde,obligationRequests:Sxe,fundUtilizations:gje,disbursementVouchers:S0e,travelOrders:_0e,ppes:Vme,ppeCategories:_me,ppeSuppliers:Mme,approvalMatrix:she,banks:che,documentDetails:Zme,documentTypeCategories:yhe,items:Nhe,invoiceChargeAccounts:$he,itemUnits:Ahe,projectDetails:Ghe,projectTypes:Vhe,financialStatements:Qhe,fiscalYears:npe,taxCodes:Vfe,modeOfPayments:Yfe,paymentTerms:Wfe,industries:Ffe,employmentStatuses:mme,positions:ume,userroles:hde,nationalities:gme,vendorCustomerTypes:Zfe,vendorTypes:Rfe,journalEntries:B0e,purchaseRequests:fje,taxDeclarations:Cpe,baseUnits:_pe,regions:Cfe,provinces:Ife,municipalities:Dfe,barangays:Ofe,generalRevisions:kpe,modules:ome,generalServiceReceipts:o8e,disbursementJournal:H0e,beginningBalance:rje,generalJournal:Q0e,generalLedger:UNe,trialBalance:c7e,statementComparison:ENe,subsidiaryLedger:JNe,financialStatementsReports:r1e,fundTransfer:B7e,budgetTransfer:A7e,budget:c0e,subFunds:SNe,funds:o0e,budgetDashboard:a8e,vendorDetails:jfe,burialRecords:_je,marriageRecords:Bje,publicMarketTicketing:uNe,communityTax:Nje,corporateCommunityTax:Ije,generalReceipts:Qze,realPropertyTax:c8e,customers:ype},middleware:t=>t({serializableCheck:!1})});kC.createRoot(document.getElementById("root")).render(o.jsx(z.StrictMode,{children:o.jsx(iG,{store:u8e,children:o.jsx(dY,{children:o.jsx(Q7e,{})})})}))});export default d8e();
